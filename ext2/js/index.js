class Writer {
    constructor(size){
        this.dataView = new DataView(new ArrayBuffer(size))
        this.byteOffset = 0
    }
    writeUint8(value){
        this.dataView.setUint8(this.byteOffset++, value)
    }
    writeInt32(value){
        this.dataView.setInt32(this.byteOffset, value, true)
        this.byteOffset += 4
    }
    writeUint32(value){
        this.dataView.setUint32(this.byteOffset, value, true)
        this.byteOffset += 4
    }
    writeString(string){
        for(let i = 0; i < string.length; i++) this.writeUint8(string.charCodeAt(i))
        this.writeUint8(0)
    }
}
window.buffers = {

    mousePosition(x, y){
        const writer = new Writer(9)
        writer.writeUint8(6)
        writer.writeInt32(x)
        writer.writeInt32(y)
        return writer.dataView.buffer
    }
}
window.connection = {
    ws: null,
    connect(){
        this.ws = new WebSocket(`wss://bots-arctida.gamingmail.repl.co`)
        this.ws.binaryType = 'arraybuffer'
        this.ws.onopen = this.onopen.bind(this)
        //this.ws.onmessage = this.onmessage.bind(this)
        this.ws.onclose = this.onclose.bind(this)
    },
    send(buffer){
        if(this.ws && this.ws.readyState === WebSocket.OPEN) this.ws.send(buffer)
    },
    onopen(){
        console.log('Connected to nodejs');
    },

    onclose(){
        console.log('Closed')
    }
}

!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"d",(function(){return U})),n.d(t,"b",(function(){return le})),n.d(t,"g",(function(){return de})),n.d(t,"h",(function(){return ye})),n.d(t,"o",(function(){return me})),n.d(t,"s",(function(){return ke})),n.d(t,"j",(function(){return ce})),n.d(t,"k",(function(){return _e})),n.d(t,"u",(function(){return ve})),n.d(t,"p",(function(){return he})),n.d(t,"n",(function(){return we})),n.d(t,"v",(function(){return ue})),n.d(t,"t",(function(){return be})),n.d(t,"q",(function(){return Se})),n.d(t,"r",(function(){return T})),n.d(t,"a",(function(){return j})),n.d(t,"l",(function(){return A})),n.d(t,"c",(function(){return B})),n.d(t,"e",(function(){return W})),n.d(t,"m",(function(){return ne})),n.d(t,"f",(function(){return V})),n.d(t,"i",(function(){return Pe})),n.d(t,"w",(function(){return Me}));var o=function(e){return e&&"object"===r(e)};function i(e,t,n,r,o){var i=r[e];if(null==i){var a=e.replace(/\{(\w+)\}/g,"{x}$1{x}").split("{x}");i=a.length>1?a:a[0],r[e]=i}return i=i.pop?function(e,t,n,r){for(var o=r.array?e.slice():e[0],i=e.length,a=1;a<i;a+=2){var s=e[a],l=t[s];null==l&&("n"===s&&null!=n?l=n:(r.debug&&console.warn('No "'+s+'" in placeholder object:',t),l="{"+s+"}")),r.array?o[a]=l:o+=l+e[a+1]}return o}(i,t,n,o):i}function a(e,t,n,r,a,s){a=a||{};var l=r[e],c=o(l),u=c||null!=t||null!=n;if(u){if(o(t)){var f=n;n=t,t=f}if(n=n||{},c){var h=null!=t&&l[t]||l["*"];if(null!=h)l=h;else if("number"==typeof t){l=function(e,t,n){var r=Math.abs(t);return null!=e[r=n?n(r):r]?e[r]:null!=e.n?e.n:void 0}(l,t,a.pluralize)}}}if("string"!=typeof l){if(!1===a.useKeyForMissingTranslation)return;l=e,a.debug&&(null!=t?(l="@@"+e+"."+t+"@@",console.warn('No translation or pluralization form found for "'+t+'" in'+e)):(l="@@"+l+"@@",console.warn('Translation for "'+e+'" not found.')))}return u?i(l,n,t,s,a):l}function s(){var e=this.opts,t=e.array;e.array=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=this.apply(null,r);return e.array=t,i}function l(e,t){e=e||{},(t=t||{}).resolveAliases&&(e=l.resolveAliases(e));var n={};function r(e,t,o){return a(e,t,o,r.keys,r.opts,n)}return r.arr=s,r.keys=e||{},r.opts=t,r}l.resolveAliases=function(e){var t={};function n(n,i){if(t[i])throw new Error('Circular reference for "'+i+'" detected');t[i]=!0;var a=i,s="",l=i.match(/^(.+)\[(.+)\]$/);l&&(a=l[1],s=l[2]);var c=e[a];if(o(c)){if(!s)throw new Error("You can't alias objects");c=c[s]}if(null==c)throw new Error('No translation for alias "'+i+'"');var u=r(c);return t[i]=!1,u}function r(e){return o(e)?function(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=t(e[r],r),n}),{})}(e,r):e.replace(/{{(.*?)}}/g,n)}return r(e)};var c,u=l;function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get"))}function _(e,t,n){var r=null!=n?n:k(this,c);return localStorage.setItem(r+e,JSON.stringify(t))}function S(e,t){var n=null!=t?t:k(this,c),r={};try{r=JSON.parse(localStorage.getItem(n+e))}catch(e){console.error(e)}return r}function C(e){return localStorage.removeItem(k(this,c)+e)}var T=new(c=new WeakMap,function(){function e(){g(this,e),c.set(this,{writable:!0,value:"v6"})}return w(e,[{key:"set",value:_},{key:"get",value:S},{key:"clear",value:C}]),e}());function x(e,t){var n,r,o=arguments.length,i=arguments[o-1];for(n=0;o-1>n;n++)r=arguments[n],"object"!==y(this.events[r])&&(this.events[r]=[]),this.events[r].push(i);return i}function P(e,t){var n;"object"===y(this.events[e])&&(n=this.events[e].indexOf(t))>-1&&this.events[e].splice(n,1)}function M(e){var t,n,r,o=[].slice.call(arguments,1);if("object"===y(this.events[e]))for(r=(n=this.events[e].slice()).length,t=0;t<r;t++)n[t].apply(this,o)}function I(e,t){var n,r=this;return this.on(e,n=function(){r.removeListener(e,n),t.apply(r,arguments)}),n}function O(e,t,n){this.ev.push([e,t,n]),e.on(t,n)}function R(){for(var e=this.ev.slice(),t=0;e.length>t;t++){var n=e[t][0],r=e[t][1],o=e[t][2];n.removeListener(r,o);var i=this.ev.indexOf(e[t]);i>-1&&this.ev.splice(i,1)}this.ev.length>0&&console.error("We have error in unlisten()",e,this.ev)}window.storage=T;var U=function(){function e(){g(this,e),this.events={},this.ev=[]}return w(e,[{key:"on",value:x},{key:"removeListener",value:P},{key:"emit",value:M},{key:"once",value:I},{key:"listenTo",value:O},{key:"unlisten",value:R}]),e}();window.Eventify=U;var A=function(e){var t=new U;return["on","removeListener","emit","once","listenTo","unlisten","ev","events"].forEach((function(n){Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1})})),e};function E(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!1})}function L(){}function F(){return this._isDebug}window.eventify=A;var j=function(e,t,n){var r=E,o={};function i(){if(e&&t.isDebug){for(var i in console)if("function"==typeof console[i]&&"profile"!==i){if("time"==i)continue;o[i]=console[i].bind(window.console,n||t.toString()+": "),r(t,i,o[i])}}else for(var i in console)"function"==typeof console[i]&&"profile"!==i&&(o[i]=L,r(t,i,o[i]))}t._isDebug=t.isDebug,Object.defineProperty(t,"isDebug",{set:function(e){this._isDebug=e,i()},get:F}),i()};function D(e,t,n){var r=e[t],o=n;e.emit("before*",t,n),e[t]=n;try{e.emit(t,n,r),r!==o&&e.emit("change:"+String(t),n),e.emit("*",t,n,r)}catch(e){console.error(e)}return!0}function B(e){return A(e),new Proxy(e,{set:D})}function z(e,t,n){var r=e[t],o=n;if(!e.hasOwnProperty(t))throw Error('Target property "'+t+'" not found');if(this.by.hasOwnProperty(t)){if(this.by[t].hasOwnProperty(r)){var i=this.by[t][r].indexOf(e);~i&&this.by[t][r].splice(i,1)}this.by[t].hasOwnProperty(r)&&0===this.by[t][r].length&&delete this.by[t][r],this.by[t].hasOwnProperty(o)||(this.by[t][o]=[]),this.by[t][o].push(e)}e[t]=n,o!==r&&(this.emit("change",e,t),this.emit(t,e))}function N(e){var t=e[this.indexId];return this.all[t]=e,this.reindex(e),this.emit("add",e),e}function H(e){var t=this;this.indexingProps.forEach((function(n){t.set(e,n,e[n])}))}function G(e){var t,n=this,r=this.get(e);this.emit("remove",r),this.indexingProps.forEach((function(e){n.by[e].hasOwnProperty(r[e])&&(~(t=n.by[e][r[e]].indexOf(r))&&n.by[e][r[e]].splice(t,1),n.by[e].hasOwnProperty(r[e])&&0==n.by[e][r[e]].length&&delete n.by[e][r[e]])})),delete this.all[e]}function q(e){return this.all[e]}function X(e){return this.all.hasOwnProperty(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,e);var t=p(n);function n(e,r,o){var i;if(g(this,n),i=t.call(this),!Array.isArray(r))throw Error("No indexing keys specified");i.all={},i.indexId=e,i.indexingProps=r,i.by={};var a,s=f(i.indexingProps);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.by[l]={}}}catch(e){s.e(e)}finally{s.f()}return i}return w(n,[{key:"set",value:z},{key:"add",value:N},{key:"reindex",value:H},{key:"rem",value:G},{key:"get",value:q},{key:"has",value:X}]),n}(U);function Y(){}window.IndexedObjects=W;var V=function(){var e={cache:""},t=new Y;return Object.assign(e,T.get("systemMemory")),t.data=B(e),t.data.on("*",(function(e){T.set("systemMemory",t.data)})),t.data}();function $(){return this.value}function K(){return this.value}function Z(){return this.fontWeight+" 25px "+this.fontFamily}function Q(e,t){var n=this;return new Promise((function(r,o){var i=n.fontFamily.replace(/"/g,"");if(ne.possibleFonts[i]&&ne.possibleFonts[i].isSystemFont)return r();new FontFaceObserver(i.replace(/"/g,""),{weight:n.fontWeight}).load(e,t).then(r,o)}))}function J(){var e=this.fontSize+"/"+this.lineHeight;return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(this.fontFamily)}function ee(e){this.setter(e)}function te(e){this.h.appendChild(this.d);var t={};return t.name=this.s.style.fontFamily=e,t.width=this.s.offsetWidth,t.height=this.s.offsetHeight,this.h.removeChild(this.d),e=e.toLowerCase(),t.found="serif"==e||(t.width!=this.defaultWidth||t.height!=this.defaultHeight),t}window.SystemMemory=V;var ne=new(function(){function e(){g(this,e);var t=this.$el=document.createElement("span");function n(e){t.setAttribute("style","font: "+e),this.fontStyle=t.style.fontStyle,this.fontVariant=t.style.fontVariant,this.fontWeight=t.style.fontWeight,this.fontSize=t.style.fontSize,this.lineHeight=t.style.lineHeight,this.fontFamily=t.style.fontFamily}this.fontInstance=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal normal 500 25px Ubuntu";g(this,e),this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="500",this.fontSize="25px",this.lineHeight="normal",this.fontFamily="Ubuntu",this.value=t,this.def=this.value}return w(e,[{key:"setter",value:n},{key:"toJSON",value:$},{key:"toString",value:K},{key:"toSelectboxFormat",value:Z},{key:"load",value:Q},{key:"value",get:J,set:ee}]),e}(),this.possibleFonts={Ubuntu:{fontWeights:{700:"bold",500:""}},Roboto:{fontWeights:{700:"bold",500:""}},Oswald:{fontWeights:{700:"bold",500:""}},"Titillium Web":{fontWeights:{400:""}},"Exo 2":{fontWeights:{400:"",600:"semi-bold"}},Play:{fontWeights:{400:"",700:"bold"}},"Press Start 2P":{fontWeights:{500:""}},Pacifico:{fontWeights:{500:""}},"VCR OSD Mono":{fontWeights:{500:""}}},this.h=document.getElementsByTagName("BODY")[0],this.d=document.createElement("DIV"),this.s=document.createElement("SPAN"),this.d.appendChild(this.s),this.d.style.fontFamily="sans",this.s.style.fontFamily="sans",this.s.style.fontSize="72px",this.s.innerHTML="mmmmmmmmmmlil",this.h.appendChild(this.d),this.defaultWidth=this.s.offsetWidth,this.defaultHeight=this.s.offsetHeight,this.h.removeChild(this.d)}return w(e,[{key:"test",value:te}]),e}()),re=window.displayText={en:{},ru:{}};function oe(e){return Math.abs(e)}function ie(e){return e.indexOf("ar_")>-1?"ar_EG":e}function ae(){}function se(e,t){var n=new XMLHttpRequest;return n.open("GET","https://delta-agar-locales.gitlab.io/lang/".concat(e,".json?nocache").concat(V.cache),!1),n.onerror=function(){return console.error('Language "'.concat(e,'" is missed on the server!'))},n.send(),200===n.status?JSON.parse(n.responseText):{}}var le=new(function(){function e(){var t;g(this,e);var n={debug:!1,array:!1,resolveAliases:!1,pluralize:oe,useKeyForMissingTranslation:!0};this.possibleLanguages={English:"en","Azərbaycanca":"az_AZ","Español":"es_ES","Русский":"ru_RU","Українська":"uk_UA",Polska:"pl_PL","Português":"pt_BR",Swedish:"sv_SE",Srpski:"sr_CS",Deutsch:"de_DE","Türkçe":"tr_TR","اَلْعَرَبِيَّةُ":"ar_EG","中文(台灣)":"zh_TW","中文(中國)":"zh_CN","日本語":"ja_JP","한국어":"ko_KR"},this.i18n=new u({},n),this.i18en=new u({},n),this.sourceLang="en",this.browserLang=String(window.navigator.language||(null===(t=window.navigator)||void 0===t?void 0:t.userLanguage)).replace("-","_"),this.userLang=(T.get("settings")||{}).language||this.browserLang,this.strings={},Object.assign(this.strings,re),this.strings.uk_UA=this.strings.ru_RU=this.strings.ru,Object.assign(this.i18n.keys,this.getLanguageStringsSync(this.sourceLang,!0)),Object.assign(this.i18en.keys,this.getLanguageStringsSync(this.sourceLang,!0)),this.userLang!==this.sourceLang&&Object.assign(this.i18n.keys,this.getLanguageStringsSync(this.getOverrides(this.userLang))),this.dict=this.i18n}return w(e,[{key:"getOverrides",value:ie},{key:"getPossibleLanguages",value:ae},{key:"getLanguageStringsSync",value:se}]),e}());window.Dictionary=le;var ce=le.dict.bind(le),ue={"ogario-v3":{darkTheme:!0,mainColor:"#01d9cc",bgColor:"#000a11",bordersColor:"#01d9cc",gridColor:"#00243e",sectorsColor:"#00243e",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#002f52",virusRangeColor:"#002f52",virusStrokeColor:"#00b9e8",mothercellColor:"#002f52",mothercellStrokeColor:"#00b9e8",foodColor:"#5000ff",teammatesIndColor:"#ffffff",cursorTrackingColor:"rgba(255, 255, 255, 0.75)",splitRangeColor:"#ffffff",ghostCellsColor:"#ffffff",safeAreaColor:"#ffffff",dangerAreaColor:"#bf00aa",nickfont:"normal normal 500 25px/normal Ubuntu",massfont:"normal normal 500 25px/normal Ubuntu",sectorsX:5,sectorsY:5,namesScale:1,massScale:2,virMassScale:3,strokeScale:1,foodSize:5,bordersWidth:20,sectorsWidth:40,sectorsfontSize:1200,cellsAlpha:.9,skinsAlpha:.7,virusAlpha:.6,textAlpha:1,ghostCellsAlpha:.09,virusStrokeSize:14,menuPreset:"ogario-v3",menuMainColor:"#01d9cc",menuBtnTextColor:"#ffffff",menuPanelColor:"#00243e",menuPanelColor2:"#002f52",menuTextColor:"#ffffff",menuTextColor2:"#8096a7",btn1Color:"#018cf6",btn1Color2:"#0176ce",btn2Color:"#00b9e8",btn2Color2:"#0099c0",btn3Color:"#8d5fe6",btn3Color2:"#814ee3",btn4Color:"#bf00aa",btn4Color2:"#a80096",menuBg:"assets/pattern.png",menuOpacity:.96,hudMainColor:"#00D1C5",hudColor:"rgba(0,0,0,0.4)",hudTextColor:"#ffffff",statsHudColor:"#ffffff",timeHudColor:"#01d9cc",top5MassColor:"#0F7BA3",lbMeColor:"#bf00aa",lbFriendColor:"#018cf6",hudFont:"ubuntu",hudScale:1,messageColor:"rgba(0,0,0,0.4)",messageTextColor:"#ffffff",messageTimeColor:"#018cf6",messageNickColor:"#01d9cc",commandsColor:"rgba(191,0,170,0.9)",commandsTextColor:"#ffffff",commandsTimeColor:"#bf00aa",commandsNickColor:"#ffffff",chatBoxColor:"rgba(0,0,0,0.4)",chatScale:1,miniMapSectorsColor:"#ffffff",miniMapGuidesColor:"#0099BF",miniMapNickColor:"#ffffff",miniMapNickStrokeColor:"#000000",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#0076BF",miniMapTeammatesColor:"#01d9cc",miniMapDeathLocationColor:"#bf00aa",miniMapGhostCellsColor:"#ffffff",miniMapFont:"normal normal 500 25px/normal Ubuntu",miniMapNickfont:"normal normal 500 25px/normal Ubuntu",miniMapScale:1,miniMapTop:0,miniMapSectorsOpacity:.1,miniMapNickSize:11,miniMapNickStrokeSize:2,miniMapMyCellSize:5,miniMapMyCellStrokeSize:2,miniMapTeammatesSize:5.5,miniMapGhostCellsAlpha:.15,customBackground:"",customMapTexture:"",customMapLogo:"https://i.imgur.com/7cugADY.png",customCursor:"https://legendmod.ml/cursors/cursor_02.cur",mboxActiveCellStroke:"#ff00aa",mboxUnactiveCellStroke:"#FFFFFF"},massacre:{darkTheme:!0,mainColor:"#651fff",bgColor:"#000000",bordersColor:"#ffffff",gridColor:"#0a0a0a",sectorsColor:"#0a0a0a",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#000000",virusRangeColor:"#000000",virusStrokeColor:"#ffffff",foodColor:"#002a80",teammatesIndColor:"#ffffff",cursorTrackingColor:"rgba(255, 255, 255, 0.75)",splitRangeColor:"#ffffff",ghostCellsColor:"#ffffff",safeAreaColor:"#ffffff",dangerAreaColor:"#ffffff",sectorsX:5,sectorsY:5,namesScale:.5,massScale:1,virMassScale:3,strokeScale:1,foodSize:1,bordersWidth:40,sectorsWidth:40,sectorsfontSize:900,cellsAlpha:.9,skinsAlpha:.99,virusAlpha:.6,textAlpha:1,ghostCellsAlpha:.3,virusStrokeSize:14,menuPreset:"agario",menuMainColor:"#c880ff",menuBtnTextColor:"#ffffff",menuPanelColor:"#0a0a0a",menuPanelColor2:"#0a0a0a",menuTextColor:"#ffffff",menuTextColor2:"#ffffff",btn1Color:"#0a0a0a",btn1Color2:"#0a0a0a",btn2Color:"#0a0a0a",btn2Color2:"#0a0a0a",btn3Color:"#0a0a0a",btn3Color2:"#0a0a0a",btn4Color:"#0a0a0a",btn4Color2:"#0a0a0a",menuBg:"https://i.imgur.com/HMy2hry.png",menuOpacity:1,hudMainColor:"#000000",hudColor:"rgba(0,0,0,0)",hudTextColor:"#ffffff",statsHudColor:"#ffffff",timeHudColor:"#ff80cc",top5MassColor:"#f380ff",lbMeColor:"#80ffff",lbFriendColor:"#80ffff",hudScale:1,messageColor:"rgba(0,0,0,0)",messageTextColor:"#ffffff",messageTimeColor:"#262626",messageNickColor:"#c880ff",commandsColor:"rgba(0,0,0,0)",commandsTextColor:"#ffffff",commandsTimeColor:"#262626",commandsNickColor:"#c880ff",chatBoxColor:"rgba(0,0,0,0)",chatScale:1,miniMapSectorsColor:"#ffffff",miniMapSectorColor:"#000000",miniMapGuidesColor:"#f380ff",miniMapNickColor:"#ffffff",miniMapNickStrokeColor:"#000000",miniMapMyCellColor:"#f380ff",miniMapMyCellStrokeColor:"#f380ff",miniMapTeammatesColor:"#ff80cc",miniMapDeathLocationColor:"#ff80cc",miniMapGhostCellsColor:"#ffffff",miniMapScale:1,miniMapTop:0,miniMapSectorsOpacity:.15,miniMapNickSize:9,miniMapNickStrokeSize:0,miniMapMyCellSize:4.5,miniMapMyCellStrokeSize:0,miniMapTeammatesSize:4.5,miniMapGhostCellsAlpha:.05,customBackground:"",customMapTexture:"",customMapLogo:"",customCursor:""},imau:{bgColor:"#000000",bordersColor:"#999999",gridColor:"#333333",sectorsColor:"#333333",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#070606",virusRangeColor:"#070606",virusStrokeColor:"#FFFFFF",mothercellColor:"#002f52",mothercellStrokeColor:"#00b9e8",mboxActiveCellStroke:"#ff00aa",mboxUnactiveCellStroke:"#FFFFFF",mergeIndicatorColor:"#00ff29",foodColor:"#00fff0",teammatesIndColor:"#ffffff",cursorTrackingColor:"#ffffff",splitRangeColor:"#ffffff",safeAreaColor:"#ffffff",dangerAreaColor:"#bf00aa",ghostCellsColor:"#ffffff",bHSTEColor:"#4000ff",sHSTEColor:"#0040ff",bDSTEColor:"#8000ff",sDSTEColor:"#005a63",bSTEColor:"#FF00FF",sSTEColor:"#80ff00",bColor:"#FF0000",eColor:"#ffff00",sColor:"#00ffff",nickfont:"normal normal 500 25px/normal Ubuntu",massfont:"normal normal 500 25px/normal Ubuntu",sectorsfont:"normal normal 500 25px/normal Ubuntu",darkTheme:!0,mbRingWidth:4,cursorTrackingSize:6,sectorsfontSize:620,namesScale:.9,massScale:3,virMassScale:5,strokeScale:1,foodSize:3,virusStrokeSize:8,bordersWidth:2,sectorsWidth:8,cellsAlpha:.82,skinsAlpha:.87,virusAlpha:.65,textAlpha:1,ghostCellsAlpha:.3,menuPreset:"ogario-v3",menuOpacity:.9,menuMainColor:"#ffffff",menuBtnTextColor:"#ffffff",menuPanelColor:"#000000",menuPanelColor2:"#000000",menuTextColor:"#ffffff",menuTextColor2:"#8096a7",btn1Color:"#000000",btn1Color2:"#0176ce",btn2Color:"#000000",btn2Color2:"#0099c0",btn3Color:"#000000",btn3Color2:"#814ee3",btn4Color:"#bf00aa",btn4Color2:"#a80096",menuBg:"",hudMainColor:"#ffffff",hudColor:"rgba(0,0,0,0.4)",hudTextColor:"#9c9c9c",statsHudColor:"#ffffff",timeHudColor:"#ffffff",top5MassColor:"#ffffff",lbMeColor:"#00fff0",lbFriendColor:"#37234d",hudFont:"ubuntu",hudFontWeight:400,hudFontFamily:"Ubuntu",hudScale:1,messageColor:"rgba(0,0,0,0.4)",messageTextColor:"#ffffff",messageTimeColor:"#018cf6",messageNickColor:"#ffffff",commandsColor:"rgba(0,0,0,1)",commandsTextColor:"#ffffff",commandsTimeColor:"#000000",commandsNickColor:"#ffffff",chatBoxColor:"rgba(0,0,0,0.4)",chatScale:1,miniMapSectorsColor:"#ffffff",miniMapNickColor:"#ffffff",miniMapNickStrokeColor:"#000000",miniMapMyCellColor:"#cad5e4",miniMapMyCellStrokeColor:"#ffffff",miniMapTeammatesColor:"#01d9cc",miniMapDeathLocationColor:"#ffffff",miniMapGuidesColor:"#ffffff",miniMapGhostCellsColor:"#ffffff",miniMapNickSize:10,miniMapNickStrokeSize:0,miniMapScale:1,miniMapSectorsOpacity:.45,miniMapMyCellSize:5,miniMapMyCellStrokeSize:4,miniMapTeammatesSize:4,miniMapGhostCellsAlpha:.33,sectorsX:5,sectorsY:5,customMapTexture:"https://i.imgur.com/d2TXN0M.png",customMapLogo:"https://i.imgur.com/7cugADY.png",customBackground:"",customCursor:"https://legendmod.ml/cursors/cursor_07.cur"},damian:{darkTheme:!0,mainColor:"#651fff",bgColor:"#161515",bordersColor:"#ffffff",gridColor:"#111111",sectorsColor:"#111111",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#3C168D",virusRangeColor:"#3C168D",virusStrokeColor:"#371187",foodColor:"#651fff",teammatesIndColor:"#ffffff",cursorTrackingColor:"rgba(255, 255, 255, 0.75)",splitRangeColor:"#ffffff",ghostCellsColor:"#ffffff",safeAreaColor:"#ffffff",dangerAreaColor:"#bf00aa",nickfont:"normal normal 500 25px/normal Ubuntu",massfont:"normal normal 500 25px/normal Ubuntu",sectorsX:5,sectorsY:5,namesScale:1,massScale:3,virMassScale:3,strokeScale:1,foodSize:5,bordersWidth:40,sectorsWidth:40,sectorsfontSize:1200,cellsAlpha:.9,skinsAlpha:.7,virusAlpha:.6,textAlpha:1,ghostCellsAlpha:.3,virusStrokeSize:14,menuPreset:"ogario-v3",menuMainColor:"#ffffff",menuBtnTextColor:"#ffffff",menuPanelColor:"#000000",menuPanelColor2:"#000000",menuTextColor:"#ffffff",menuTextColor2:"#8096a7",btn1Color:"#000000",btn1Color2:"#000508",btn2Color:"#000000",btn2Color2:"#000000",btn3Color:"#8d5fe6",btn3Color2:"#814ee3",btn4Color:"#bf00aa",btn4Color2:"#a80096",menuBg:"assets/pattern.png",menuOpacity:.96,hudMainColor:"#651fff",hudColor:"rgba(0,0,0,0.4)",hudTextColor:"#ffffff",statsHudColor:"#651fff",timeHudColor:"#651fff",top5MassColor:"#651fff",lbMeColor:"#bf00aa",lbFriendColor:"#018cf6",hudFont:"normal normal 500 25px/normal Ubuntu",hudScale:1,messageColor:"rgba(0,0,0,0.4)",messageTextColor:"#ffffff",messageTimeColor:"#018cf6",messageNickColor:"#651fff",commandsColor:"rgba(101,31,255,0.9)",commandsTextColor:"#ffffff",commandsTimeColor:"#651fff",commandsNickColor:"#ffffff",chatBoxColor:"rgba(0,0,0,0.4)",chatScale:1,miniMapSectorsColor:"#ffffff",miniMapSectorColor:"#651fff",miniMapGuidesColor:"#651fff",miniMapNickColor:"#ffffff",miniMapNickStrokeColor:"#000000",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#651fff",miniMapTeammatesColor:"#651fff",miniMapDeathLocationColor:"#651fff",miniMapGhostCellsColor:"#ffffff",miniMapFont:"normal normal 500 25px/normal Ubuntu",miniMapNickfont:"normal normal 500 25px/normal Ubuntu",miniMapScale:1.1,miniMapTop:0,miniMapSectorsOpacity:.1,miniMapNickSize:11,miniMapNickStrokeSize:2,miniMapMyCellSize:7.5,miniMapMyCellStrokeSize:4,miniMapTeammatesSize:5.5,miniMapGhostCellsAlpha:.05,customBackground:"",customMapTexture:"",customMapLogo:"",customCursor:""},Green:{darkTheme:!0,mainColor:"#01d9cc",bgColor:"#000a11",bordersColor:"#01d9cc",gridColor:"#00243e",sectorsColor:"#00243e",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#002f52",virusRangeColor:"#002f52",virusStrokeColor:"#00b9e8",foodColor:"#0012FF",teammatesIndColor:"#ffffff",cursorTrackingColor:"rgba(255, 255, 255, 0.75)",splitRangeColor:"#ffffff",ghostCellsColor:"#ffffff",safeAreaColor:"#ffffff",dangerAreaColor:"#bf00aa",nickfont:"normal normal 500 25px/normal Ubuntu",massfont:"normal normal 500 25px/normal Ubuntu",sectorsX:5,sectorsY:5,namesScale:1,massScale:3,virMassScale:2,strokeScale:1,foodSize:5,bordersWidth:40,sectorsWidth:40,sectorsfontSize:1200,cellsAlpha:.9,skinsAlpha:.7,virusAlpha:.6,textAlpha:1,ghostCellsAlpha:.3,virusStrokeSize:14,menuPreset:"ogario-v3",menuMainColor:"#26D901",menuBtnTextColor:"#07EC6D",menuPanelColor:"#001507",menuPanelColor2:"#071B00",menuTextColor:"#07D929",menuTextColor2:"#00C11F",btn1Color:"#113324",btn1Color2:"#193F2F",btn2Color:"#00b9e8",btn2Color2:"#0099c0",btn3Color:"#8d5fe6",btn3Color2:"#814ee3",btn4Color:"#bf00aa",btn4Color2:"#a80096",menuBg:"assets/pattern.png",menuOpacity:.97,hudMainColor:"#275209",hudColor:"rgba(0,0,0,0.4)",hudTextColor:"#ffffff",statsHudColor:"#ffffff",timeHudColor:"#01d9cc",top5MassColor:"#bf00aa",lbMeColor:"#bf00aa",lbFriendColor:"#37234d",hudFont:"normal normal 500 25px/normal Ubuntu",hudScale:.5,messageColor:"rgba(0,0,0,0.4)",messageTextColor:"#ffffff",messageTimeColor:"#018cf6",messageNickColor:"#01d9cc",commandsColor:"rgba(191,0,170,0.9)",commandsTextColor:"#ffffff",commandsTimeColor:"#bf00aa",commandsNickColor:"#ffffff",chatBoxColor:"rgba(0,0,0,0.4)",chatScale:1,miniMapSectorsColor:"#ffffff",miniMapSectorColor:"#01d9cc",miniMapGuidesColor:"#00BF2A",miniMapNickColor:"#ffffff",miniMapNickStrokeColor:"#000000",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#bf00aa",miniMapTeammatesColor:"#01d9cc",miniMapDeathLocationColor:"#bf00aa",miniMapGhostCellsColor:"#ffffff",miniMapFont:"normal normal 500 25px/normal Ubuntu",miniMapNickfont:"normal normal 500 25px/normal Ubuntu",miniMapScale:.5,miniMapTop:0,miniMapSectorsOpacity:.01,miniMapNickSize:8,miniMapNickStrokeSize:1,miniMapMyCellSize:6,miniMapMyCellStrokeSize:4,miniMapTeammatesSize:4.5,miniMapGhostCellsAlpha:.15,customBackground:"",customMapTexture:"",customMapLogo:"https://i.imgur.com/7cugADY.png",customCursor:"https://legendmod.ml/cursors/cursor_02.cur",mboxActiveCellStroke:"#ff00aa"},"ogario-orange":{darkTheme:!0,mainColor:"#ff7800",bgColor:"#111111",bordersColor:"#ff7800",gridColor:"#292929",sectorsColor:"#292929",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#666666",virusRangeColor:"#666666",virusStrokeColor:"#666666",foodColor:"#e16400",hudMainColor:"#ff7800",statsHudColor:"#ff7800",top5MassColor:"#ff7800",timeHudColor:"#ff7800",messageNickColor:"#ff7800",commandsColor:"rgba(255,120,0,0.9)",commandsTimeColor:"#ff7800",commandsTextColor:"#ffffff",miniMapSectorsColor:"#ffffff",miniMapGuidesColor:"#ff7800",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#ff7800",miniMapTeammatesColor:"#ff7800",miniMapDeathLocationColor:"#ff7800",miniMapSectorsOpacity:.1},"hslo-5":{darkTheme:!0,bgColor:"#222222",bordersColor:"#FFFFFF",gridColor:"#007777",sectorsColor:"#333333",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#FFFFFF",massStrokeColor:"#000000",virusColor:"#FF6DA7",virusRangeColor:"#FF6DA7",virusStrokeColor:"#007777",mboxActiveCellStroke:"#ff00aa",mboxUnactiveCellStroke:"#FFFFFF",mergeIndicatorColor:"#00ff29",foodColor:"#A05C77",teammatesIndColor:"#ffffff",cursorTrackingColor:"rgba(255, 255, 255, 0.75)",splitRangeColor:"#ffffff",safeAreaColor:"#2846e8",dangerAreaColor:"#d13345",ghostCellsColor:"#ffffff",bHSTEColor:"#4000ff",sHSTEColor:"#0040ff",bDSTEColor:"#8000ff",sDSTEColor:"#005a63",bSTEColor:"#FF00FF",sSTEColor:"#80ff00",bColor:"#FF0000",eColor:"#ffff00",sColor:"#00ffff",nickfont:"normal normal 500 25px/normal Ubuntu",nickfontFamily:"Ubuntu",massfont:"normal normal 500 25px/normal Ubuntu",massfontWeight:700,mbRingWidth:20,cursorTrackingSize:6,sectorsfontSize:1600,namesScale:1,massScale:2,virMassScale:3,strokeScale:1,foodSize:5,virusStrokeSize:14,bordersWidth:10,sectorsWidth:16,cellsAlpha:.9,skinsAlpha:.9,virusAlpha:.31,textAlpha:1,ghostCellsAlpha:.09,menuOpacity:.93,menuMainColor:"#FFFFFF",menuBtnTextColor:"#ffffff",menuPanelColor:"#212121",menuPanelColor2:"#212121",menuTextColor:"#ffffff",menuTextColor2:"#FFFFFF",btn1Color:"#FF0000",btn1Color2:"#D50000",btn2Color:"#00b9e8",btn2Color2:"#0099c0",btn3Color:"#8d5fe6",btn3Color2:"#814ee3",btn4Color:"#f300d8",btn4Color2:"#df00c6",menuBg:"assets/pattern.png",hudMainColor:"#FFFFFF",hudColor:"rgba(0, 0, 0, 0.3)",hudTextColor:"#fff8f8",statsHudColor:"#FFFFFF",timeHudColor:"#373737",top5MassColor:"#FFFFFF",lbMeColor:"#FFF400",lbFriendColor:"#08FF0B",hudFont:"ubuntu",hudScale:1.01,messageColor:"rgba(0,0,0,0.4)",messageTextColor:"#ffffff",messageTimeColor:"#018cf6",messageNickColor:"#ff7800",commandsColor:"rgba(160,0,119,1)",commandsTextColor:"#ffffff",commandsTimeColor:"#ff7800",commandsNickColor:"#ffffff",chatBoxColor:"rgba(0,0,0,0.4)",chatScale:1,miniMapSectorsColor:"#ffffff",miniMapNickColor:"#ffffff",miniMapNickStrokeColor:"#000000",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#00f5ff",miniMapTeammatesColor:"#ff7800",miniMapDeathLocationColor:"#ff00fd",miniMapGuidesColor:"#ff7f00",miniMapGhostCellsColor:"#FFAE00",miniMapFontFamily:"Ubuntu",miniMapNickfont:"roboto",miniMapNickfontWeight:"",miniMapNickfontFamily:"",miniMapScale:1,miniMapSectorsOpacity:.1,miniMapNickSize:11,miniMapNickStrokeSize:2,miniMapMyCellSize:6.5,miniMapMyCellStrokeSize:0,miniMapTeammatesSize:5.5,miniMapGhostCellsAlpha:.15,sectorsX:5,sectorsY:5,customMapTexture:"",customMapLogo:"https://i.imgur.com/7cugADY.png",customBackground:"",customCursor:"https://legendmod.ml/cursors/cursor_01.cur"},"turbo-style":{bgColor:"#000000",bordersColor:"#ff2b77",bordersWidth:80,btn1Color:"#ff2b77",btn1Color2:"#ff005b",btn2Color:"#ff2b77",btn2Color2:"#ff005b",btn3Color:"#ff2b77",btn3Color2:"#ff005b",btn4Color:"#ff2b77",btn4Color2:"#ff005b",cellsAlpha:.99,chatBoxColor:"rgba(0,0,0,0.4)",chatScale:1,commandsColor:"rgba(255,43,119,1)",commandsNickColor:"#ffffff",commandsTextColor:"#ffffff",commandsTimeColor:"#000000",cursorTrackingColor:"rgba(255, 255, 255, 0.75)",customBackground:"",customCursor:"",dangerAreaColor:"#ff2b77",darkTheme:!0,foodColor:"#ff2b77",foodSize:1,ghostCellsAlpha:.3,ghostCellsColor:"#ffffff",gridColor:"#ff2b77",hudColor:"rgba(0,0,0,0.49)",hudFont:"normal normal 500 25px/normal Ubuntu",hudFontFamily:"Ubuntu",hudFontWeight:700,hudMainColor:"#ff2b77",hudScale:1.15,hudTextColor:"#ffffff",lbMeColor:"#ff2b77",lbFriendColor:"#ff2b77",mainColor:"#ff2b77",massColor:"#000000",massfont:"normal normal 500 25px/normal Ubuntu",massfontFamily:"Ubuntu",massfontWeight:700,massScale:.9,massStrokeColor:"#ffffff",menuBg:"",menuBtnTextColor:"#ffffff",menuMainColor:"#ff2b77",menuOpacity:1,menuPanelColor:"#23192c",menuPanelColor2:"#382946",menuPreset:"ogario-v3",menuTextColor:"#ffffff",menuTextColor2:"#65458f",messageColor:"rgba(0,0,0,0.4)",messageNickColor:"#ff2b77",messageTextColor:"#e8e8e8",messageTimeColor:"#545454",miniMapDeathLocationColor:"#2b2b2b",miniMapFont:"normal normal 500 25px/normal Ubuntu",miniMapFontFamily:"Ubuntu",miniMapFontWeight:700,miniMapGhostCellsAlpha:.15,miniMapGhostCellsColor:"#ffffff",miniMapGuidesColor:"#ff2b77",miniMapMyCellColor:"#ffdd56",miniMapMyCellSize:5,miniMapMyCellStrokeColor:"#ff9a6b",miniMapMyCellStrokeSize:0,miniMapNickColor:"#ffffff",miniMapNickfont:"normal normal 500 25px/normal Ubuntu",miniMapNickfontFamily:"Ubuntu",miniMapNickfontWeight:700,miniMapNickSize:9,miniMapNickStrokeColor:"#4d4d4d",miniMapNickStrokeSize:0,miniMapSectorsColor:"#ffffff",miniMapSectorsOpacity:.1,miniMapTeammatesColor:"#ff005b",miniMapTeammatesSize:5,miniMapTop:25,miniMapScale:1,namesColor:"#000000",nickfont:"normal normal 500 25px/normal Ubuntu",nickfontFamily:"Ubuntu",nickfontWeight:700,namesScale:.9,namesStrokeColor:"#ffffff",safeAreaColor:"#ffffff",sectorsColor:"#ff2b77",sectorsfont:"ubuntu",sectorsfontFamily:"Ubuntu",sectorsfontSize:940,sectorsfontWeight:400,sectorsWidth:6,sectorsX:5,sectorsY:5,skinsAlpha:.7,splitRangeColor:"#ffffff",statsHudColor:"#ffffff",strokeScale:1,teammatesIndColor:"#ffffff",textAlpha:1,timeHudColor:"#ff2b77",top5MassColor:"#ff2b77",virMassScale:2,virusAlpha:.4,virusColor:"#3b3b3b",virusRangeColor:"#3b3b3b",virusStrokeColor:"#ff2b77",virusStrokeSize:10},"sniikz-style":{darkTheme:!0,mainColor:"#01d9cc",bgColor:"#000000",bordersColor:"#ffffff",gridColor:"#00243e",sectorsColor:"#00243e",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#3b3b3b",virusRangeColor:"#3b3b3b",virusStrokeColor:"#ffffff",foodColor:"#5000ff",teammatesIndColor:"#ffffff",cursorTrackingColor:"rgba(255, 255, 255, 0.75)",splitRangeColor:"#ffffff",safeAreaColor:"#ffffff",dangerAreaColor:"#bf00aa",massScale:4,foodSize:1,bordersWidth:40,sectorsWidth:40,sectorsfontSize:1200,cellsAlpha:.99,skinsAlpha:.7,virusAlpha:.4,virusStrokeSize:10,menuPreset:"ogario-v3",menuMainColor:"#fc0079",menuBtnTextColor:"#ffffff",menuPanelColor:"#050008",menuPanelColor2:"#1d0526",menuTextColor:"#ffffff",menuTextColor2:"#65458f",btn1Color:"#4f0242",btn1Color2:"#3b0431",btn2Color:"#6b0036",btn2Color2:"#4d0227",btn3Color:"#aa084e",btn3Color2:"#80063b",btn4Color:"#aa084e",btn4Color2:"#8a063f",menuBg:"assets/pattern.png",menuOpacity:1,hudMainColor:"#5974ff",hudColor:"rgba(36,36,36,0.49)",hudTextColor:"#ffffff",statsHudColor:"#ffffff",timeHudColor:"#737373",top5MassColor:"#1fe000",lbMeColor:"#bf00aa",lbFriendColor:"#018cf6",hudScale:1.15,messageColor:"rgba(0,0,0,0.4)",messageTextColor:"#e8e8e8",messageTimeColor:"#545454",messageNickColor:"#05ff00",commandsColor:"rgba(36,36,36,0.9)",commandsTextColor:"#ffffff",commandsTimeColor:"#545454",commandsNickColor:"#ffffff",chatBoxColor:"rgba(0,0,0,0.4)",chatScale:1,miniMapSectorsColor:"#ffffff",miniMapSectorColor:"#000000",miniMapGuidesColor:"#ff00a8",miniMapNickColor:"#ffffff",miniMapNickStrokeColor:"#4d4d4d",miniMapMyCellColor:"#f0ff3d",miniMapMyCellStrokeColor:"#acba07",miniMapTeammatesColor:"#305eff",miniMapDeathLocationColor:"#2b2b2b",miniMapScale:1,miniMapSectorsOpacity:.1,miniMapNickSize:9,miniMapNickStrokeSize:0,miniMapMyCellSize:5,miniMapMyCellStrokeSize:0,miniMapTeammatesSize:5,customBackground:"",customCursor:"https://legendmod.ml/cursors/cursor_01.cur"},"hkg-style":{darkTheme:!0,mainColor:"#651fff",bgColor:"#000000",bordersColor:"#ffffff",gridColor:"#111111",sectorsColor:"#111111",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#666666",virusRangeColor:"#666666",virusStrokeColor:"#666666",foodColor:"#651fff",hudMainColor:"#651fff",statsHudColor:"#651fff",top5MassColor:"#651fff",timeHudColor:"#651fff",messageNickColor:"#651fff",commandsColor:"rgba(101,31,255,0.9)",commandsTimeColor:"#651fff",commandsTextColor:"#ffffff",miniMapSectorsColor:"#ffffff",miniMapSectorColor:"#651fff",miniMapGuidesColor:"#651fff",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#651fff",miniMapTeammatesColor:"#651fff",miniMapDeathLocationColor:"#651fff",miniMapSectorsOpacity:.1},"agario-light":{darkTheme:!1,mainColor:"#ffffff",bgColor:"#f2fbff",bordersColor:"#858a8c",gridColor:"#ced6d9",sectorsColor:"#ced6d9",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#33ff33",virusRangeColor:"#33ff33",virusStrokeColor:"#2de52d",foodColor:"#2de52d",hudMainColor:"#ffffff",statsHudColor:"#ffffff",top5MassColor:"#ffffff",timeHudColor:"#ffffff",messageNickColor:"#ffffff",commandsColor:"rgba(255,255,255,0.9)",commandsTimeColor:"#ffffff",commandsTextColor:"#000000",miniMapSectorsColor:"#ffffff",miniMapSectorColor:"#ffffff",miniMapGuidesColor:"#ffffff",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#ffffff",miniMapTeammatesColor:"#ffffff",miniMapDeathLocationColor:"#ffffff",miniMapSectorsOpacity:.25},"agario-dark":{darkTheme:!0,mainColor:"#ffffff",bgColor:"#111111",bordersColor:"#999999",gridColor:"#333333",sectorsColor:"#333333",namesColor:"#ffffff",namesStrokeColor:"#000000",massColor:"#ffffff",massStrokeColor:"#000000",virusColor:"#33ff33",virusRangeColor:"#33ff33",virusStrokeColor:"#2de52d",foodColor:"#2de52d",hudMainColor:"#ffffff",statsHudColor:"#ffffff",top5MassColor:"#ffffff",timeHudColor:"#ffffff",messageNickColor:"#ffffff",commandsColor:"rgba(255,255,255,0.9)",commandsTimeColor:"#ffffff",commandsTextColor:"#ffffff",miniMapSectorsColor:"#ffffff",miniMapSectorColor:"#ffffff",miniMapGuidesColor:"#ffffff",miniMapMyCellColor:"#ffffff",miniMapMyCellStrokeColor:"#ffffff",miniMapTeammatesColor:"#ffffff",miniMapDeathLocationColor:"#ffffff",miniMapSectorsOpacity:.1}};function fe(){location.reload()}var he={language:{r:[0,1,2],gr:"gameplayGroup",val:le.userLang,type:"SEL",data:le.possibleLanguages,exp:!1},animation:{r:[0,1,2],gr:"gameplayGroup",val:140,type:"SLD",data:{min:26,max:300,step:1,unit:"ms"}},cameraDelay:{r:[0,1,2],gr:"gameplayGroup",val:0,type:"SLD",data:{min:0,max:15,step:1,unit:"x"}},centerWeightCamera:{r:[0,1,2],gr:"gameplayGroup",val:!1,type:"OPT"},autoZoom:{r:[0,1,2],gr:"gameplayGroup",val:!1,type:"OPT"},zoomSpeedValue:{r:[0,1,2],gr:"gameplayGroup",val:.9,type:"SLD",data:{min:.75,max:.99,step:.01,unit:"x"}},zoomSmoothness:{r:[0,1,2],gr:"gameplayGroup",val:10,type:"SLD",data:{min:5,max:30,step:1,unit:"x"}},autoResp:{r:[0,1,2],gr:"gameplayGroup",val:!1,type:"OPT"},macroFeeding:{r:[0,1,2],gr:"gameplayGroup",val:80,type:"SLD",data:{min:10,max:160,step:10,unit:"ms"}},textScaleMode:{r:[0],gr:"gameplayGroup",val:1,type:"SEL",data:{Linear:1,OFF:0}},mbGroup:{r:[0,1,2],gr:"gameplayGroup",val:0,type:"DIV"},mbRings:{r:[0],gr:"gameplayGroup",val:!0,type:"OPT"},mbMarking:{r:[1,2],gr:"gameplayGroup",val:!1,type:"OPT"},targetTracking:{r:[2],gr:"gameplayGroup",val:!1,type:"OPT"},mbCenterCamera:{r:[0,1,2],gr:"gameplayGroup",val:!0,type:"OPT"},mbSkipCameraScroll:{r:[0,1,2],gr:"gameplayGroup",val:!1,type:"OPT"},mbMultiSplitRange:{r:[0,1,2],gr:"gameplayGroup",val:!1,type:"OPT"},renderer:{r:[0,1,2],gr:"graphicsGroup",val:0,type:"SEL",data:{Canvas:0,"GPU Edit":1},cb:function(){setTimeout(fe,1e3)}},antialiasing:{r:[0,1],gr:"graphicsGroup",val:1,type:"SEL",data:{Disabled:0,Low:1,Medium:2,High:3,Highest:4}},canvasScale:{r:[0,1],gr:"graphicsGroup",val:1,type:"SLD",data:{min:.5,max:2,step:.25,unit:"x"}},jellyPhysics:{r:[0],gr:"graphicsGroup",val:!1,type:"OPT"},snowEnabled:{r:[0],gr:"graphicsGroup",val:!1,type:"OPT"},snowCount:{r:[0],gr:"graphicsGroup",val:500,type:"SLD",data:{min:20,max:1e3,step:1,unit:""}},debug:{r:[0],gr:"graphicsGroup",val:!1,type:"OPT"},oppColors:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},oppRings:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},virColors:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},splitRange:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},doubleSplitRange:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},tripleSplitRange:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},virusesRange:{r:[0,1,2],gr:"helpersGroup",val:!0,type:"OPT"},cursorTracking:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},mbMultiCursorTracking:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},teammatesInd:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},mergeIndicator:{r:[0,1,2],gr:"helpersGroup",val:!1,type:"OPT"},showGhostCells:{r:[0],gr:"helpersGroup",val:!1,type:"OPT"},ghostCellsNames:{r:[0],gr:"helpersGroup",val:!1,type:"OPT"},spawnWaveEffect:{r:[0],gr:"helpersGroup",val:!0,type:"OPT"},skinsGroup:{r:[0,1,2],gr:"cellsGroup",val:0,type:"DIV"},vanillaSkins:{r:[0,1,2],gr:"cellsGroup",val:!0,type:"OPT"},customSkins:{r:[0,1,2],gr:"cellsGroup",val:!0,type:"OPT"},customGifSkins:{r:[0],gr:"cellsGroup",val:!0,type:"OPT"},strokeGroup:{r:[0,1,2],gr:"cellsGroup",val:0,type:"DIV"},cellStroke:{r:[0],gr:"cellsGroup",val:!1,type:"OPT"},cellStrokePlayer:{r:[0],gr:"cellsGroup",val:!1,type:"OPT"},colorsGroup:{r:[0,1,2],gr:"cellsGroup",val:0,type:"DIV"},myTransparentSkin:{r:[0,1,2],gr:"cellsGroup",val:!1,type:"OPT"},transparentSkins:{r:[0,1,2],gr:"cellsGroup",val:!1,type:"OPT"},myCustomColor:{r:[0,1,2],gr:"cellsGroup",val:!1,type:"OPT"},transparentCells:{r:[0,1,2],gr:"cellsGroup",val:!1,type:"OPT"},transparentViruses:{r:[0,1,2],gr:"cellsGroup",val:!0,type:"OPT"},namesGroup:{r:[0,1,2],gr:"cellsGroup",val:0,type:"DIV"},showNames:{r:[0,1,2],gr:"cellsGroup",val:!0,type:"OPT"},namesStroke2:{r:[0],gr:"cellsGroup",val:1,type:"SEL",data:{ON:1,OFF:0,BOX:2}},hideMyName:{r:[0],gr:"cellsGroup",val:!1,type:"OPT"},hideTeammatesNames:{r:[0],gr:"cellsGroup",val:!1,type:"OPT"},autoHideNames:{r:[0],gr:"cellsGroup",val:!0,type:"OPT"},massGroup:{r:[0,1,2],gr:"cellsGroup",val:0,type:"DIV"},showMass:{r:[0,1,2],gr:"cellsGroup",val:!0,type:"OPT"},massStroke2:{r:[0],gr:"cellsGroup",val:1,type:"SEL",data:{ON:1,OFF:0,BOX:2}},shortMass:{r:[0,1,2],gr:"cellsGroup",val:!0,type:"OPT"},hideMyMass:{r:[0,1,2],gr:"cellsGroup",val:!1,type:"OPT"},hideEnemiesMass:{r:[0,1,2],gr:"cellsGroup",val:!1,type:"OPT"},autoHideMass:{r:[0],gr:"cellsGroup",val:!0,type:"OPT"},massUpdateInterval:{r:[0],gr:"cellsGroup",val:500,type:"SLD",data:{min:5,max:700,step:5,unit:"ms"}},foodGroup:{r:[0,1,2],gr:"objectsGroup",val:0,type:"DIV"},showFood:{r:[0,1,2],gr:"objectsGroup",val:!0,type:"OPT"},rainbowFood:{r:[0,1,2],gr:"objectsGroup",val:!1,type:"OPT"},autoHideFood:{r:[0],gr:"objectsGroup",val:!1,type:"OPT"},autoHideFoodOnZoom:{r:[0],gr:"objectsGroup",val:!1,type:"OPT"},virusesGroup:{r:[0,1,2],gr:"objectsGroup",val:0,type:"DIV"},virMassType:{r:[0,1,2],gr:"objectsGroup",val:3,type:"SEL",data:{SHORT:2,OFF:0,FULL:1,SIMPLE:3}},spikedViruses:{r:[0],gr:"objectsGroup",val:!1,type:"OPT"},showGrid:{r:[0,1,2],gr:"mapGroup",val:!1,type:"OPT"},showBgSectors:{r:[0,1,2],gr:"mapGroup",val:!1,type:"OPT"},customBgSectorsSymbol:{r:[0,1],gr:"mapGroup",val:"",type:"INP"},showMapBorders:{r:[0,1,2],gr:"mapGroup",val:!0,type:"OPT"},showMiniMap:{r:[0,1,2],gr:"miniMapGroup",val:!0,type:"OPT"},showMiniMapSectors:{r:[0,1,2],gr:"miniMapGroup",val:!0,type:"OPT"},showMiniMapGrid:{r:[0,1,2],gr:"miniMapGroup",val:!1,type:"OPT"},showMiniMapGhostCells:{r:[0,1,2],gr:"miniMapGroup",val:!0,type:"OPT"},showMiniMapGuides:{r:[0,1,2],gr:"miniMapGroup",val:!0,type:"OPT"},showExtraMiniMapGuides:{r:[0,1,2],gr:"miniMapGroup",val:!1,type:"OPT"},oneColoredTeammates:{r:[0,1,2],gr:"miniMapGroup",val:!1,type:"OPT"},showTime:{r:[0,1,2],gr:"miniMapGroup",val:!0,type:"OPT"},timeHudTemplate:{r:[0,1,2],gr:"miniMapGroup",val:"%d.%m.%Y, %H:%i:%s",type:"INP"},showTop5:{r:[0,1,2],gr:"lbGroup",val:!0,type:"OPT"},teamboardLength:{r:[0,1,2],gr:"lbGroup",val:10,type:"SLD",data:{min:5,max:30,step:1,unit:""}},showLbSectors:{r:[0,1,2],gr:"lbGroup",val:!1,type:"OPT"},showLbData:{r:[0,1,2],gr:"lbGroup",val:!0,type:"OPT"},showLbTotal:{r:[0,1,2],gr:"lbGroup",val:!0,type:"OPT"},showLbBots:{r:[0,1,2],gr:"lbGroup",val:!0,type:"OPT"},leaderboardLength:{r:[0,1,2],gr:"lbGroup",val:10,type:"SLD",data:{min:5,max:30,step:1,unit:""}},lbRightAlign:{r:[0,1,2],gr:"lbGroup",val:!1,type:"OPT"},normalLb:{r:[0,1,2],gr:"lbGroup",val:!1,type:"OPT"},disableChat:{r:[0,1,2],gr:"chatGroup",val:!1,type:"OPT"},chatEmoticons:{r:[0,1,2],gr:"chatGroup",val:!0,type:"OPT"},showChatImages:{r:[0,1,2],gr:"chatGroup",val:!0,type:"OPT"},showChatVideos:{r:[0,1,2],gr:"chatGroup",val:!0,type:"OPT"},showChatBox:{r:[0,1,2],gr:"chatGroup",val:!0,type:"OPT"},showMessageSenderId:{r:[0,1,2],gr:"chatGroup",val:!1},enableAgartool:{r:[0,1,2],gr:"chatGroup",val:!1,type:"OPT"},showStats:{r:[0,1,2],gr:"statsGroup",val:!0,type:"OPT"},statsAtCenter:{r:[0,1,2],gr:"statsGroup",val:!1,type:"OPT"},showStatsMass:{r:[0,1,2],gr:"statsGroup",val:!0,type:"OPT"},showStatsSTE:{r:[0,1,2],gr:"statsGroup",val:!1,type:"OPT"},showStatsN16:{r:[0,1,2],gr:"statsGroup",val:!1,type:"OPT"},showStatsFPS:{r:[0,1,2],gr:"statsGroup",val:!0,type:"OPT"},showStatsPING:{r:[0,1,2],gr:"statsGroup",val:!0,type:"OPT"},showStatsPPS:{r:[0,1,2],gr:"statsGroup",val:!0,type:"OPT"},menuSounds:{r:[0,1,2],gr:"soundsGroup",val:!0,type:"OPT"},chatSounds:{r:[0,1,2],gr:"soundsGroup",val:!0,type:"OPT"},messageSound_:{r:[0,1,2],gr:"soundsGroup",val:"assets/notification_01.mp3",type:"INP"},commandSound_:{r:[0,1,2],gr:"soundsGroup",val:"assets/notification_02.mp3",type:"INP"},virusEatSound:{r:[0,1,2],gr:"soundsGroup",val:!1,type:"OPT"},virusFeedSound:{r:[0,1,2],gr:"soundsGroup",val:!1,type:"OPT"},virusPopSound:{r:[0,1,2],gr:"soundsGroup",val:!1,type:"OPT"},x16Sound:{r:[0,1,2],gr:"soundsGroup",val:!0,type:"OPT"},non16Sound:{r:[0,1,2],gr:"soundsGroup",val:!0,type:"OPT"},hideUserForms:{r:[0,1,2],gr:"extrasGroup",val:!1,type:"OPT"},autoCollectCoins:{r:[0,1,2],gr:"extrasGroup",val:!0,type:"OPT"},autoBrewingPotions:{r:[0,1,2],gr:"extrasGroup",val:!0,type:"OPT"},autoNotice:{r:[0,1,2],gr:"extrasGroup",val:!0,type:"OPT"},showMultiProfile:{r:[0,1,2],gr:"extrasGroup",val:!1,type:"OPT"}},de=window._settings={};for(var pe in he)de[pe]=he[pe].val;var me=window.settings=B(de),ve={bgColor:{r:[0,1,2],gr:"mainTheme",val:"#000a11",type:"HEX",data:{},css:1},bordersColor:{r:[0,1,2],gr:"mainTheme",val:"#01d9cc",type:"HEX",data:{}},gridColor:{r:[0,1,2],gr:"mainTheme",val:"#00243e",type:"HEX",data:{}},sectorsColor:{r:[0,1,2],gr:"mainTheme",val:"#00243e",type:"HEX",data:{}},namesColor:{r:[0,1,2],gr:"mainTheme",val:"#ffffff",type:"HEX",data:{}},namesStrokeColor:{r:[0,1,2],gr:"mainTheme",val:"#000000",type:"RGBA",data:{}},massColor:{r:[0,1,2],gr:"mainTheme",val:"#ffffff",type:"HEX",data:{}},massStrokeColor:{r:[0,1,2],gr:"mainTheme",val:"#000000",type:"RGBA",data:{}},virusColor:{r:[0,1,2],gr:"mainTheme",val:"#002f52",type:"HEX",data:{}},virusRangeColor:{r:[0,1,2],gr:"mainTheme",val:"#666666",type:"HEX",data:{}},virusStrokeColor:{r:[0,1,2],gr:"mainTheme",val:"#00b9e8",type:"HEX",data:{}},mothercellColor:{r:[0,1,2],gr:"mainTheme",val:"#002f52",type:"HEX",data:{}},mothercellStrokeColor:{r:[0,1,2],gr:"mainTheme",val:"#00b9e8",type:"HEX",data:{}},mboxActiveCellStroke:{r:[0,1,2],gr:"mainTheme",val:"#ff00aa",type:"RGBA",data:{}},mboxUnactiveCellStroke:{r:[0,1,2],gr:"mainTheme",val:"#FFFFFF",type:"RGBA",data:{}},mergeIndicatorColor:{r:[0,1,2],gr:"mainTheme",val:"#00ff29",type:"HEX",data:{}},foodColor:{r:[0,1,2],gr:"mainTheme",val:"#5000ff",type:"HEX",data:{}},teammatesIndColor:{r:[0,1,2],gr:"mainTheme",val:"#ffffff",type:"HEX",data:{}},cursorTrackingColor:{r:[0,1,2],gr:"mainTheme",val:"rgba(255, 255, 255, 0.75)",type:"RGBA",data:{}},splitRangeColor:{r:[0,1,2],gr:"mainTheme",val:"#ffffff",type:"HEX",data:{}},safeAreaColor:{r:[0,1,2],gr:"mainTheme",val:"#ffffff",type:"HEX",data:{}},dangerAreaColor:{r:[0,1,2],gr:"mainTheme",val:"#bf00aa",type:"HEX",data:{}},ghostCellsColor:{r:[0,1,2],gr:"mainTheme",val:"#ffffff",type:"HEX",data:{}},bHSTEColor:{r:[0,1,2],gr:"mainTheme",val:"#4000ff",type:"HEX",data:{}},sHSTEColor:{r:[0,1,2],gr:"mainTheme",val:"#0040ff",type:"HEX",data:{}},bDSTEColor:{r:[0,1,2],gr:"mainTheme",val:"#8000ff",type:"HEX",data:{}},sDSTEColor:{r:[0,1,2],gr:"mainTheme",val:"#005a63",type:"HEX",data:{}},bSTEColor:{r:[0,1,2],gr:"mainTheme",val:"#FF00FF",type:"HEX",data:{}},sSTEColor:{r:[0,1,2],gr:"mainTheme",val:"#80ff00",type:"HEX",data:{}},bColor:{r:[0,1,2],gr:"mainTheme",val:"#FF0000",type:"HEX",data:{}},eColor:{r:[0,1,2],gr:"mainTheme",val:"#FFFF00",type:"HEX",data:{}},sColor:{r:[0,1,2],gr:"mainTheme",val:"#00ffff",type:"HEX",data:{}},nickfont:{r:[0,1,2],gr:"mainTheme",val:new ne.fontInstance("normal normal 500 2500px/normal Ubuntu"),type:"FONT",data:{}},massfont:{r:[0,1,2],gr:"mainTheme",val:new ne.fontInstance("normal normal 500 2500px/normal Ubuntu"),type:"FONT",data:{}},sectorsfont:{r:[0,1,2],gr:"mainTheme",val:new ne.fontInstance("normal normal 500 2500px/normal Ubuntu"),type:"FONT",data:{}},darkTheme:{r:[0,1,2],gr:"mainTheme",val:!0,type:"OPT"},mbRingWidth:{r:[0,1,2],gr:"mainTheme",val:20,type:"SLD",data:{min:2,max:100,step:2}},cursorTrackingSize:{r:[0,1,2],gr:"mainTheme",val:6,type:"SLD",data:{min:4,max:20,step:1}},sectorsfontSize:{r:[0,1,2],gr:"mainTheme",val:1200,type:"SLD",data:{min:20,max:2e3,step:10}},namesScale:{r:[0,1,2],gr:"mainTheme",val:1,type:"SLD",data:{min:.5,max:2,step:.1},dim:"x"},massScale:{r:[0,1,2],gr:"mainTheme",val:2,type:"SLD",data:{min:1,max:5,step:.2},dim:"x"},virMassScale:{r:[0,1,2],gr:"mainTheme",val:3,type:"SLD",data:{min:1,max:5,step:.2},dim:"x"},strokeScale:{r:[0,1,2],gr:"mainTheme",val:1,type:"SLD",data:{min:1,max:2,step:.05}},foodSize:{r:[0,1,2],gr:"mainTheme",val:5,type:"SLD",data:{min:1,max:10,step:1}},virusStrokeSize:{r:[0,1,2],gr:"mainTheme",val:14,type:"SLD",data:{min:2,max:40,step:1}},bordersWidth:{r:[0,1,2],gr:"mainTheme",val:20,type:"SLD",data:{min:2,max:200,step:2}},sectorsWidth:{r:[0,1,2],gr:"mainTheme",val:40,type:"SLD",data:{min:2,max:200,step:2}},cellsAlpha:{r:[0,1,2],gr:"mainTheme",val:1,type:"SLD",data:{min:.3,max:1,step:.01},dim:"x"},skinsAlpha:{r:[0,1,2],gr:"mainTheme",val:1,type:"SLD",data:{min:.3,max:1,step:.01},dim:"x"},virusAlpha:{r:[0,1,2],gr:"mainTheme",val:.6,type:"SLD",data:{min:.3,max:1,step:.01},dim:"x"},textAlpha:{r:[0,1,2],gr:"mainTheme",val:1,type:"SLD",data:{min:.3,max:1,step:.01},dim:"x"},ghostCellsAlpha:{r:[0,1,2],gr:"mainTheme",val:.09,type:"SLD",data:{min:.05,max:1,step:.01},dim:"x"},cellBrightness:{r:[0,1,2],gr:"mainTheme",val:0,type:"SLD",data:{min:-100,max:100,step:5}},cellSaturation:{r:[0,1,2],gr:"mainTheme",val:0,type:"SLD",data:{min:-100,max:100,step:5}},customMapTexture:{r:[0,1,2],gr:"mainTheme",val:"",type:"INP",data:{}},customMapLogo:{r:[0,1,2],gr:"mainTheme",val:"https://i.imgur.com/7cugADY.png",type:"INP",data:{}},customBackground:{r:[0,1,2],gr:"mainTheme",val:"",type:"INP",data:{}},menuOpacity:{r:[0,1,2],gr:"menuTheme",val:.96,type:"SLD",data:{min:.7,max:1,step:.01},css:1},menuBlur:{r:[0,1,2],gr:"menuTheme",val:0,type:"SLD",data:{min:0,max:8,step:.01},css:1,dim:"px"},menuMainColor:{r:[0,1,2],gr:"menuTheme",val:"#01d9cc",type:"HEX",data:{},css:1},menuBtnTextColor:{r:[0,1,2],gr:"menuTheme",val:"#ffffff",type:"HEX",data:{},css:1},panelGroup:{r:[0,1,2],gr:"menuTheme",val:0,type:"DIV"},menuPanelColor:{r:[0,1,2],gr:"menuTheme",val:"#00243e",type:"RGBA",data:{},css:1},menuTextColor:{r:[0,1,2],gr:"menuTheme",val:"#ffffff",type:"RGBA",data:{},css:1},menuPanelColor2:{r:[0,1,2],gr:"menuTheme",val:"rgba(21, 21, 21, 0.31)",type:"RGBA",data:{},css:1},tabsColor:{r:[0,1,2],gr:"menuTheme",val:"rgb(255, 255, 255)",type:"RGBA",data:{},css:1},menuPanelColor2active:{r:[0,1,2],gr:"menuTheme",val:"#002f52",type:"RGBA",data:{},css:1},menuTextColor2:{r:[0,1,2],gr:"menuTheme",val:"#8096a7",type:"RGBA",data:{},css:1},inputBg:{r:[0,1,2],gr:"menuTheme",val:"rgba(21, 21, 21, 0.28)",type:"RGBA",data:{},css:1},btnPrimaryColor:{r:[0,1,2],gr:"menuTheme",val:"#2d3f58",type:"RGBA",data:{},css:1},btnPrimaryColorHover:{r:[0,1,2],gr:"menuTheme",val:"rgba(255, 255, 255, 0.06)",type:"RGBA",data:{},css:1},menuFont2:{r:[0,1,2],gr:"menuTheme",val:new ne.fontInstance("normal normal 500 2500px/normal Roboto"),type:"FONT",data:{}},menuBg:{r:[0,1,2],gr:"menuTheme",val:"",type:"INP",data:{},css:1,csshook:function(e){return"url('".concat(e.indexOf("http")>-1?e:document.baseURI+e,"')")}},hudBlur:{r:[0,1,2],gr:"hudTheme",val:0,type:"SLD",data:{min:0,max:8,step:.01},css:1,dim:"px"},hudMainColor:{r:[0,1,2],gr:"hudTheme",val:"#00D1C5",type:"HEX",data:{},css:1},hudColor:{r:[0,1,2],gr:"hudTheme",val:"rgba(0,0,0,0.4)",type:"RGBA",data:{},css:1},hudTextColor:{r:[0,1,2],gr:"hudTheme",val:"#ffffff",type:"HEX",data:{},css:1},statsHudColor:{r:[0,1,2],gr:"hudTheme",val:"#ffffff",type:"HEX",data:{},css:1},timeHudColor:{r:[0,1,2],gr:"hudTheme",val:"#01d9cc",type:"HEX",data:{},css:1},top5MassColor:{r:[0,1,2],gr:"hudTheme",val:"#0F7BA3",type:"HEX",data:{},css:1},lbMeColor:{r:[0,1,2],gr:"hudTheme",val:"#bf00aa",type:"HEX",data:{},css:1},lbFriendColor:{r:[0,1,2],gr:"hudTheme",val:"#018cf6",type:"HEX",data:{},css:1},hudFont:{r:[0,1,2],gr:"hudTheme",val:new ne.fontInstance("normal normal 500 2500px/normal Ubuntu"),type:"FONT",data:{}},hudScale:{r:[0,1,2],gr:"hudTheme",val:1,type:"SLD",data:{min:.5,max:2,step:.01}},hudTransparency:{r:[0,1,2],gr:"hudTheme",val:1,type:"SLD",data:{min:.3,max:1,step:.01},css:!0},messageColor:{r:[0,1,2],gr:"chatTheme",val:"rgba(0,0,0,0.4)",type:"RGBA",data:{},css:1},messageTextColor:{r:[0,1,2],gr:"chatTheme",val:"#ffffff",type:"HEX",data:{},css:1},messageTimeColor:{r:[0,1,2],gr:"chatTheme",val:"#018cf6",type:"HEX",data:{},css:1},messageNickColor:{r:[0,1,2],gr:"chatTheme",val:"#01d9cc",type:"HEX",data:{},css:1},commandsColor:{r:[0,1,2],gr:"chatTheme",val:"rgba(191,0,170,0.9)",type:"RGBA",data:{},css:1},commandsTextColor:{r:[0,1,2],gr:"chatTheme",val:"#ffffff",type:"HEX",data:{},css:1},commandsTimeColor:{r:[0,1,2],gr:"chatTheme",val:"#bf00aa",type:"HEX",data:{},css:1},commandsNickColor:{r:[0,1,2],gr:"chatTheme",val:"#ffffff",type:"HEX",data:{},css:1},chatBoxColor:{r:[0,1,2],gr:"chatTheme",val:"rgba(0,0,0,0.4)",type:"RGBA",data:{},css:1},chatScale:{r:[0,1,2],gr:"chatTheme",val:1,type:"SLD",data:{min:.6,max:2,step:.01}},chatTextScale:{r:[0,1,2],gr:"chatTheme",val:1,type:"SLD",data:{min:.6,max:2,step:.01}},miniMapSectorsColor:{r:[0,1,2],gr:"minimapTheme",val:"#ffffff",type:"HEX",data:{}},miniMapNickColor:{r:[0,1,2],gr:"minimapTheme",val:"#ffffff",type:"HEX",data:{}},miniMapNickStrokeColor:{r:[0,1,2],gr:"minimapTheme",val:"#000000",type:"HEX",data:{}},miniMapMyCellColor:{r:[0,1,2],gr:"minimapTheme",val:"#ffffff",type:"HEX",data:{}},miniMapMyCellStrokeColor:{r:[0,1,2],gr:"minimapTheme",val:"#0076BF",type:"HEX",data:{}},miniMapTeammatesColor:{r:[0,1,2],gr:"minimapTheme",val:"#01d9cc",type:"HEX",data:{}},miniMapDeathLocationColor:{r:[0,1,2],gr:"minimapTheme",val:"#bf00aa",type:"HEX",data:{}},miniMapGuidesColor:{r:[0,1,2],gr:"minimapTheme",val:"#bf00aa",type:"HEX",data:{}},miniMapGhostCellsColor:{r:[0,1,2],gr:"minimapTheme",val:"#ffffff",type:"HEX",data:{}},miniMapFont:{r:[0,1,2],gr:"minimapTheme",val:new ne.fontInstance("normal normal 500 2500px/normal Ubuntu"),type:"FONT",data:{}},miniMapNickfont:{r:[0,1,2],gr:"minimapTheme",val:new ne.fontInstance("normal normal 500 2500px/normal Ubuntu"),type:"FONT",data:{}},miniMapNickSize:{r:[0,1,2],gr:"minimapTheme",val:11,type:"SLD",data:{min:3,max:16,step:1}},miniMapNickStrokeSize:{r:[0,1,2],gr:"minimapTheme",val:2,type:"SLD",data:{min:0,max:6,step:1}},miniMapCanvasScale:{r:[0,2,3],gr:"minimapTheme",val:1,type:"SLD",data:{min:.5,max:2,step:.25},dim:"x"},miniMapScale:{r:[0,1,2],gr:"minimapTheme",val:1,type:"SLD",data:{min:.2,max:2,step:.02},dim:"x"},miniMapSectorsOpacity:{r:[0,1,2],gr:"minimapTheme",val:.1,type:"SLD",data:{min:0,max:1,step:.01},dim:"x"},miniMapMyCellSize:{r:[0,1,2],gr:"minimapTheme",val:5,type:"SLD",data:{min:4,max:10,step:.5}},miniMapMyCellStrokeSize:{r:[0,1,2],gr:"minimapTheme",val:2,type:"SLD",data:{min:0,max:10,step:1}},miniMapTeammatesSize:{r:[0,1,2],gr:"minimapTheme",val:5.5,type:"SLD",data:{min:4,max:10,step:.5}},miniMapGhostCellsAlpha:{r:[0,1,2],gr:"minimapTheme",val:.15,type:"SLD",data:{min:.01,max:.99,step:.01}},sectorsX:{r:[0,1,2],gr:"minimapTheme",val:5,type:"SLD",data:{min:1,max:30,step:1}},sectorsY:{r:[0,1,2],gr:"minimapTheme",val:5,type:"SLD",data:{min:1,max:30,step:1}},customCursor:{r:[0,1,2],gr:"cursorTheme",val:"assets/cursors/cursor_01.cur",type:"CUR",data:{path:"assets/cursors/cursor_",length:42}}},ye=window._theme={};function ge(){var e=pe;Object.defineProperties(ye,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{set:function(t){ye[e].setter(t)},get:function(){return ve[e].val},enumerable:!0}))}for(var pe in ve)"object"==y(ve[pe].val)?ge():ye[pe]=ve[pe].val;for(var be=window.theme=B(ye),we=window.hotkeys=B({}),ke={selectBiggestCell:!0,showAnySkins:!0,showCustomSkins:!0,pause:!1,showNames:!0},_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Se=[{name:"imgur.com",url:"https://imgur.com/",example:"https://i.imgur.com/xdmUp5N.png",regexp:/^https?:\/\/\w+\.imgur\.com\/\w{6,}\.(?:jpg|jpeg|png|gif)\??\d*/i,pattern:""},{name:"put.re",url:"https://put.re/",example:"https://s.put.re/iYHAW65g.png",regexp:/^https?:\/\/\w+\.put\.re\/\w{8,}\.(?:jpg|jpeg|png|gif)/i,pattern:""},{name:"hizliresim.com",url:"https://hizliresim.com/",example:"https://i.hizliresim.com/JjhDBo.jpg",regexp:/^https?:\/\/\w+\.hizliresim\.com\/\w{6,}\.(?:jpg|jpeg|png|gif)/i,pattern:""},{name:"imgbb.com",url:"https://imgbb.com/",example:"https://i.ibb.co/34qyQqs/filename.jpg",regexp:/^https?:\/\/\w+\.ibb\.co\/\w{6,}\/\w+\.(?:jpg|jpeg|png|gif)/i,pattern:""},{name:"postimages.org",url:"https://postimages.org/",example:"https://i.postimg.cc/zzK0sRPg/xdmUp5N.png",regexp:/^https?:\/\/\w+\.postimg\.cc\/\w{8,}\/\w+\.(?:jpg|jpeg|png|gif)/i,pattern:""}],Ce=0,Te=Se;Ce<Te.length;Ce++){var xe=Te[Ce];xe.pattern=xe.regexp.source}function Pe(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=f(Se);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=t.match(r.regexp);if(o)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}var Me="",Ie=new Date;2!=Ie.getMonth()&&6!=Ie.getMonth()||(Me="https://i.imgur.com/9Po3bwE.png")},function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n(3),o=n(0);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){e.target.result.createObjectStore("cache")}function m(){console.error("Error creating/accessing db")}function v(){var e=this;return new Promise((function(t){var n=indexedDB.open("tactics.cache",e.version);function r(){e.db.createObjectStore("cache"),t()}n.onupgradeneeded=p,n.onsuccess=function(){(e.db=n.result,e.db.onerror=m,e.db.setVersion&&e.db.version!==e.version)?e.db.setVersion(e.version).onsuccess=r:t()}}))}function y(e,t){var n=this;return new Promise((function(r,o){if(!n.db)return o("DB not initialized. Call the init method");n.db.transaction(["cache"],"readwrite").objectStore("cache").put(t,e);r()}))}function g(e){var t=this;return new Promise((function(n,r){var o=t.db.transaction(["cache"],"readwrite").objectStore("cache").get(e);o.onerror=function(e){r()},o.onsuccess=function(e){e.target.result?n(e.target.result):r()}}))}new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.version=t.version||1,this.assets={},this.db=null}return d(e,[{key:"init",value:v},{key:"putImage",value:y},{key:"getImage",value:g}]),e}())({version:1}).init();var b={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",NOTDEFINED:"NOTDEFINED"},w={SKIN:"SKIN",ANIMATION:"ANIMATION",TEXTURE:"TEXTURE"};function k(){var e=this;return new Promise((function(t,n){if(0===settings.renderer&&e.isAnimated&&settings.customGifSkins){var r=new re(e.url);return e.type=e.Types.ANIMATION,e.animation=r,e.isLoading=!0,r.onparse=function(){e.isLoaded=!0,e.isLoading=!1,e.animation=r},r.onload=function(){e.isLoaded=!0,e.isLoading=!1,t(r)},r.onerror=function(){r.onparse=r.onload=r.onerror=null,e.isLoaded=!1,e.isLoading=!1,n()},void r.onRequestSkin()}var o=new Image;o.crossOrigin="Anonymous",o.referrerPolicy="no-referrer-when-downgrade",o.src=e.url,e.isLoading=!0,o.width?(e.isLoading=!1,e.isLoaded=!0,t(o)):(o.onload=function(){o.onerror=o.onload=null,e.isLoading=!1,e.isLoaded=!0,t(o)},o.onerror=function(){o.onerror=o.onload=null,e.isLoading=!1,e.isLoaded=!1,n()},setTimeout((function(){0==e.isLoaded&&(o.onerror=o.onload=null,n())}),5e3))}))}function _(e,t){}function S(){return new Promise(_)}function C(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(this.type===w.SKIN&&(t.width=512,t.height=512),this.type===w.TEXTURE&&(t.width=e.width,t.height=e.height),n.clearRect(0,0,t.width,t.height),this.type===w.SKIN&&(n.beginPath(),n.arc(256,256,256,0,2*Math.PI,!0),n.clip(),e.width/2===e.height?n.drawImage(e,0,0,e.height,e.height,0,0,512,512):n.drawImage(e,0,0,e.width,e.height,0,0,512,512)),this.type===w.TEXTURE&&n.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),this.type===w.SKIN){var r=G.getAverageRGB(n,512,512);this.averageColor=G.darkenColor(r.color.slice(1),-13),this.alphaAverage=r.alpha}return t}function T(e,t){var n=this;return new Promise((function(r,o){t||(t=new Image),window.URL&&window.URL.createObjectURL&&window.HTMLCanvasElement.prototype.toBlob?e.toBlob((function(e){var o=URL.createObjectURL(e);t.src=o,n.image=t,t.onload=function(){t.onload=null,r({img:t,blob:e}),window.URL.revokeObjectURL(e)}}),"image/gif",0):(t.src=e.toDataURL("image/gif",0),n.image=t,r(t))}))}function x(e){var t=this;function n(r,o){var i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=document.createElement("canvas"),a=i.getContext("2d"),i.width=img.width,i.height=img.height,n.next=6,t.imageFromBlob(e);case 6:return a.drawImage(img,0,0,img.width,img.height,0,0,i.width,i.height),t.type===w.SKIN&&(s=G.getAverageRGB(a,512,512),t.averageColor=G.darkenColor(s.color.slice(1),-13),t.alphaAverage=s.alpha),n.abrupt("return",i);case 9:case"end":return n.stop()}}),n)}return new Promise(function(){var e,t=(e=regeneratorRuntime.mark(n),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}function P(e){var t=this,n=URL.createObjectURL(e);return new Promise((function(e,r){var o=new Image;o.src=n,o.onload=function(){o.onerror=o.onload=null,t.isLoading=!1,t.isLoaded=!0,e(o),window.URL.revokeObjectURL(n)},t.image=o}))}var M=function(){function e(t,n,r){f(this,e),this.Types=w,this.States=b,this.url=t,this.type=n,this.name=r,this.isAnimated=/.*\.gif$/.test(t),this.isLoading=!0,this.isLoaded=!1,this.averageColor="#FF0000",this.alphaAverage=0,this.animation=null,this.canvas=null,this.bitmap=null,this.image=null}return d(e,[{key:"downloadImage",value:k},{key:"downloadAnimation",value:S},{key:"cropImage",value:C},{key:"canvasToImg",value:T},{key:"canvasFromBlob",value:x},{key:"imageFromBlob",value:P}]),e}();function I(){this.customSkinMap.clear()}function O(e,t){e&&t&&this.customSkinMap.set(e,t)}function R(e){var t=this.customSkinMap.get(e);if(!t)return!1;var n=this.animations.get(t);return void 0===n?(this.addToQueue(new M(t,w.ANIMATION)),!1):n}function U(e){var t=this.customSkinMap.get(e);if(!t)return!1;var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new M(t,w.SKIN,e)):n}function A(e){var t=this.vanillaSkinMap.get(e);if(!t)return!1;var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new M(t,w.SKIN,e)):n}function E(e){var t=this.vanillaCustomSkinMap.get(e);t||(t="https://configs.agario.miniclippt.com/live/custom_skins/"+e.replace("%custom","skin_custom")+".png?",this.vanillaCustomSkinMap.set(e,t));var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new M(t,w.SKIN,e)):n}function L(e){for(var t=e.gameConfig["Gameplay - Equippable Skins"],n=e.gameConfig["Gameplay - Free Skins"],o=e.gameConfig["Visual - Prod. Spine Animations"],i=0;i<o.length;i++)this.vanillaSkinMap.set(o[i].productId.replace("skin_","%"),"https://configs-web.agario.miniclippt.com/live/v15/"+r.a.data.latest_config_id+"/"+o[i].spineFileName+".png?");for(var a=0;a<n.length;a++)this.vanillaSkinMap.set(n[a].id.toLowerCase(),"https://configs-web.agario.miniclippt.com/live/v15/"+r.a.data.latest_config_id+"/"+n[a].image+"?");for(var s=0;s<t.length;s++)"uses_spine"!=t[s].image&&this.vanillaSkinMap.set(t[s].productId.replace("skin_","%"),"https://configs-web.agario.miniclippt.com/live/v15/"+r.a.data.latest_config_id+"/"+t[s].image+"?")}function F(e){var t=this.texturesMap.get(e);if(!t)return!1;var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new M(t,w.TEXTURE,e)):n}function j(e){var t=0===this.queue.length;return this.downloadedObjects.set(e.url,e),this.queue.push(e),t&&this.dequeue(),e}function D(){var e=this;if(0===this.queue.length)return!1;var t=this.queue[0];function n(){e.emit(t.name,t),e.queue.shift(),e.dequeue()}t.downloadImage().then((function(r){var o=t.cropImage(r);t.canvas=o,e.saveContextCallback(t,n)})).catch((function(){e.queue.shift(),e.dequeue()}))}function B(e,t,n){var r,o,i={r:0,g:0,b:0},a=-4,s={r:0,g:0,b:0,a:0},l=0;if(!e)return i;try{r=e.getImageData(0,0,t,n)}catch(e){return i}for(o=r.data.length;(a+=20)<o;)++l,s.r+=r.data[a],s.g+=r.data[a+1],s.b+=r.data[a+2],s.a+=r.data[a+3];return s.r=~~(s.r/l),s.g=~~(s.g/l),s.b=~~(s.b/l),s.a=~~(s.a/l),{color:"#"+(16777216+(s.r<<16|s.g<<8|s.b<<0)).toString(16).slice(1),alpha:s.a}}function z(e,t){var n=parseInt(e,16),r=Math.round(2.55*t),o=(n>>16)+r,i=(n>>8&255)+r,a=(255&n)+r;return"#"+(16777216+65536*(o<255?o<1?0:o:255)+256*(i<255?i<1?0:i:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)}function N(e,t){e.canvasToImg(e.canvas,e.img).then((function(n){var r=n.img;n.blob;e.image=r,t&&t()}))}var H,G=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(n,e);var t=s(n);function n(){var e;return f(this,n),(e=t.call(this)).animations=new Map,e.customSkinMap=new Map,e.vanillaSkinMap=new Map,e.vanillaCustomSkinMap=new Map,e.vanillaSpinesSkin=new Map,e.downloadedObjects=new Map,e.averageColors=new Map,e.texturesMap=new Map,e.queue=[],e.processingCanvas=window.document.createElement("canvas"),e.drawBackground=!1,e.processingCanvas.width=512,e.processingCanvas.height=512,e}return d(n,[{key:"render",value:I},{key:"cacheKey",value:O},{key:"getCustomAnimation",value:R},{key:"getCustomSkin",value:U},{key:"getVanillaSkin",value:A},{key:"getVanillaCustomSkin",value:E},{key:"getVanillaSkinsLinks",value:L},{key:"getTexture",value:F},{key:"addToQueue",value:j},{key:"dequeue",value:D},{key:"getAverageRGB",value:B},{key:"darkenColor",value:z},{key:"saveContextCallback",value:N}]),n}(o.d)),q="("+"function () {\n\t   window = self\n\t   importScripts('".concat(document.baseURI,"ext2/lib/gifuct.min.js');\n\t   self.onmessage = function (e) {\n\t\t   var arrayBuffer = e.data.buffer\n\t\t   var byteArray = new Uint8Array(arrayBuffer);\n\t\t   var gif = new GIF(byteArray);\n\t\t   var frames = gif.decompressFrames(true);\n\t\t   var cf = []\n\t\t   frames.forEach(function (frame) {\n\t\t\t   cf.push({\n\t\t\t\t   dims: frame.dims,\n\t\t\t\t   patch: frame.patch,\n\t\t\t\t   delay: frame.delay\n\t\t\t   })\n\t\t   })\n\t\t   postMessage({id: e.data.id, frames: cf})\n\t   }\n\n   }")+")()";try{H=new Blob([q],{type:"application/javascript"})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(H=new window.BlobBuilder).append(q),H=H.getBlob()}var X=new Worker(window.URL.createObjectURL(H));function W(){return"load"}function Y(){return"error"}function V(){return console.log("onparse"),"onparse"}function $(e){return!0}function K(){this.allFramesRendered=!1,0==this.firstSkinRequest&&(this.firstSkinRequest=!0,this.loadGIF())}function Z(){var e=this;if(0!==settings.renderer)return console.log("animations disabled in gpu");var t=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType="arraybuffer",t.onerror=this.onerror,t.onload=function(n){var r=t.response;r&&X.postMessage({type:"gif",id:e.id,url:e.url,buffer:r}),e.onload(n)},t.send(null)}function Q(e){this.loadedFrames=e,this.gifCanvas.width=e[0].dims.width,this.gifCanvas.height=e[0].dims.height,this.targetTime=e[0].delay}function J(e){var t=e.dims;this.frameImageData&&t.width==this.frameImageData.width&&t.height==this.frameImageData.height||(this.tempCanvas.width=t.width,this.tempCanvas.height=t.height,this.frameImageData=this.tempCtx.createImageData(t.width,t.height)),this.frameImageData.data.set(e.patch),this.tempCtx.putImageData(this.frameImageData,0,0),this.gifCtx.drawImage(this.tempCanvas,t.left,t.top)}function ee(){this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(this.gifCanvas,0,0,512,512),this.ctx.restore()}function te(e){var t=Date.now();e=t-this.lastRequestTime,this.lastRequestTime=t,this.time+=e,this.time>this.targetTime&&(this.drawFrameLayer(this.loadedFrames[this.frameIndex]),this.manipulate(),this.targetTime=this.time+this.loadedFrames[this.frameIndex].delay,++this.frameIndex>=this.loadedFrames.length&&(this.frameIndex=0))}function ne(){}var re=function(){function e(t){var n,r=this;f(this,e),this.animated=!0,this.url=t,this.c=document.createElement("canvas"),this.c.width=512,this.c.height=512,this.tempCanvas=document.createElement("canvas"),this.gifCanvas=document.createElement("canvas"),this.ctx=this.c.getContext("2d"),this.ctx.arc(256,256,256,0,2*Math.PI,!1),this.tempCtx=this.tempCanvas.getContext("2d"),this.gifCtx=this.gifCanvas.getContext("2d"),this.firstSkinRequest=!1,this.isParsed=!1,this.loadedFrames=null,this.frameImageData=null,this.frameIndex=0,this.id=Math.random(),this.currentFrame=null,this.time=0,this.targetTime=0,this.lastRequestTime=0,this.averageColor="#000000",X.addEventListener("message",n=function(e){if(e.data.id==r.id){X.removeEventListener("message",n),r.renderGIF(e.data.frames),r.move(0);var t=G.getAverageRGB(r.ctx,512,512);r.averageColor=G.darkenColor(t.color),r.alphaAverage=t.alpha,r.isParsed=!0,r.onparse()}})}return d(e,[{key:"onload",value:W},{key:"onerror",value:Y},{key:"onparse",value:V},{key:"validate",value:$},{key:"onRequestSkin",value:K},{key:"loadGIF",value:Z},{key:"renderGIF",value:Q},{key:"drawFrameLayer",value:J},{key:"manipulate",value:ee},{key:"move",value:te},{key:"nextFrame",value:ne}]),e}();window.Animation=re},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=Symbol("_throttledRender"),h=Symbol("_animFrame"),d=Symbol("_profiler"),p=Symbol("_tick"),m=Symbol("_init");function v(){return 19}function y(){this.ticking||(this.startTime=Date.now(),this[p]())}function g(){this.ticking&&window.cancelAnimationFrame(this.animFrame),this.animFrame=null,this.fpsLastRequest=null,this.ticking=!1}function b(e){var t=!1;this.ticking&&(t=!0,this.stop()),this.fps=e,this.fpsInTicks=1e3/this.fps,t&&this.start()}function w(){return this.fps}function k(){return this.ticking}function _(){this.stop()}function S(){return(new Date).getTime()}function C(){Date.now||(Date.now=S),this.fps&&(this.fpsInTicks=1e3/this.fps)}function T(){this.ticking||(this.ticking=!0),this.animFrame=window.requestAnimationFrame(this[h])}function x(){this.fps=this.average>>1,this.fpsInTicks=1e3/this.fps}function P(e){var t,n,r,o=this,i=this.startTime+e;r=(n=i-this.fpsLastRequest)/1e3,this.fpsLastRequest=i;var a=1/r;this._sample_[this._index_]=Math.round(a);for(var s=0,l=0;l<this._sample_.length;l++)s+=this._sample_[l];s=Math.round(s/this._sample_.length),this._index_++,this._index_===this.sampleSize&&(this._index_=0),this.average=s,this.fpsCycle+=n,this.runtime+=n,this.data=t={fps:s,trueFps:s,runtime:this.runtime,delta:n,time:e,now:i},(this.fps||this.events.update)&&this.emit("update",t),this.profiler&&this[d](),(this.fps||this.events.render)&&(this.fps&&this.fpsInTicks?this.fpsInTicks<this.fpsCycle?(this.once("_render",(function(e){return o.emit("render",e)})),this.fpsCycle=0):this.emit("_render",t):this.emit("render",t)),this.animFrame=null,this.ticking?this[p]():this.fpsLastRequest=null,this.renderedFrames++}function M(e){this.emit("render",e)}var I=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(l,e);var t,n,r,o=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this)).fps=e||null,t.fps2=0,t.renderedFrames=0,t._index_=0,t.sampleSize=30,t._sample_=new Array(t.sampleSize).fill(e||60),t.fpsInTicks=null,t.animFrame=null,t.startTime=null,t.fpsLastRequest=null,t.fpsCycle=null,t.ticking=!1,t.runtime=1,t.average=0,t.profiler=(""+v).match(/\n/g),t[f]=t[f].bind(c(t)),t[h]=t[h].bind(c(t)),t.data={},t[m](),t}return t=l,(n=[{key:"start",value:y},{key:"stop",value:g},{key:"setFps",value:b},{key:"getFps",value:w},{key:"isTicking",value:k},{key:"destroy",value:_},{key:m,value:C},{key:p,value:T},{key:d,value:x},{key:h,value:P},{key:f,value:M}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.d));window.ticker=I,I.start()},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(0),o=n(5);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){for(var t=0,n=0;e.length>n;n++)t+=e[n][1];var r=function(e,t){return Math.round(e-.5+Math.random()*(t-e+1))}(0,t);for(n=0;e.length>n;n++){var o=t;if(r>=(t=t-e[n][1])&&o>=r)return e[n][0]}}function m(){var e=this;return new Promise((function(t,n){var r=e.xhr=new XMLHttpRequest;r.open("GET","https://agar.io/agario.core.js",!0),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=Number(r.responseText.match(/\w\[\w\+\d+>>\d\]=\w;\w+\(\w,(\d+)\);/)[1]);t(e)}},r.onerror=n,r.send()}))}function v(){var e=this;return new Promise((function(t,n){var r=e.xhr=new XMLHttpRequest,i=0;r.open("GET","https://agar.io/mc/agario.js?",!0),r.onprogress=function(e){return i=e.loaded},r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var n=r.responseText,a=n.match(/versionString=\"(\d+\.\d+\.\d+)\"/);a&&(e.log("client version",a[1],"(".concat(Object(o.b)(i),")")),e.data.client_version_string!=a[1]&&(e.data.client_version_string=a[1]));var s=n.match(/x-support-proto-version","(\d+\.\d+\.\d+)"/);s&&(e.log("proto version",s[1],"(".concat(Object(o.b)(i),")")),e.data.proto_version=s[1]),t()}},r.onerror=n,r.send()}))}function y(e){var t=this;return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET","https://".concat(t.data.master_host,"/getLatestID"),!0),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var n=r.responseText,i=r.getResponseHeader("Content-Length");t.log("config id",n,"(".concat(Object(o.b)(i),")")),t.data.latest_config_id!=n&&(t.data.latest_config_id=n),e(n)}},r.onerror=n,r.send()}))}function g(){var e=this;return new Promise((function(t,n){var r=e.xhr=new XMLHttpRequest;r.open("GET","https://"+e.data.master_host+"/getCountry",!0),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&t(JSON.parse(r.responseText))},r.onerror=n,r.send()}))}function b(e){var t=this;return new Promise((function(e,n){var r=new XMLHttpRequest,i=0;r.onprogress=function(e){return i=e.loaded},r.open("GET","https://configs-web.agario.miniclippt.com/live/v15/".concat(t.data.latest_config_id,"/GameConfiguration.json"),!0),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&(t.log("game configs received","(".concat(Object(o.b)(i),")")),e(JSON.parse(r.responseText)))},r.onerror=function(){console.error("AJAX in gameConfiguration server errored out!"),n()},r.send()}))}function w(e){e=JSON.parse(e)}function k(){this.makeMasterSimpleRequest("info").then(w)}function _(e,t,n,r){e=p([[e,80],["RU-Russia",20]]);var o=this.generatePayload(e,t);this.getRandomServer("findServer",o,e,t).then(n).catch(r)}function S(e,t,n,r){var o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=p([[e,80],["RU-Russia",20]]),"findServer",o=this.generatePayload(e,t),i.next=5,this.getRandomServer("findServer",o,e,t).then(n).catch(r);case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}),S,this)}function C(e,t,n){var r=[],o=function(e){r.push(e.length);for(var t=0;t<e.length;t++)r.push(e.charCodeAt(t))};return r.push(10,2+e.length+2+t.length,10),o(e),r.push(18),o(t),n&&(r.push(26,8,10),o(n)),new Uint8Array(r)}function T(e,t,n,r){var o=this;return new Promise((function(i,a){var s=o.xhr=new XMLHttpRequest;s.open("POST","https://"+o.data.master_host+"/"+o.data.endpoint_version+"/"+e,!0),s.setRequestHeader("x-support-proto-version",o.data.proto_version),s.setRequestHeader("x-client-version",o.data.client_version),s.setRequestHeader("Accept","q=0.01"),s.setRequestHeader("Content-Type","application/octet-stream"),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var e=JSON.parse(s.responseText);if(e.region=n,e.gamemode=r,e.endpoints.https.indexOf("0.0.0.0")>-1)return a;i(e),o.emit("endpoint",e)}},s.onerror=a,s.send(t)}))}function x(e,t){var n=this;return new Promise((function(r,o){var i=n.xhr=new XMLHttpRequest;i.open("GET","https://"+n.data.master_host+"/"+e,!0),i.setRequestHeader("x-support-proto-version",n.data.proto_version),i.setRequestHeader("x-client-version",n.data.client_version),i.setRequestHeader("Accept","q=0.01"),i.setRequestHeader("Content-Type","application/octet-stream"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&r(i.responseText)},i.onerror=o,i.send(t)}))}function P(e,t){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.generatePayload(e,":party"),t.next=3,this.getRandomServer("createToken",n);case 3:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",r.token);case 6:case"end":return t.stop()}}),P,this)}function M(e){var t,n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=e.replace("#",""),t=this.generatePayload("","",e),!this.partyTokenCache.get(e)){o.next=4;break}return o.abrupt("return",this.partyTokenCache.get(e));case 4:return o.next=6,this.getRandomServer("getToken",t);case 6:return n=o.sent,r="wss://"+n.endpoints.https+"/?party_id="+e,this.partyTokenCache.set(e,r),o.abrupt("return",r);case 10:case"end":return o.stop()}}),M,this)}function I(e){window.history&&window.history.replaceState&&window.history.replaceState({},window.document.title,location.origin+location.pathname+""+e.replace("/",""))}function O(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t)throw Error("empty argument");this.createPartyToken(t).then((function(t){console.log("token found"),e.getPartyServer(t).then((function(n){e.partyToken=t,e.setModeUI(":party",t),e.emit("newserver",n),console.log("party found",n)}))}))}function R(){var e=this,t=$("#party-token").val().match(/[A-Z0-9]{6}/);if(t){var n=t[0];this.setModeUI(":party"),this.getPartyServer(n).then((function(t){e.emit("newserver",t),console.log("party found",t)}))}}function U(){}function A(e){var t=(window.location.hash||"").replace("#","");return t&&-1!=["ffa","battleroyale","teams","experimental","party"].indexOf(t)?(console.log(t," 111111111111"),this.setModeUI(":"+t),!0):6==t.length&&(console.log(t," 222222222222"),this.setModeUI(":party",t),this.partyTokenFromUrl=this.partyToken=t,!0)}function E(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(!t)throw Error("empty argument");if(!n)throw Error("empty argument");function i(){s()}var a=function(){setTimeout(i,e.backoffPeriod*=2)},s=function(){var i=Date.now();e.findingServer=i;var s=++e.curValidFindServer;e.findEndpoint(t,n,(function(t){if(s==e.curValidFindServer){if(null===t.endpoints||"0.0.0.0:0"===t.endpoints.https)return o&&o(t),void console.log("Вернуло ничего, проблема");null!==t.token&&(e.partyToken=t.token);var n="wss://".concat(t.endpoints.https).concat(t.token?"/?party_id="+t.token:"");e.backoffPeriod=500,r(n)}}),a)};s()}var L=window.MCAPI=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,n,o,i,a,f,d=u(p);function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=d.call(this)).isAgarioHost="agar.io"===location.host,e.isDebug=!0,Object(r.a)(!0,h(e),"[[33mMCAPI[39m]:"),e.MCConfigs=null,e.partyTokenFromUrl="",e.McComebackTimeout=0,e.findingServer=0,e.curValidFindServer=0,e.backoffPeriod=500,e.langCodes={AF:"JP-Tokyo",AX:"EU-London",AL:"EU-London",DZ:"EU-London",AS:"SG-Singapore",AD:"EU-London",AO:"EU-London",AI:"US-Atlanta",AG:"US-Atlanta",AR:"BR-Brazil",AM:"JP-Tokyo",AW:"US-Atlanta",AU:"SG-Singapore",AT:"EU-London",AZ:"JP-Tokyo",BS:"US-Atlanta",BH:"JP-Tokyo",BD:"JP-Tokyo",BB:"US-Atlanta",BY:"RU-Russia",BE:"EU-London",BZ:"US-Atlanta",BJ:"EU-London",BM:"US-Atlanta",BT:"JP-Tokyo",BO:"BR-Brazil",BQ:"US-Atlanta",BA:"EU-London",BW:"EU-London",BR:"BR-Brazil",IO:"JP-Tokyo",VG:"US-Atlanta",BN:"JP-Tokyo",BG:"EU-London",BF:"EU-London",BI:"EU-London",KH:"JP-Tokyo",CM:"EU-London",CA:"US-Atlanta",CV:"EU-London",KY:"US-Atlanta",CF:"EU-London",TD:"EU-London",CL:"BR-Brazil",CN:"CN-China",CX:"JP-Tokyo",CC:"JP-Tokyo",CO:"BR-Brazil",KM:"EU-London",CD:"EU-London",CG:"EU-London",CK:"SG-Singapore",CR:"US-Atlanta",CI:"EU-London",HR:"EU-London",CU:"US-Atlanta",CW:"US-Atlanta",CY:"JP-Tokyo",CZ:"EU-London",DK:"EU-London",DJ:"EU-London",DM:"US-Atlanta",DO:"US-Atlanta",EC:"BR-Brazil",EG:"EU-London",SV:"US-Atlanta",GQ:"EU-London",ER:"EU-London",EE:"EU-London",ET:"EU-London",FO:"EU-London",FK:"BR-Brazil",FJ:"SG-Singapore",FI:"EU-London",FR:"EU-London",GF:"BR-Brazil",PF:"SG-Singapore",GA:"EU-London",GM:"EU-London",GE:"JP-Tokyo",DE:"EU-London",GH:"EU-London",GI:"EU-London",GR:"EU-London",GL:"US-Atlanta",GD:"US-Atlanta",GP:"US-Atlanta",GU:"SG-Singapore",GT:"US-Atlanta",GG:"EU-London",GN:"EU-London",GW:"EU-London",GY:"BR-Brazil",HT:"US-Atlanta",VA:"EU-London",HN:"US-Atlanta",HK:"JP-Tokyo",HU:"EU-London",IS:"EU-London",IN:"JP-Tokyo",ID:"JP-Tokyo",IR:"JP-Tokyo",IQ:"JP-Tokyo",IE:"EU-London",IM:"EU-London",IL:"JP-Tokyo",IT:"EU-London",JM:"US-Atlanta",JP:"JP-Tokyo",JE:"EU-London",JO:"JP-Tokyo",KZ:"JP-Tokyo",KE:"EU-London",KI:"SG-Singapore",KP:"JP-Tokyo",KR:"JP-Tokyo",KW:"JP-Tokyo",KG:"JP-Tokyo",LA:"JP-Tokyo",LV:"EU-London",LB:"JP-Tokyo",LS:"EU-London",LR:"EU-London",LY:"EU-London",LI:"EU-London",LT:"EU-London",LU:"EU-London",MO:"JP-Tokyo",MK:"EU-London",MG:"EU-London",MW:"EU-London",MY:"JP-Tokyo",MV:"JP-Tokyo",ML:"EU-London",MT:"EU-London",MH:"SG-Singapore",MQ:"US-Atlanta",MR:"EU-London",MU:"EU-London",YT:"EU-London",MX:"US-Atlanta",FM:"SG-Singapore",MD:"EU-London",MC:"EU-London",MN:"JP-Tokyo",ME:"EU-London",MS:"US-Atlanta",MA:"EU-London",MZ:"EU-London",MM:"JP-Tokyo",NA:"EU-London",NR:"SG-Singapore",NP:"JP-Tokyo",NL:"EU-London",NC:"SG-Singapore",NZ:"SG-Singapore",NI:"US-Atlanta",NE:"EU-London",NG:"EU-London",NU:"SG-Singapore",NF:"SG-Singapore",MP:"SG-Singapore",NO:"EU-London",OM:"JP-Tokyo",PK:"JP-Tokyo",PW:"SG-Singapore",PS:"JP-Tokyo",PA:"US-Atlanta",PG:"SG-Singapore",PY:"BR-Brazil",PE:"BR-Brazil",PH:"JP-Tokyo",PN:"SG-Singapore",PL:"EU-London",PT:"EU-London",PR:"US-Atlanta",QA:"JP-Tokyo",RE:"EU-London",RO:"EU-London",RU:"RU-Russia",RW:"EU-London",BL:"US-Atlanta",SH:"EU-London",KN:"US-Atlanta",LC:"US-Atlanta",MF:"US-Atlanta",PM:"US-Atlanta",VC:"US-Atlanta",WS:"SG-Singapore",SM:"EU-London",ST:"EU-London",SA:"EU-London",SN:"EU-London",RS:"EU-London",SC:"EU-London",SL:"EU-London",SG:"JP-Tokyo",SX:"US-Atlanta",SK:"EU-London",SI:"EU-London",SB:"SG-Singapore",SO:"EU-London",ZA:"EU-London",SS:"EU-London",ES:"EU-London",LK:"JP-Tokyo",SD:"EU-London",SR:"BR-Brazil",SJ:"EU-London",SZ:"EU-London",SE:"EU-London",CH:"EU-London",SY:"EU-London",TW:"JP-Tokyo",TJ:"JP-Tokyo",TZ:"EU-London",TH:"JP-Tokyo",TL:"JP-Tokyo",TG:"EU-London",TK:"SG-Singapore",TO:"SG-Singapore",TT:"US-Atlanta",TN:"EU-London",TR:"TK-Turkey",TM:"JP-Tokyo",TC:"US-Atlanta",TV:"SG-Singapore",UG:"EU-London",UA:"RU-Russia",AE:"EU-London",GB:"EU-London",US:"US-Atlanta",UM:"SG-Singapore",VI:"US-Atlanta",UY:"BR-Brazil",UZ:"JP-Tokyo",VU:"SG-Singapore",VE:"BR-Brazil",VN:"JP-Tokyo",WF:"SG-Singapore",EH:"EU-London",YE:"JP-Tokyo",ZM:"EU-London",ZW:"EU-London"};var t={master_host:"webbouncer-live-v8-0.agario.miniclippt.com",endpoint_version:"v4",proto_version:"15.0.3",client_version:31103,client_version_string:"3.11.3",latest_config_id:"10078",protocol_version:23};function n(t){Texture.getVanillaSkinsLinks(t,h(e)),e.MCConfigs=t}return Object.assign(t,r.r.get("mc_api2")),e.data=Object(r.c)(t),e.data.on("client_version_string",(function(t){e.data.client_version=1e4*parseInt(t.split(".")[0])+100*parseInt(t.split(".")[1])+parseInt(t.split(".")[2])})),e.data.on("*",(function(){r.r.set("mc_api2",e.data)})),!(location.href.indexOf("dev2")>-1)&&(e.isAgarioHost&&e.getClientVersion()),e.isAgarioHost&&setInterval((function(){e.refreshRegionNumPlayers()}),18e4),e.isAgarioHost&&e.refreshRegionNumPlayers(),e.isAgarioHost&&e.getLatestID().then((function(){e.getGameConfigs().then(n)})),e.partyTokenCache=new Map,e}return t=p,(n=[{key:"getProtocolVersion",value:m},{key:"getClientVersion",value:v},{key:"getLatestID",value:y},{key:"getRegionCode",value:g},{key:"getGameConfigs",value:b},{key:"refreshRegionNumPlayers",value:k},{key:"findEndpoint",value:_},{key:"findEndpointAsync",value:(f=s(regeneratorRuntime.mark(S)),function(e,t,n,r){return f.apply(this,arguments)})},{key:"generatePayload",value:C},{key:"getRandomServer",value:T},{key:"makeMasterSimpleRequest",value:x},{key:"createPartyToken",value:(a=s(regeneratorRuntime.mark(P)),function(e,t){return a.apply(this,arguments)})},{key:"getPartyServer",value:(i=s(regeneratorRuntime.mark(M)),function(e){return i.apply(this,arguments)})},{key:"setURL",value:I},{key:"createParty",value:O},{key:"joinParty",value:R},{key:"setUI",value:U},{key:"runFromHash",value:A},{key:"getServer",value:E}])&&l(t.prototype,n),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.d))},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(0),o=n(2);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(){return function e(){i(this,e),this.lastUsedAt=o.a.runtime,this.level=[null,null,null,null,null,null,null,null]}}function c(e){this._mass=e,this._mass!==this.lastMass&&(this.lastMass=this._mass,this.needsRedraw=!0)}function u(){return this._mass}function f(e){5>e||(0|e)==(0|this._fontSize)||this._fontSize>e&&.8<e/this._fontSize||e>this._fontSize&&.8<this._fontSize/e||(this._fontSize=e,this.needsRedraw=!0)}function h(){return this._fontSize}function d(){function e(){i(this,e),this.lastUsedAt=o.a.runtime,this.lastUpdateAt=o.a.runtime,this.canvas=null,this.ctx=null,this._mass=0,this.lastMass=0,this._fontSize=5,this.needsRedraw=!0}return s(e,[{key:"mass",set:c,get:u},{key:"fontSize",set:f,get:h}]),e}function p(){return r.t.emit("nickfont")}function m(){return r.t.emit("massfont")}function v(){r.t.nickfont.load().then(p),r.t.massfont.load().then(m)}function y(){this.massUpdateInterval=r.o.massUpdateInterval||500}function g(e,t,n){if(""===e)return!1;var i=t*n*r.t.namesScale;if(10>i)return!1;var a=this.nickCaches.get(e)||this.newNickCache(e);a.lastUsedAt=o.a.runtime;var s=0|Math.min(i/50,7),l=a.level[s];if(l)return l;var c=this.getNewCanvas(),u=c.getContext("2d"),f=50*(s+1)*this.quality,h=r.t.strokeScale*(f/10),d=20*r.t.strokeScale;return c.height=f+4*h,c.width=0|this.getNickWidth(e,f)+h,c.originW=(this.getNickWidth(e,200)+d)/650,c.originH=c.height*(c.originW/c.width),navigator.userAgent&&navigator.userAgent.indexOf("96.0.4664.45")>-1&&/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/gi.test(e)?u.font="500 "+f+"px "+r.t.nickfont.fontFamily+", Ubuntu":u.font=r.t.nickfont.fontWeight+" "+f+"px "+r.t.nickfont.fontFamily,u.textBaseline="middle",u.textAlign="center",u.imageSmoothingEnabled=!1,c.style.imageRendering="pixelated",1===r.o.namesStroke2?(u.strokeStyle=r.t.namesStrokeColor,u.lineWidth=h,u.lineJoin="round",u.miterLimit=0,u.strokeText(e,c.width>>1,c.height>>1)):2===r.o.namesStroke2&&(u.fillStyle=r.t.namesStrokeColor,u.globalAlpha=.75,u.fillRect(0,0,c.width,c.height),u.globalAlpha=1),u.fillStyle=r.t.namesColor,u.fillText(e,c.width>>1,c.height>>1),this.saveContextCallback(c),a.level[s]=c}function b(e){var t=new this.nickObject;return this.nickCaches.set(e,t),t}function w(e,t){return t+~~(.4*t)}function k(e,t){return this.nickShadowCtx.measureText(e).width*t/25}function _(){this.nickCaches.clear(),this.nickShadowCtx.font="700 25px "+r.t.nickfont.fontFamily}function S(e,t,n){var i=t*n*(e.isVirus?r.t.virMassScale:r.t.namesScale);if(!e.isVirus&&10>i)return!1;var a=this.massCaches.get(e.id)||this.newMassCache(e.id);a.lastUsedAt=o.a.runtime;var s=0|Math.min(i/50,7),l=r.o.shortMass?this.shortMassFormat(e.mass):e.mass;if(e.isVirus&&e.mass<200){var c=~~(t*t/100);(l=2===r.o.virMassType?this.calcVirusShots(c):c)!==a.mass&&(a.needsRedraw=!0)}a.fontSize=50*(s+1)*this.quality;var u=o.a.runtime-a.lastUpdateAt;if((a.needsRedraw||u>this.massUpdateInterval)&&(a.mass=l),a.canvas||(a.canvas=this.getNewCanvas(),a.ctx=a.canvas.getContext("2d")),a.needsRedraw){a.needsRedraw=!1;var f=a.canvas,h=a.ctx,d=r.t.strokeScale*(a.fontSize/10),p=20*r.t.strokeScale;f.height=a.fontSize+d,f.width=0|this.getMassWidth(a.mass,a.fontSize)+d,f.originW=(this.getMassWidth(a.mass,200)+p)/650,f.originH=f.height*(f.originW/f.width),h.font=r.t.massfont.fontWeight+" "+(0|a.fontSize)+"px "+r.t.massfont.fontFamily,h.textBaseline="middle",h.textAlign="center",1===r.o.massStroke2?(h.strokeStyle=r.t.massStrokeColor,h.lineWidth=d,h.lineJoin="round",h.miterLimit=0,h.strokeText(a.mass,f.width>>1,f.height>>1)):2===r.o.massStroke2&&(h.fillStyle=r.t.massStrokeColor,h.globalAlpha=.75,h.fillRect(0,0,f.width,f.height),h.globalAlpha=1),h.fillStyle=r.t.massColor,h.fillText(a.mass,f.width>>1,f.height>>1),a.lastUpdateAt=o.a.runtime}return this.saveContextCallback(a.canvas),a.canvas}function C(e){var t=new this.massObject;return this.massCaches.set(e,t),t}function T(e,t){return this.massShadowCtx.measureText(e).width*t/25}function x(){this.massCaches.clear(),this.massShadowCtx.font="700 25px "+r.t.massfont.fontFamily}function P(e){return~~((200-e)/14)}function M(){return this.canvasPool.shift()||document.createElement("canvas")}function I(){var e=document.createElement("canvas"),t=e.getContext("2d");return t.font="700 25px ubuntu",t.imageSmoothingEnabled=!1,t.imageSmoothingQuality="low",e.style.imageRendering="pixelated",t}function O(e){var t=this;"nick"===e&&this.nickCaches.forEach((function(e,n){var r;t.nickCaches.delete(n);for(var o=e.level,i=0;i<o.length;i++)(r=o[i])&&t.resetCanvas(r)})),"mass"===e&&this.massCaches.forEach((function(e,n){if(t.massCaches.delete(n),!(50<=t.canvasPool.length)){var r=e.canvas;t.resetCanvas(r)}}))}function R(){var e=this,t=o.a.runtime;this.nickCaches.forEach((function(n,r){for(var r in e.nickCaches){var o=e.nickCaches[r];if(t-o.lastUsedAt>e.maxCacheLife){var i;e.nickCaches.delete(r);for(var a=o.level,s=0;s<a.length;s++)(i=a[s])&&e.resetCanvas(i)}}})),this.massCaches.forEach((function(n,r){if(t-n.lastUsedAt>e.maxCacheLife){if(e.massCaches.delete(r),50<=e.canvasPool.length)return;var o=n.canvas;e.resetCanvas(o)}}))}function U(e){if(e<1e3)return e;var t=(0|e/100)/10;return"".concat(t%1==0?t+".0":t,"k")}function A(e){!e||75<=this.canvasPool.length||(e.width=0,this.canvasPool.push(e))}function E(){}var L=new(function(){function e(){var t=this;function n(){t.setNickCtxFont(),t.clear("nick")}function o(){t.setMassCtxFont(),t.clear("mass")}i(this,e),this.nickCaches=new Map,this.massCaches=new Map,this.maxCacheLife=1e3,this.massUpdateInterval=r.o.massUpdateInterval||500,this.quality=.25,this.nickShadowCtx=this.newShadowContext(),this.massShadowCtx=this.newShadowContext(),this.canvasPool=[],this.nickObject=l(),this.massObject=d(),r.t.on("strokeScale",(function(){t.setNickCtxFont(),t.setMassCtxFont()})),r.o.on("namesStroke2",(function(){t.setNickCtxFont()})),r.o.on("massStroke2",(function(){t.setMassCtxFont()})),r.o.on("massUpdateInterval",(function(){t.massUpdateInterval=r.o.massUpdateInterval}))(),r.o.on("virMassType",(function(){t.setMassUpdateInterval()})),r.t.on("namesColor","namesStrokeColor",(function(){t.setNickCtxFont()})),r.t.on("massColor","massStrokeColor",(function(){t.setMassCtxFont()})),r.t.on("nickfont",(function(){r.t.nickfont.fontFamily;r.t.nickfont.load().then(n)}))(),r.t.on("massfont",(function(){r.t.massfont.load().then(o)}))(),setTimeout(v,5e3)}return s(e,[{key:"setMassUpdateInterval",value:y},{key:"nick",value:g},{key:"newNickCache",value:b},{key:"getNickHeight",value:w},{key:"getNickWidth",value:k},{key:"setNickCtxFont",value:_},{key:"mass",value:S},{key:"newMassCache",value:C},{key:"getMassWidth",value:T},{key:"setMassCtxFont",value:x},{key:"calcVirusShots",value:P},{key:"getNewCanvas",value:M},{key:"newShadowContext",value:I},{key:"clear",value:O},{key:"cleaner",value:R},{key:"shortMassFormat",value:U},{key:"resetCanvas",value:A},{key:"saveContextCallback",value:E}]),e}())},function(e,t,n){"use strict";function r(e,t,n){t/=100,n/=100;var r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e/60%2-1)),i=n-r/2,a=0,s=0,l=0;return 0<=e&&e<60?(a=r,s=o,l=0):60<=e&&e<120?(a=o,s=r,l=0):120<=e&&e<180?(a=0,s=r,l=o):180<=e&&e<240?(a=0,s=o,l=r):240<=e&&e<300?(a=o,s=0,l=r):300<=e&&e<360&&(a=r,s=0,l=o),a=Math.round(255*(a+i)).toString(16),s=Math.round(255*(s+i)).toString(16),l=Math.round(255*(l+i)).toString(16),1==a.length&&(a="0"+a),1==s.length&&(s="0"+s),1==l.length&&(l="0"+l),"#"+a+s+l}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(r))+" "+o[i]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));var o=void 0!==o?o:{};window.Module=o;var i,a={};for(i in o)o.hasOwnProperty(i)&&(a[i]=o[i]);var s,l,c=[],u=function(e,t){throw t},f="object"===("undefined"==typeof window?"undefined":r(window)),h="function"==typeof importScripts,d="object"===(void 0===e?"undefined":r(e))&&"object"===r(e.versions)&&"string"==typeof e.versions.node,p="";d||(f||h)&&(h?p=self.location.href:"undefined"!=typeof document&&document.currentScript&&(p=document.currentScript.src),p=0!==p.indexOf("blob:")?p.substr(0,p.lastIndexOf("/")+1):"",function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(l=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});o.print||console.log.bind(console);var m,v=o.printErr||console.warn.bind(console);for(i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);a=null,o.arguments&&(c=o.arguments),o.thisProgram&&o.thisProgram,o.quit&&(u=o.quit),o.wasmBinary&&(m=o.wasmBinary);var y,g=o.noExitRuntime||!0;"object"!==("undefined"==typeof WebAssembly?"undefined":r(WebAssembly))&&V("no native wasm support detected");var b,w=!1;var k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function _(e,t){return e?function(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&k)return k.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var l=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|l:(7&a)<<18|s<<12|l<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}(T,e,t):""}var S,C,T,x,P,M,I,O,R,U="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function A(e,t){for(var n=e,r=n>>1,o=r+t/2;!(r>=o)&&P[r];)++r;if((n=r<<1)-e>32&&U)return U.decode(T.subarray(e,n));for(var i="",a=0;!(a>=t/2);++a){var s=x[e+2*a>>1];if(0==s)break;i+=String.fromCharCode(s)}return i}function E(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,o=(n-=2)<2*e.length?n/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);x[t>>1]=a,t+=2}return x[t>>1]=0,t-r}function L(e){return 2*e.length}function F(e,t){for(var n=0,r="";!(n>=t/4);){var o=M[e+4*n>>2];if(0==o)break;if(++n,o>=65536){var i=o-65536;r+=String.fromCharCode(55296|i>>10,56320|1023&i)}else r+=String.fromCharCode(o)}return r}function j(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,o=r+n-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i);if(M[t>>2]=a,(t+=4)+4>o)break}return M[t>>2]=0,t-r}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}o.INITIAL_MEMORY;var B,z=[],N=[],H=[],G=[];function q(){return g||!1}var X=0,W=null,Y=null;function V(e){throw o.onAbort&&o.onAbort(e),v(e+=""),w=!0,b=1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}o.preloadedImages={},o.preloadedAudios={};var $,K;function Z(e){return e.startsWith("data:application/octet-stream;base64,")}function Q(e){return e.startsWith("file://")}function J(e){try{if(e==$&&m)return new Uint8Array(m);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){V(e)}}function ee(e){if(!e.ok)throw"failed to load wasm binary file at '"+$+"'";return e.arrayBuffer()}function te(){return J($)}function ne(e,t){s($,(function(t){e(new Uint8Array(t))}),t)}function re(){return J($)}function oe(e,t){var n,r,i=e.exports;o.asm=i,y=o.asm.F,n=y.buffer,S=n,o.HEAP8=C=new Int8Array(n),o.HEAP16=x=new Int16Array(n),o.HEAP32=M=new Int32Array(n),o.HEAPU8=T=new Uint8Array(n),o.HEAPU16=P=new Uint16Array(n),o.HEAPU32=I=new Uint32Array(n),o.HEAPF32=O=new Float32Array(n),o.HEAPF64=R=new Float64Array(n),B=o.asm.J,r=o.asm.G,N.unshift(r),function(e){if(X--,o.monitorRunDependencies&&o.monitorRunDependencies(X),0==X&&(null!==W&&(clearInterval(W),W=null),Y)){var t=Y;Y=null,t()}}()}function ie(e){oe(e.instance)}function ae(e){return e}function se(e){v("failed to asynchronously prepare wasm: "+e),V(e)}function le(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?B.get(n)():B.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}function ce(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}Z($=atob("aHR0cHM6Ly9zZW5wYS5pby93ZWIvc3RhdGljL2pzL2J1bmRsZS53YXNt"))||(K=$,$=o.locateFile?o.locateFile(K,p):p+K);var ue=void 0;function fe(e){for(var t="",n=e;T[n];)t+=ue[T[n++]];return t}var he={},de={},pe={};function me(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function ve(e,t){return e=me(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function ye(){return void 0===this.message?this.name:this.name+": "+this.message}function ge(e,t){var n=ve(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=ye,n}var be=void 0;function we(e){throw new be(e)}var ke=void 0;function _e(e){throw new ke(e)}function Se(e){e()}function Ce(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||we('type "'+r+'" must have a positive integer typeid pointer'),de.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;we("Cannot register type '"+r+"' twice")}if(de[e]=t,delete pe[e],he.hasOwnProperty(e)){var o=he[e];delete he[e],o.forEach(Se)}}function Te(e){return!!e}var xe=[],Pe=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Me(e){e>4&&0==--Pe[e].refcount&&(Pe[e]=void 0,xe.push(e))}function Ie(){for(var e=0,t=5;t<Pe.length;++t)void 0!==Pe[t]&&++e;return e}function Oe(){for(var e=5;e<Pe.length;++e)if(void 0!==Pe[e])return Pe[e];return null}function Re(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=xe.length?xe.pop():Pe.length;return Pe[t]={refcount:1,value:e},t}}function Ue(e){return this.fromWireType(I[e>>2])}function Ae(e){var t=Pe[e].value;return Me(e),t}function Ee(e,t){return Re(t)}function Le(e){if(null===e)return"null";var t=r(e);return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Fe(e){return this.fromWireType(O[e>>2])}function je(e){return this.fromWireType(R[e>>3])}function De(e,t){switch(t){case 2:return Fe;case 3:return je;default:throw new TypeError("Unknown float type: "+e)}}function Be(e){return e}function ze(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Le(t)+'" to '+this.name);return t}function Ne(){}function He(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+r(e)+" which is not a function");var n=ve(e.name||"unknownFunctionName",Ne);n.prototype=e.prototype;var o=new n,i=e.apply(o,t);return i instanceof Object?i:o}function Ge(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function qe(e,t,n){o.hasOwnProperty(e)?((void 0===n||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[n])&&we("Cannot register public name '"+e+"' twice"),function(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||we("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}(o,e,e),o.hasOwnProperty(n)&&we("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),o[e].overloadTable[n]=t):(o[e]=t,void 0!==n&&(o[e].numArguments=n))}function Xe(e,t,n){return e.includes("j")?function(e,t,n){var r=o["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}(e,t,n):B.get(t).apply(null,n)}function We(e,t){var n,r,o,i=(e=fe(e)).includes("j")?(n=e,r=t,o=[],function(){o.length=arguments.length;for(var e=0;e<arguments.length;e++)o[e]=arguments[e];return Xe(n,r,o)}):B.get(t);return"function"!=typeof i&&we("unknown function pointer with signature "+e+": "+t),i}var Ye=void 0;function Ve(e){var t=kt(e),n=fe(t);return _t(t),n}function $e(e){return C[e]}function Ke(e){return T[e]}function Ze(e){return x[e>>1]}function Qe(e){return P[e>>1]}function Je(e){return M[e>>2]}function et(e){return I[e>>2]}function tt(e,t,n){switch(t){case 0:return n?$e:Ke;case 1:return n?Ze:Qe;case 2:return n?Je:et;default:throw new TypeError("Unknown integer type: "+e)}}function nt(e){return e}function rt(e){_t(e)}function ot(){return P}function it(){return I}function at(e){_t(e)}function st(){}function lt(e,t){}function ct(e){return e||we("Cannot use deleted val. handle = "+e),Pe[e].value}function ut(e,t){var n=de[e];return void 0===n&&we(t+" has unknown type "+Ve(e)),n}function ft(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=ut(M[(t>>2)+r],"parameter "+r);return n}var ht={};function dt(e){var t=ht[e];return void 0===t?fe(e):t}var pt=[];function mt(){return"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis:Function("return this")()}function vt(e){return e.name}var yt={};!function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ue=e}(),be=o.BindingError=ge(Error,"BindingError"),ke=o.InternalError=ge(Error,"InternalError"),o.count_emval_handles=Ie,o.get_first_emval=Oe,Ye=o.UnboundTypeError=ge(Error,"UnboundTypeError");var gt,bt={t:function(e,t,n,r,o){},w:function(e,t,n,r,o){var i=ce(n);Ce(e,{name:t=fe(t),fromWireType:Te,toWireType:function(e,t){return t?r:o},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=C;else if(2===n)r=x;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=M}return this.fromWireType(r[e>>i])},destructorFunction:null})},v:function(e,t){Ce(e,{name:t=fe(t),fromWireType:Ae,toWireType:Ee,argPackAdvance:8,readValueFromPointer:Ue,destructorFunction:null})},o:function(e,t,n){var r=ce(n);Ce(e,{name:t=fe(t),fromWireType:Be,toWireType:ze,argPackAdvance:8,readValueFromPointer:De(t,r),destructorFunction:null})},l:function(e,t,n,r,i,a){var s=function(e,t){for(var n=[],r=0;r<e;r++)n.push(M[(t>>2)+r]);return n}(t,n);e=fe(e),i=We(r,i),qe(e,(function(){!function(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||de[t]||(pe[t]?pe[t].forEach(e):(n.push(t),r[t]=!0))})),new Ye(e+": "+n.map(Ve).join([", "]))}("Cannot call "+e+" due to unbound types",s)}),t-1),function(e,t,n){function r(t){var r=n(t);r.length!==e.length&&_e("Mismatched type converter count");for(var o=0;o<e.length;++o)Ce(e[o],r[o])}e.forEach((function(e){pe[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){de.hasOwnProperty(e)?o[t]=de[e]:(i.push(e),he.hasOwnProperty(e)||(he[e]=[]),he[e].push((function(){o[t]=de[e],++a===i.length&&r(o)})))})),0===i.length&&r(o)}([],s,(function(n){var r=[n[0],null].concat(n.slice(1));return function(e,t,n){o.hasOwnProperty(e)||_e("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==n?o[e].overloadTable[n]=t:(o[e]=t,o[e].argCount=n)}(e,function(e,t,n,r,o){var i=t.length;i<2&&we("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==n,s=!1,l=1;l<t.length;++l)if(null!==t[l]&&void 0===t[l].destructorFunction){s=!0;break}var c="void"!==t[0].name,u="",f="";for(l=0;l<i-2;++l)u+=(0!==l?", ":"")+"arg"+l,f+=(0!==l?", ":"")+"arg"+l+"Wired";var h="return function "+me(e)+"("+u+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(h+="var destructors = [];\n");var d=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[we,r,o,Ge,t[0],t[1]];for(a&&(h+="var thisWired = classParam.toWireType("+d+", this);\n"),l=0;l<i-2;++l)h+="var arg"+l+"Wired = argType"+l+".toWireType("+d+", arg"+l+"); // "+t[l+2].name+"\n",p.push("argType"+l),m.push(t[l+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),h+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)h+="runDestructors(destructors);\n";else for(l=a?1:2;l<t.length;++l){var v=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==t[l].destructorFunction&&(h+=v+"_dtor("+v+"); // "+t[l].name+"\n",p.push(v+"_dtor"),m.push(t[l].destructorFunction))}return c&&(h+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),h+="}\n",p.push(h),He(Function,p).apply(null,m)}(e,r,null,i,a),t-1),[]}))},d:function(e,t,n,r,o){t=fe(t),-1===o&&(o=4294967295);var i=ce(n),a=nt;if(0===r){var s=32-8*n;a=function(e){return e<<s>>>s}}var l=t.includes("unsigned");Ce(e,{name:t,fromWireType:a,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+Le(n)+'" to '+this.name);if(n<r||n>o)throw new TypeError('Passing a number "'+Le(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+o+"]!");return l?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:tt(t,i,0!==r),destructorFunction:null})},c:function(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=I,n=t[e>>=2],o=t[e+1];return new r(S,o,n)}Ce(e,{name:n=fe(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},p:function(e,t){var n="std::string"===(t=fe(t));Ce(e,{name:t,fromWireType:function(e){var t,r=I[e>>2];if(n)for(var o=e+4,i=0;i<=r;++i){var a=e+4+i;if(i==r||0==T[a]){var s=_(o,a-o);void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),o=a+1}}else{var l=new Array(r);for(i=0;i<r;++i)l[i]=String.fromCharCode(T[e+4+i]);t=l.join("")}return _t(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"==typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||we("Cannot pass non-string to std::string");var o=(n&&r?function(){return function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}(t)}:function(){return t.length})(),i=wt(4+o+1);if(I[i>>2]=o,n&&r)(function(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}t[n]=0})(t,T,i+4,o+1);else if(r)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(_t(i),we("String has UTF-16 code units that do not fit in 8 bits")),T[i+4+a]=s}else for(a=0;a<o;++a)T[i+4+a]=t[a];return null!==e&&e.push(_t,i),i},argPackAdvance:8,readValueFromPointer:Ue,destructorFunction:rt})},j:function(e,t,n){var r,o,i,a,s;n=fe(n),2===t?(r=A,o=E,a=L,i=ot,s=1):4===t&&(r=F,o=j,a=D,i=it,s=2),Ce(e,{name:n,fromWireType:function(e){for(var n,o=I[e>>2],a=i(),l=e+4,c=0;c<=o;++c){var u=e+4+c*t;if(c==o||0==a[u>>s]){var f=r(l,u-l);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),l=u+t}}return _t(e),n},toWireType:function(e,r){"string"!=typeof r&&we("Cannot pass non-string to C++ string type "+n);var i=a(r),l=wt(4+i+t);return I[l>>2]=i>>s,o(r,l+4,i+t),null!==e&&e.push(_t,l),l},argPackAdvance:8,readValueFromPointer:Ue,destructorFunction:at})},x:function(e,t){Ce(e,{isVoid:!0,name:t=fe(t),argPackAdvance:0,fromWireType:st,toWireType:lt})},g:function(e,t,n){e=ct(e),t=ut(t,"emval::as");var r=[],o=Re(r);return M[n>>2]=o,t.toWireType(r,e)},D:function(e,t,n,r){e=ct(e);for(var o=ft(t,n),i=new Array(t),a=0;a<t;++a){var s=o[a];i[a]=s.readValueFromPointer(r),r+=s.argPackAdvance}return Re(e.apply(void 0,i))},b:function(e,t,n,r,o){return(e=pt[e])(t=ct(t),n=dt(n),function(e){var t=[];return M[e>>2]=Re(t),t}(r),o)},f:function(e,t,n,r){(e=pt[e])(t=ct(t),n=dt(n),null,r)},m:Me,y:function(e){return 0===e?Re(mt()):(e=dt(e),Re(mt()[e]))},a:function(e,t){for(var n=ft(e,t),r=n[0],o=r.name+"_$"+n.slice(1).map(vt).join("_")+"$",i=["retType"],a=[r],s="",l=0;l<e-1;++l)s+=(0!==l?", ":"")+"arg"+l,i.push("argType"+l),a.push(n[1+l]);var c="return function "+me("methodCaller_"+o)+"(handle, name, destructors, args) {\n",u=0;for(l=0;l<e-1;++l)c+="    var arg"+l+" = argType"+l+".readValueFromPointer(args"+(u?"+"+u:"")+");\n",u+=n[l+1].argPackAdvance;for(c+="var rv = handle[name]("+s+");\n",l=0;l<e-1;++l)n[l+1].deleteObject&&(c+="    argType"+l+".deleteObject(arg"+l+");\n");r.isVoid||(c+="    return retType.toWireType(destructors, rv);\n"),c+="};\n",i.push(c);var f,h,d=He(Function,i).apply(null,a);return f=d,h=pt.length,pt.push(f),h},r:function(e){return e=dt(e),Re(o[e])},i:function(e,t){return Re((e=ct(e))[t=ct(t)])},h:function(e){e>4&&(Pe[e].refcount+=1)},q:function(e,t){return(e=ct(e))instanceof(t=ct(t))},s:function(e,t,n,r){e=ct(e);var i=yt[t];return i||(i=function(e){for(var t="",n=0;n<e;++n)t+=(0!==n?", ":"")+"arg"+n;var r="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(n=0;n<e;++n)r+="var argType"+n+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+n+'], "parameter '+n+'");\nvar arg'+n+" = argType"+n+".readValueFromPointer(args);\nargs += argType"+n+"['argPackAdvance'];\n";return r+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",r)(ut,o,Re)}(t),yt[t]=i),i(e,n,r)},C:function(){return Re([])},z:function(e){return Re(dt(e))},E:function(){return Re({})},A:function(e){Ge(Pe[e].value),Me(e)},e:function(e,t,n){e=ct(e),t=ct(t),n=ct(n),e[t]=n},k:function(e,t){return Re((e=ut(e,"_emval_take_value")).readValueFromPointer(t))},B:function(e){return Re(r(e=ct(e)))},n:function(){V()},u:function(e){T.length,V("OOM")}},wt=(function(){var e={a:bt};function t(t){return WebAssembly.instantiate(t,e)}function n(e){return function(){if(!m&&(f||h)){if("function"==typeof fetch&&!Q($))return fetch($,{credentials:"same-origin"}).then(ee).catch(te);if(s)return new Promise(ne)}return Promise.resolve().then(re)}().then(t).then(ae).then(e,se)}function r(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),n(ie)}function i(t){return WebAssembly.instantiateStreaming(t,e).then(ie,r)}if(X++,o.monitorRunDependencies&&o.monitorRunDependencies(X),o.instantiateWasm)try{return o.instantiateWasm(e,oe)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}m||"function"!=typeof WebAssembly.instantiateStreaming||Z($)||Q($)||"function"!=typeof fetch?n(ie):fetch($,{credentials:"same-origin"}).then(i)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.G).apply(null,arguments)},o._malloc=function(){return(wt=o._malloc=o.asm.H).apply(null,arguments)}),kt=(o._main=function(){return(o._main=o.asm.I).apply(null,arguments)},o.___getTypeName=function(){return(kt=o.___getTypeName=o.asm.K).apply(null,arguments)}),_t=(o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.L).apply(null,arguments)},o._free=function(){return(_t=o._free=o.asm.M).apply(null,arguments)});function St(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ct(e){var t=o._main;try{var n=t(0,0);return function(e,t){b=e,q()||!0;!function(e){b=e,q()||(o.onExit&&o.onExit(e),w=!0);u(e,new St(e))}(e)}(n),n}catch(e){return function(e){if(e instanceof St||"unwind"==e)return b;v("exception thrown: "+e),u(1,e)}(e)}finally{!0}}function Tt(){o.setStatus("")}function xt(e){function t(){gt||(gt=!0,o.calledRun=!0,w||(!0,le(N),le(H),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Pt&&Ct(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),G.unshift(e);var e;le(G)}()))}e=e||c,X>0||(!function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),z.unshift(e);var e;le(z)}(),X>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout(Tt,1),t()}),1)):t()))}if(Y=function e(){gt||xt(),gt||(Y=e)},o.run=xt,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var Pt=!0;o.noInitialRun&&(Pt=!1),xt()}).call(this,n(10))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(){}function u(e,t){}function f(){}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(l,e);var t,n,r,s=a(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=s.call(this)).app=e,n.stage=t,n.canvas=null,n.ctx=null,n}return t=l,(n=[{key:"setCanvas",value:c},{key:"resizeCanvas",value:u},{key:"init",value:f}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(n(0).d);t.a=h},function(e,t,n){n(9),e.exports=n(12)},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function h(){}function d(){}var p={};s(p,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(C([])));v&&v!==t&&n.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var l=c(e[o],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,f=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&d())}function d(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(4),i=n(1),a=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(){var e=this;function t(){e.resizeCanvas(e.stage.canvasWidth,e.stage.canvasHeight,e.stage.canvasStyleWidth,e.stage.canvasStyleHeight),e.setCanvasAntialiasing(r.o.antialiasing)}this.setCanvas(),document.body.appendChild(this.canvas),this.canvas.style.zIndex="999",this.canvas.style.position="fixed",this.stage.on("resize",(function(){a.a.once("update",t)}))()}function p(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{antialias:!1})}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.canvas.style.imageRendering=e?"":"pixelated"}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(void 0!==(e=Number(e)))switch(this.ctx.imageSmoothingEnabled=!0,e){case 0:this.ctx.imageSmoothingEnabled=!1,this.ctx.imageSmoothingQuality="low",this.setCanvasSmoothing(!1);break;case 1:this.ctx.imageSmoothingQuality="low",this.setCanvasSmoothing(!0);break;case 2:this.ctx.imageSmoothingQuality="medium",this.setCanvasSmoothing(!0);break;case 3:this.ctx.imageSmoothingQuality="high",this.setCanvasSmoothing(!0);break;case 4:this.ctx.imageSmoothingQuality="high",this.setCanvasSmoothing(!1)}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;this.canvasWidth=e,this.canvasHeight=t,this.canvas.style.width=n+"px",this.canvas.style.height=r+"px",this.canvas.width=e,this.canvas.height=t}function g(e,t,n,o,i,a){if(o>=.1){var s=t/o,l=n/o,c=(s/2-i)%50,u=(l/2-a)%50;for(e.globalAlpha=o>=.1?1*o-.1:0,e.strokeStyle=r.h.gridColor,e.beginPath();c<s;c+=50)e.moveTo(c*o-.5,0),e.lineTo(c*o-.5,l*o);for(;u<l;u+=50)e.moveTo(0,u*o-.5),e.lineTo(s*o,u*o-.5);e.stroke(),e.globalAlpha=1}}function b(e,t,n,o,i,a,s,l,c,u,f,h){if(t){var d=~~((s-i)/n),p=~~((l-a)/o),m=0,v=0;if(e.strokeStyle=c,e.fillStyle=u,e.lineWidth=f,h||!h&&r.g.showMiniMapGrid){e.beginPath();for(var y=0;y<n+1;y++)m=i+d*y,e.moveTo(y==n?s:m,a),e.lineTo(y==n?s:m,l);for(y=0;y<o+1;y++)v=a+p*y,e.moveTo(i-f/2,y==o?l:v),e.lineTo(s+f/2,y==o?l:v);e.stroke()}else this.drawMapBorders(e,t,i,a,s,l,c,f);e.font=r.h.sectorsfont.fontWeight+" "+r.h.sectorsfontSize+"px "+r.h.sectorsfont.fontFamily,e.textAlign="center",e.textBaseline="middle";for(var g=0;g<o;g++)for(var b=0;b<n;b++)if(this.stage.boxInDisplay(i+b*d,a+g*p,d,p)){var w=r.g.customBgSectorsSymbol||String.fromCharCode(65+g)+(b+1);m=~~(i+d/2+b*d),v=~~(a+p/2+g*p),e.fillText(w,m,v)}}}function w(e,t,n,r,o,i,a,s){e.strokeStyle=a,e.lineWidth=s,e.beginPath(),e.moveTo(n,r),e.lineTo(o,r),e.lineTo(o,i),e.lineTo(n,i),e.closePath(),e.stroke()}function k(e){var t=this.app;o.a.cleaner(),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),r.g.showGrid&&this.drawGrid(this.ctx,this.canvasWidth,this.canvasHeight,this.stage.scale,this.stage.camX,this.stage.camY),this.ctx.save(),this.ctx.translate((~~this.canvasWidth>>1)-this.stage.camX*this.stage.scale,(~~this.canvasHeight>>1)-this.stage.camY*this.stage.scale),this.ctx.scale(this.stage.scale,this.stage.scale);var n=i.a.getTexture(r.h.customMapTexture);!0===t._server.mapOffsetFixed&&n&&n.image&&((!0===r.g.showGrid||":battleroyale"===t._server.gameMode)&&(this.ctx.globalCompositeOperation="destination-over"),this.ctx.drawImage(n.image,~~t._server.mapMinX,~~t._server.mapMaxY,~~t._server.mapMaxX-t._server.mapMinX,~~t._server.mapMinY-t._server.mapMaxY),(!0===r.g.showGrid||":battleroyale"===t._server.gameMode)&&(this.ctx.globalCompositeOperation="source-over")),!0===r.g.showBgSectors&&this.drawSectors(this.ctx,t._server.mapOffsetFixed,r.h.sectorsX,r.h.sectorsY,t._server.mapMinX,t._server.mapMinY,t._server.mapMaxX,t._server.mapMaxY,r.h.gridColor,r.h.sectorsColor,r.h.sectorsWidth,!0);var a=i.a.getTexture(r.h.customMapLogo);if(a&&a.image){var s=a.image.width,l=a.image.height,c=2.6;this.stage.isInDisplay(t._server.mapMidX-s,t._server.mapMidY-l,s*c)&&(this.ctx.globalAlpha=.2,this.ctx.drawImage(a.image,~~t._server.mapMidX-s*c>>1,~~t._server.mapMidY-l*c>>1,s*c,l*c),this.ctx.globalAlpha=1)}if(!0===r.g.showMapBorders){var u=r.h.bordersWidth>>1;this.drawMapBorders(this.ctx,t._server.mapOffsetFixed,t._server.mapMinX-u,t._server.mapMinY-u,t._server.mapMaxX+u,t._server.mapMaxY+u,r.h.bordersColor,r.h.bordersWidth)}this.ctx.restore()}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(i,e);var t,n,r,o=u(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t)).init(),n}return t=i,(n=[{key:"init",value:d},{key:"setCanvas",value:p},{key:"setCanvasSmoothing",value:m},{key:"setCanvasAntialiasing",value:v},{key:"resizeCanvas",value:y},{key:"drawGrid",value:g},{key:"drawSectors",value:b},{key:"drawMapBorders",value:w},{key:"render",value:k}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(n(7).a);t.default=_},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(2),i=n(1);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){var r=this;return t?(this.remove(e),this.sounds[e]=new Audio(t),"function"!=typeof n?new Promise((function(t,n){r.sounds[e].addEventListener("canplaythrough",t),r.sounds[e].addEventListener("error",n)})):void this.sounds[e].addEventListener("canplaythrough",n)):this.remove(e)}function u(e){void 0!==this.sounds&&delete this.sounds[e]}function f(){}function h(e){"NotAllowedError"===e.name||console.error(e)}function d(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0===this.sounds[e])return console.error("Can't find sound called '"+e+"'."),!1;var i=this.sounds[e].cloneNode(!0);i.volume="number"==typeof r?r:this.default_volume,i.loop=o;var a=i.play();return this.instances.push(i),void 0!==a&&a.then(f).catch(h),i.addEventListener("ended",(function(){var e=n.instances.indexOf(i);-1!=e&&n.instances.splice(e,1)})),"function"==typeof t?(i.addEventListener("ended",t),!0):new Promise((function(e,t){return i.addEventListener("ended",e)}))}function p(){var e,t=a(this.instances.slice());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.pause(),n.dispatchEvent(new Event("ended"))}}catch(e){t.e(e)}finally{t.f()}}function m(e){}function v(){}function y(e){var t=this.sounds[e];if(t&&t.play){0!=t.currentTime&&(t.pause(),t.currentTime=0);var n=t.play();return n&&n.catch(m).then(v),n}}function g(e){}function b(){}function w(e){var t=this.sounds[e];if(t&&t.play&&0===t.currentTime){var n=t.play();if(n){var r=function(){t.pause(),t.currentTime=0,t.removeEventListener("ended",this)};t.addEventListener("ended",r),n.catch(g).then(b)}return n}}var k=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sounds={},this.instances=[],this.default_volume=1}var t,n,r;return t=e,(n=[{key:"load",value:c},{key:"remove",value:u},{key:"play",value:d},{key:"stop_all",value:p},{key:"once",value:y},{key:"debounce",value:w}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){this.evs.push([e,t,n]),e.on(t,n)}function I(){for(var e=0;this.evs.length>e;e++){var t=this.evs[e][0],n=this.evs[e][1],r=this.evs[e][2];t.removeListener(n,r);var o=this.evs.indexOf(this.evs[e]);~o&&this.evs.splice(o,1)}}window.Sounds=k;var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(i,e);var t,n,r,o=T(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).evs=[],e}return t=i,(n=[{key:"listenTo",value:M},{key:"unlisten",value:I}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(window.preact.Component);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=window.preact,G=(H.Component,H.render,H.h,preactHooks),q=G.useState,X=G.useEffect,W=G.useRef;window.htm.bind(preact.h);function Y(e){var t=this,n=U(q(e.target[e.name]),2),o=n[0],i=n[1];function a(){return i(e.target[e.name])}function s(){return t.unlisten()}return X((function(n,r,o){var i=a;return t.listenTo(e.target,e.name,i),i(),s}),[e.name]),K(Object(r.j)(e.name),o,(function(t){i(t),e.callback(t)}))}var V=function(e){j(n,e);var t=B(n);function n(){return E(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:Y}]),n}(O),K=function(e,t,n){return preact.h("div",{class:"flex-row "},preact.h("div",{class:"input-box-cell rest"},Object(r.j)(e)),preact.h("div",{class:"input-box-cell"},preact.h("label",{class:"switch"},preact.h("input",{class:"checkbox",onChange:function(e){return n(e.target.checked)},checked:t,defaultChecked:t,type:"checkbox"}),preact.h("slider",{class:"slider round","data-on":Object(r.j)("ui_on"),"data-off":Object(r.j)("ui_off")}))))};function Z(e){var t=this,n=U(q(e.target[e.name]),2),o=n[0],i=n[1];function a(){return i(e.target[e.name])}function s(){return t.unlisten()}return X((function(){var n=a;return t.listenTo(e.target,e.name,n),n(),s}),[e.name]),J(Object(r.j)(e.name),o,e.data,(function(t){i(t),e.callback(t)}))}var Q=function(e){j(n,e);var t=B(n);function n(){return E(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:Z}]),n}(O),J=function(e,t,n,r){return preact.h("div",{class:"flex-row"},preact.h("div",{class:"input-box-cell rest"},e),preact.h("div",{class:"input-box-cell"},preact.h("span",{class:"helper"},String(t)+(n.unit?n.unit:"")),preact.h("input",{class:"range",onInput:function(e){return r(Number(e.target.value))},type:"range",min:n.min,max:n.max,step:n.step,value:t,defaultValue:t})))};function ee(e){var t=this,n=U(q(e.target[e.name]),2),o=n[0],i=n[1];function a(){return i(e.target[e.name])}function s(){return t.unlisten()}return X((function(){var n=a;return t.listenTo(e.target,e.name,n),n(),s}),[e.name]),re(Object(r.j)(e.name),o,e.data,(function(t){i(t),e.callback(t)}))}var te=function(e){j(n,e);var t=B(n);function n(){return E(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:ee}]),n}(O);function ne(e){var t=U(e,2),n=t[0],o=t[1];return preact.h("option",{value:o},Object(r.j)(n))}var re=function(e,t,n,r){return preact.h("div",{class:"flex-row"},preact.h("div",{class:"input-box-cell rest"},preact.h("div",null,e)),preact.h("div",{class:"input-box-cell"},preact.h("select",{class:"selectbox",value:t,onChange:function(e){return r(isNaN(e.target.value)?e.target.value:Number(e.target.value))}},Object.entries(n).map(ne))))};function oe(e){var t=this,n=U(q(e.target[e.name]),2),o=n[0],i=n[1];function a(){return i(e.target[e.name])}function s(){return t.unlisten()}return X((function(){var n=a;return t.listenTo(e.target,e.name,n),n(),s}),[e.name]),ae(Object(r.j)(e.name),o,e.data,(function(t){i(t),e.callback(t)}))}var ie=function(e){j(n,e);var t=B(n);function n(){return E(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:oe}]),n}(O),ae=function(e,t,n,r){return preact.h("div",{class:"flex-row"},preact.h("div",{class:"input-box-cell rest"},e),preact.h("div",{class:"input-box-cell"},preact.h("input",{class:"input",type:"search",placeholder:e,autocomplete:"off",value:t,defaultValue:t,onInput:function(e){return r(e.target.value)}})))};function se(e){var t=this,n=U(q(e.target[e.name]),2),o=n[0],i=n[1],a=W(null),s=W(null);function l(t,n){t[0];!0===n||!1===n||""!==t.text&&(i(t.text),e.callback(t.text))}function c(){return i(e.target[e.name])}return X((function(){var n=$(s.current).colorPicker({margin:"4px 0px 0",doRender:!1,cssAddon:".cp-xy-slider:active {cursor:none;}.cp-color-picker{z-index: 250;background-color: var(--menuPanelColor2);}",opacity:"HEX"!==e.colorScheme&&"RGBA"===e.colorScheme,renderCallback:l}),r=c;return t.listenTo(e.target,e.name,r),r(),function(){n.destroy(),t.unlisten()}}),[e.name]),ce(Object(r.j)(e.name),o,e.data,(function(t){i(t),e.callback(t)}),void 0,a,s)}var le=function(e){j(n,e);var t=B(n);function n(){return E(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:se}]),n}(O),ce=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"r"+Math.random(),i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return preact.h("div",{class:"flex-row "},preact.h("div",{class:"input-box-cell rest"},e),preact.h("div",{class:"input-box-cell"},preact.h("input",{ref:a,id:o,type:"search",value:t,onChange:function(e){return r(e.target.value)},onInput:function(e){return r(e.target.value)},class:"-themePicker -HEX input color"}),preact.h("label",{for:o,class:"colorpicker-input-addon"},preact.h("div",{ref:i,style:{background:t}}))))};function ue(e){var t=this,n=U(q(e.target[e.name].toSelectboxFormat()),2),o=n[0],i=n[1];function a(){return i(e.target[e.name].toSelectboxFormat())}function s(){return t.unlisten()}return X((function(){var n=a;return t.listenTo(e.target,e.name,n),n(),s}),[e.name]),he(Object(r.j)(e.name),o,e.data,(function(t){i(t),e.callback(t)}))}var fe=function(e){j(n,e);var t=B(n);function n(){return E(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:ue}]),n}(O);var he=function(e,t,n,o){return preact.h("div",{class:"flex-row"},preact.h("div",{class:"input-box-cell rest"},preact.h("div",null,e)),preact.h("div",{class:"input-box-cell"},preact.h("select",{class:"selectbox",value:t,defaultValue:t,onChange:function(e){o(e.target.value),e.target.blur()}},function(){var e=[];for(var t in r.m.possibleFonts){var n=/\s+/.test(t)?'"'+t+'"':t,o=r.m.possibleFonts[t];for(var i in o.fontWeights)e.push(preact.h("option",{style:{"font-family":n,"font-weight":o.fontWeights[i]},value:i+" 25px "+n},t+" "+o.fontWeights[i]))}return e}())))};function de(e){var t=this,n=U(q(e.target[e.name]),2),o=n[0],i=n[1];function a(){return i(e.target[e.name])}function s(){return t.unlisten()}return X((function(){var n=a;return t.listenTo(e.target,e.name,n),n(),s}),[e.name]),me(Object(r.j)(e.name),o,e.data,(function(t){i(t),e.callback(t)}))}var pe=function(e){j(n,e);var t=B(n);function n(){return E(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:de}]),n}(O),me=function(e,t,n,r){return preact.h("div",{class:"flex-row"},preact.h("div",{class:"icon-selector"},Array.apply(null,Array(n.length)).map((function(e,o){var i="".concat(n.path).concat(o<9?"0":"").concat(o+1,".cur");return preact.h("div",{onClick:function(){return r(i)},class:"cursor-box icon-selector__item "+(i===t?"active":"")},preact.h("img",{src:i,class:"lazyload"}))}))))};var ve=window.preact,ye=(ve.Component,ve.render,ve.h,preactHooks);ye.useState,ye.useEffect,window.htm.bind(preact.h);function ge(e,t){var n=e.name;return preact.h("div",{class:"tab-button "+(0===t?"active":"")},preact.h("span",null,Object(r.j)(n)))}function be(e,t){var n=e.content;return preact.h("div",{class:"tab-content  "+(0===t?"active":"")+" w100"},preact.h("div",{class:"paddings grow w100"},n))}var we=function(e,t){return preact.h("div",{class:"frows inherit contain",style:"overflow: hidden;"},preact.h("input",{type:"submit",style:"display: none;"}),preact.h("section",{class:"tabs big left vertical"},e.map(ge)),preact.h("section",{class:"tabs-content"},e.map(be)))};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var o=Pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=window.preact,Ie=Me.Component,Oe=(Me.render,Me.h,preactHooks);Oe.useState,Oe.useEffect,Oe.useRef,window.htm.bind(preact.h);function Re(e){return preact.h("div",{class:"row w100"},preact.h("div",{class:"col"},preact.h(Ae,{click:e.onRestore,icon:"fas fa-trash-restore"},Object(r.j)("restoreSettings"))),preact.h("div",{class:"col"},preact.h(Ae,{click:e.onSave,icon:"fas fas fa-save"},Object(r.j)("saveSett"))))}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(i,e);var t,n,r,o=Te(i);function i(){return _e(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:Re}])&&Se(t.prototype,n),r&&Se(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ie),Ae=function(e){var t=e.children,n=e.icon,r=e.click;return preact.h("div",{class:"btn",onClick:r},preact.h("div",{class:"btn-layer"},preact.h("div",{class:"btn-logo"},n?preact.h("div",{class:"btn-icon "+n}):""),preact.h("div",{class:"btn-info"},t)))};function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Le={tick:1,onstart:null,ontick:null,onpause:null,onstop:null,onend:null},Fe=function e(t){if(!(this instanceof e))return new e(t);for(var n in this._={id:+new Date,options:{},duration:0,status:"initialized",start:0,measures:[]},Le)this._.options[n]=Le[n];this.options(t)};function je(){Be.call(this,"ontick",this.getDuration())}function De(){ze.call(this),this._.status="stopped",Be.call(this,"onend")}function Be(e){var t=this._.options[e],n=[].slice.call(arguments,1);"function"==typeof t&&t.apply(this,n)}function ze(e){clearTimeout(this._.timeout),clearInterval(this._.interval),!0===e&&(this._.duration=0)}function Ne(e,t){var n,r;return function(o){var i=n;n=Date.now(),i&&n-i<=t&&clearTimeout(r),r=setTimeout((function(){return e(o)}),t)}}function He(e,t){for(var n=e.toString();n.length<t;n=0+n);return n}function Ge(e){var t=Date.parse(e)-Date.parse(new Date),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),o=Math.floor(t/36e5%24),i=He;return{days:Math.floor(t/864e5),hours:i(o,2),minutes:i(r,2),seconds:i(n,2)}}function qe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qe(i,r,o,a,s,"next",e)}function s(e){qe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return t&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Fe.prototype.start=function(e){return+e||this._.duration?(e&&(e*=1e3),this._.timeout&&"started"===this._.status||(this._.duration=e||this._.duration,this._.timeout=setTimeout(De.bind(this),this._.duration),"function"==typeof this._.options.ontick&&(this._.interval=setInterval(je.bind(this),1e3*+this._.options.tick)),this._.start=+new Date,this._.status="started",Be.call(this,"onstart",this.getDuration())),this):this},Fe.prototype.pause=function(){return"started"!==this._.status||(this._.duration-=+new Date-this._.start,ze.call(this,!1),this._.status="paused",Be.call(this,"onpause")),this},Fe.prototype.stop=function(){return/started|paused/.test(this._.status)?(ze.call(this,!0),this._.status="stopped",Be.call(this,"onstop"),this):this},Fe.prototype.getDuration=function(){return"started"===this._.status?this._.duration-(+new Date-this._.start):"paused"===this._.status?this._.duration:0},Fe.prototype.getStatus=function(){return this._.status},Fe.prototype.options=function(e,t){if(e&&t&&(this._.options[e]=t),!t&&"object"===Ee(e))for(var n in e)this._.options.hasOwnProperty(n)&&(this._.options[n]=e[n]);return this},Fe.prototype.on=function(e,t){return"string"!=typeof e||"function"!=typeof t||(/^on/.test(e)||(e="on"+e),this._.options.hasOwnProperty(e)&&(this._.options[e]=t)),this},Fe.prototype.off=function(e){return"string"!=typeof e?this:"all"===(e=e.toLowerCase())?(this._.options=Le,this):(/^on/.test(e)||(e="on"+e),this._.options.hasOwnProperty(e)&&(this._.options[e]=Le[e]),this)},Fe.prototype.measureStart=function(e){return this._.measures[e||""]=+new Date,this},Fe.prototype.measureStop=function(e){return+new Date-this._.measures[e||""]},window.Timer=Fe;var rt=window.preact,ot=rt.Component,it=rt.render,at=(rt.h,preactHooks);at.useState,at.useEffect,at.useRef,window.htm.bind(preact.h);function st(e){var t,n=e.array,r=e.target,o=[],i=Ye(n);try{var a=function(){var e=t.value,n=e.optName;switch(e.type){case"OPT":o.push(preact.h(V,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e}}));break;case"SLD":o.push(preact.h(Q,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e},data:e.data}));break;case"SEL":o.push(preact.h(te,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e},data:e.data}));break;case"INP":o.push(preact.h(ie,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e}}));break;case"HEX":case"RGBA":o.push(preact.h(le,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e},colorScheme:e.type}));break;case"FONT":o.push(preact.h(fe,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e},data:e.data}));break;case"CUR":o.push(preact.h(ie,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e}})),o.push(preact.h(pe,{target:r,name:n,initialValue:r[n],callback:function(e){return r[n]=e},data:e.data}))}};for(i.s();!(t=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return o}var lt=function(e){Qe(n,e);var t=et(n);function n(){return $e(this,n),t.call(this)}return Ze(n,[{key:"render",value:st}]),n}(ot);function ct(){r.r.set("ogarioThemeSettings",r.t)}function ut(){r.r.set("ogarioThemeSettings",{}),location.reload()}function ft(e){return[we(this.tabbed),preact.h("div",{class:"content-bottom"},preact.h(Ue,{onSave:this.onSave,onRestore:this.onRestore}))]}var ht=function(e){Qe(n,e);var t=et(n);function n(){var e;$e(this,n);var o=(e=t.call(this)).byGr={};for(var i in r.u){var a=r.u[i];o[a.gr]||(o[a.gr]=[]),a.optName=i,o[a.gr].push(a)}var s=e.tabbed=[];for(var l in e.byGr){var c=e.byGr[l];s.push({name:l,content:preact.h(lt,{target:r.t,array:c})})}return e}return Ze(n,[{key:"onSave",value:ct},{key:"onRestore",value:ut},{key:"render",value:ft}]),n}(ot);function dt(e){return we(this.tabbed)}it(preact.h(ht,null),document.getElementById("test"));var pt=function(e){Qe(n,e);var t=et(n);function n(){var e;$e(this,n);var o=(e=t.call(this)).byGr={};for(var i in r.p){var a=r.p[i];o[a.gr]||(o[a.gr]=[]),a.optName=i,o[a.gr].push(a)}var s=e.tabbed=[];for(var l in e.byGr){var c=e.byGr[l];s.push({name:l,content:preact.h(lt,{target:r.o,array:c})})}return e}return Ze(n,[{key:"render",value:dt}]),n}(ot);function mt(){$("#menuBg").val(r.t.menuBg),$(".BG").css("background-image",r.t.menuBg?"url("+r.t.menuBg+")":"none")}function vt(){$("#overlays-hud").css({"font-family":r.t.hudFont.fontFamily,"font-weight":r.t.hudFont.fontWeight})}function yt(){}function gt(){}function bt(){r.t.customMapTexture&&Texture.texturesMap.set(r.t.customMapTexture,r.t.customMapTexture)}function wt(){r.w&&Texture.texturesMap.set(r.w,r.w),r.t.customMapLogo&&Texture.texturesMap.set(r.t.customMapLogo,r.t.customMapLogo)}function kt(){document.body.style.backgroundImage=r.t.customBackground?"url("+r.t.customBackground+")":"none"}function _t(e){var t=e[0];if("INPUT"!==t.nodeName){if(!t.input)return console.error("nope");t=t.input,""!==e.text&&(t.value=e.text)}t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}function St(e){var t=e[0];if("INPUT"!==t.nodeName){if(!t.input)return console.error("nope");t=t.input,""!==e.text&&(t.value=e.text)}t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}it(preact.h(pt,null),document.getElementById("p-settings"));var Ct={menuMainColorCSS:null,menuPanelColorCSS:null,menuTextlColorCSS:null,menuButtonsCSS:null,hudCSS:null,chatCSS:null,chatScaleCSS:null,cursorCSS:null,customMapTextureCanvas:{},customMapTextureLogo:{},exportTheme:function(){var e={};for(var t in r.u){r.u[t];e[t]=r.h[t]}return e},exportSettings:function(){var e={};for(var t in r.p){!1!==r.p[t].exp&&(e[t]=r.g[t])}return e},loadThemeSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.r.get("ogarioThemeSettings");if(e)for(var t in"string"==typeof e&&(e=JSON.parse(e)),r.t)if(Object.prototype.hasOwnProperty.call(r.u,t)&&Object.prototype.hasOwnProperty.call(e,t)){if("object"===We(r.t[t])&&"string"==typeof r.t[t].value){r.t[t].value=e[t];continue}r.t[t]=e[t]}},saveTheme:function(){r.r.set("ogarioThemeSettings",r.t)},loadSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.r.get("settings");if(e)for(var t in"string"==typeof e&&(e=JSON.parse(e)),r.o)r.p.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r.o[t]=e[t])},addCustomCSS:function(e,t){this[e]||(this[e]=$("<style type='text/css'>").appendTo("head")),this[e][0].textContent=t},saveSettings:Ne((function(){r.r.set("settings",r.g)}),100),changePreset:function(e,t){if(t[e]){t[e];this.loadThemeSettings(t[e])}},changeThemePreset:function(e){e=r.t.themePreset,this.changePreset(e,r.v)},restoreThemeSettings:function(){for(var e in r.u)"FONT"==r.u[e].type?r.t[e]=r.u[e].val.def:r.u[e].val!==r.t[e]&&(r.t[e]=r.u[e].val);this.saveTheme()},restoreSettings:function(){for(var e in r.p)0!=r.p[e].exp&&r.p[e].val!==r.o[e]&&(r.o[e]=r.p[e].val);this.saveSettings()},setCustomCursor:function(){var e="*{cursor: "+(r.t.customCursor?"url("+r.t.customCursor+"), auto !important;":"auto;")+"}";this.addCustomCSS("cursorCSS",e)},changeMenuPreset:function(e){e=r.t.menuPreset,this.changePreset(e,r.v)},setSettingsEvents:function(e,t,n){r.o.hasOwnProperty(e)&&null!==t&&(r.s.hasOwnProperty(e)&&(r.s[e]=t),n&&n(),this.saveSettings())},setThemeEvents:function(e,t,n){n&&n()},toggleSkins:function(){r.s.vanillaSkins&&r.s.customSkins?r.s.vanillaSkins=!1:!r.s.vannillaSkins&&r.s.customSkins?(r.s.vanillaSkins=!0,r.s.customSkins=!1):(r.s.vanillaSkins=!0,r.s.customSkins=!0)},setShowHUD:function(){$("#overlays-hud").toggle()},copyLb:function(){var e=$("<input>");$("body").append(e),e.val($("#leaderboard-positions").text()).select();try{document.execCommand("copy")}catch(e){console.log("can't copy..")}e.remove()},resetZoom:function(e){e?(r.s.zoomResetValue=1,r.s.zoomValue=1):r.s.zoomResetValue=0},toggleAutoResp:function(){this.displayChatInfo(r.o.autoResp,"autoRespMsg")},displayChatInfo:function(e,t){if(null===e)return toastr.info(t);e?Object(r.j)("".concat(t,"A"))?toastr.info(Object(r.j)("".concat(t,"A"))):toastr.info(t):Object(r.j)("".concat(t,"B"))?toastr.error(Object(r.j)("".concat(t,"B"))):toastr.error(t)},setFpsAtTop:function(){r.o.fpsAtTop?($("#top5-hud").removeClass("hud-top").addClass("hud-bottom"),$("#stats-hud").removeClass("hud-bottom").addClass("hud-top")):($("#top5-hud").removeClass("hud-bottom").addClass("hud-top"),$("#stats-hud").removeClass("hud-top").addClass("hud-bottom"))},setUserForms:function(){var e=".user-form";$(e);r.o.hideUserForms?$(e).attr("style","color: transparent !important;text-shadow2: 0 0 5px var(--menuTextColor);"):$(e).removeAttr("style")},setCssVariable:function(e,t,n,r){var o=n+(r||"");0===n&&(o="none"),document.body.style.setProperty("--"+t,o)},initTheme:function(){var e=this,t=0,n=function(){var n=o,i=r.u[n],a=t;i.css&&r.t.on(n,(function(){var t=r.t[n];i.csshook&&(t=i.csshook(t)),e.setCssVariable(a,n,t,i.dim)}))(),t++};for(var o in r.u)n();r.t.on("themePreset",this.changeThemePreset.bind(this)),r.t.on("menuPreset",this.changeMenuPreset.bind(this)),r.t.on("menuBg",mt)(),r.t.on("menuFont2",(function(){$(".main.contain").css({"font-family":r.t.menuFont2.fontFamily,"font-weight":r.t.menuFont2.fontWeight}),e.addCustomCSS("iconFont",'\n                .iconfont::placeholder {\n                    font-family: "Font Awesome 5 Free", '.concat(r.t.menuFont2.fontFamily,";\n                    font-weight: 900;\n                }\n            "))}))(),r.t.on("hudFont",vt)(),r.t.on("hudScale",yt)(),r.t.on("chatScale",gt)(),r.t.on("customMapTexture",bt)(),r.t.on("customMapLogo",wt)(),r.t.on("customBackground",kt)(),r.t.on("customCursor",this.setCustomCursor.bind(this))()},init:function(){var e=this;r.o.on("hideUserForms",this.setUserForms.bind(this)),r.o.on("fpsAtTop",this.setFpsAtTop.bind(this))(),this.loadSettings(),this.loadThemeSettings(),this.initTheme(),this.setFpsAtTop(),this.setUserForms(),r.o.on("*",(function(t,n){e.setSettingsEvents(t,n)})),r.t.on("*",(function(t,n){e.setThemeEvents(t,n)})),$('[data-type="hex"]').colorPicker({margin:"4px 0px 0",doRender:!1,cssAddon:".cp-xy-slider:active {cursor:none;}.cp-color-picker{z-index: 250;background-color: var(--menuPanelColor2);}",opacity:!1,renderCallback:_t}),$('[data-type="rgba"]').colorPicker({margin:"4px 0px 0",doRender:!1,cssAddon:".cp-xy-slider:active {cursor:none;}.cp-color-picker{z-index: 250;background-color: var(--color-active-hover);}",opacity:!0,renderCallback:St})}};function Tt(e,t,n){t.includes("noPreventDefault")?this.addEventListener("touchstart",n,{passive:!1}):this.addEventListener("touchstart",n,{passive:!0})}function xt(){r.o.menuSounds&&k.debounce("button-change")}function Pt(e){for(;;)switch(e.prev=e.next){case 0:r.o.menuSounds&&k.debounce("button-hover");case 1:case"end":return e.stop()}}function Mt(){return regeneratorRuntime.wrap(Pt,Mt)}function It(){var e=$(this);e.css("opacity",1).animate({opacity:0},50,"linear",(function(){e.removeClass("active").dequeue()})).dequeue()}function Ot(){}function Rt(){$(this).clearQueue().stop().css("opacity",0).animate({opacity:1},50,"linear",Ot).addClass("active").dequeue()}function Ut(){r.o.menuSounds&&k.play("button-click"),$(this).addClass("active").siblings().removeClass("active").closest(".contain").find("> .tabs-content > .tab-content").clearQueue().stop().queue(It).eq($(this).index()).queue(Rt)}function At(e){e.stopPropagation()}function Et(e){e.stopPropagation()}function Lt(){$(".tab-button").mouseenter(Xe(regeneratorRuntime.mark(Mt))),$(".tabs").on("click touchstart",".tab-button:not(.active):not(#toggleFullScreen)",Ut),$(".contain").on("mousewheel",At).on("DOMMouseScroll",Et)}function Ft(e){"#"==e.currentTarget.getAttribute("href")&&e.preventDefault()}function jt(e){}function Dt(e){}function Bt(e){document.activeElement.blur(),90!==window.orientation&&-90!==window.orientation||(null===document.fullscreenElement&&document.documentElement.requestFullscreen(),screen.orientation.lock("landscape").then(jt,Dt))}function zt(e){document.fullscreenElement||screen.orientation.unlock()}function Nt(){jQuery.event.special.touchstart={setup:Tt},k.load("button-hover","assets/button-hover-1.wav"),k.load("button-click","assets/button-click-1.wav"),k.load("button-change","assets/button-change-1.wav"),k.load("button-disabled","assets/button-disabled-1.wav"),$(document.body).on("change",'input[type="checkbox"], input[type="range"]',xt),$(Lt);$(document).on("click","a",Ft),window.addEventListener("orientationchange",Bt),document.documentElement.addEventListener("fullscreenchange",zt)}new(function(){function e(){$e(this,e),this.initBasicEvents()}return Ze(e,[{key:"initBasicEvents",value:Nt}]),e}());function Ht(){location.reload()}function Gt(){r.f.cache=Math.random(),setTimeout(Ht,150)}r.o.on("language",(function(){r.o.once("language",Gt)}));var qt=window.preact,Xt=window.preactHooks;window.htm.bind(qt.h);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t,n){return t&&Vt(e.prototype,t),n&&Vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jt(e);if(t){var o=Jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){if(t&&("object"===Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(){var e=this;Object.keys(this.all).forEach((function(t){e.emit(t),e.rem(t)}))}function tn(e){var t=!1;if(this.has(e[this.indexId]))if(t=!0,e.destroy){var n=this.get(e[this.indexId]);n.destroy(),this.rem(n[this.indexId]),this.add(e)}else this.set(this.all,e[this.indexId],e);else this.add(e);this.emit(e[this.indexId],e,t)}function nn(e){return(this.get(e)||{}).amount}var rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kt(e,t)}(n,e);var t=Zt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return $t(n,[{key:"flush",value:en},{key:"update",value:tn},{key:"amount",value:nn}]),n}(r.e);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t,n){return t&&ln(e.prototype,t),n&&ln(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hn(this,n)}}function hn(e,t){if(t&&("object"===on(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e){e&&e.destroy()}function mn(){var e=this;Object.keys(this.all).forEach((function(t){e.emit(t),e.rem(t)}))}function vn(e){this.emit(e),this.rem(e)}function yn(e){var t=!1;if(this.has(e[this.indexId]))if(t=!0,e.destroy){var n=this.get(e[this.indexId]);n.destroy(),this.remove(n[this.indexId]),this.add(e)}else this.set(this.all,e[this.indexId],e);else this.add(e);this.emit(e[this.indexId],e,t)}function gn(e){return(this.get(e)||{}).amount}var bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}(n,e);var t=fn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).on("remove",pn),e}return cn(n,[{key:"flush",value:mn},{key:"remove",value:vn},{key:"update",value:yn},{key:"amount",value:gn}]),n}(r.e),wn={progress:"progress",done:"done"};function kn(e){this._.options.ontick(e)}function _n(){console.log("quest done",this.type),this.done=!0,this.emit(this.ev.done)}function Sn(e,t,n,r){e[r?"once":"on"](t,n);var o=[e,t,n];return this.evs.push(o),o}function Cn(){for(var e=0;this.evs.length>e;e++){var t=this.evs[e][0],n=this.evs[e][1],r=this.evs[e][2];t.removeListener(n,r);var o=this.evs.indexOf(this.evs[e]);~o&&this.evs.splice(o,1)}}function Tn(){this.timer&&this.timer.stop(),this.unlisten()}var xn=function(){function e(t,n,r){var o=this;sn(this,e),an(this,"expiresInSeconds",0),an(this,"gameType",0),an(this,"goal",0),an(this,"productId","quest_activation_24h"),an(this,"type","highest_mass"),an(this,"ev",wn),an(this,"progress",0),an(this,"evs",[]),an(this,"done",!1),an(this,"prevLbPos",0),an(this,"prevScore",0),an(this,"timer",null),an(this,"client",null),an(this,"parent",null),eventify(this),Object.assign(this,r),this.client=n,this.parent=t;var i=this;function a(){o.parent.remove(o.productId)}"food_eaten"===this.type&&this.listenTo(this.client.counter,"eatPellet",(function(){o.done||(o.progress=o.client.counter.eatPellet,o.emit(o.ev.progress),o.client.counter.eatPellet>=o.goal&&o.onDone())})),"viruses_eaten"===this.type&&this.listenTo(this.client.counter,"eatVirus",(function(){o.done||(o.progress=o.client.counter.eatVirus,o.emit(o.ev.progress),o.client.counter.eatVirus>=o.goal&&o.onDone())})),"normal_cells_eaten"===this.type&&this.listenTo(this.client.counter,"counterAll",(function(){o.done||(o.progress=o.client.counter.counterAll,o.emit(o.ev.progress),o.client.counter.counterAll>=o.goal&&o.onDone())})),"top_position"===this.type&&this.listenTo(this.client,"leaderboard",(function(){o.done||(o.client.playerPosition!=o.prevLbPos&&(o.progress=o.client.playerPosition,o.emit(o.ev.progress)),o.prevLbPos=o.client.playerPosition,0!=o.client.playerPosition&&o.client.playerPosition<=o.goal&&o.onDone())})),"highest_mass"===this.type&&this.listenTo(ticker,"render",(function(){o.done||(o.client.counter.counterScore!=o.prevScore&&(o.progress=o.client.counter.counterScore,o.emit(o.ev.progress)),o.prevScore=o.client.counter.counterScore,o.client.play&&o.client.counter.counterScore>=o.goal&&o.onDone())})),"time_total"===this.type&&(this.timer=new Fe({tick:.9,ontick:function(e){i.progress=e,i.emit(i.ev.progress)},onstart:kn,onend:function(){i.onDone()}}),this.timer.start(this.goal),this.timer.stop(),this.listenTo(this.client,"spawn",(function(){o.client.play&&o.timer.start(o.goal)}))[2](),this.listenTo(this.client,"death",(function(){o.timer.stop(),o.timer.start(o.goal),o.timer.stop()}))),this.once(this.ev.done,(function(){o.listenTo(o.client,"death",a,!0)}))}return cn(e,[{key:"onDone",value:_n},{key:"listenTo",value:Sn},{key:"unlisten",value:Cn},{key:"destroy",value:Tn}]),e}();function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(e,t){if(t&&("object"===Pn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return An(e)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t&&Fn(e.prototype,t),n&&Fn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dn(e,t,n){var r=this;this.timers[e]&&this.timers[e].stop(),this.timers[e]=new Fe({tick:1,ontick:function(t){r.emit(e+"-tick")},onstart:function(t){r.emit(e+"-start"),this._.options.ontick(t)},onend:function(){delete r.timers[e],r.emit(e+"-timer"),"function"==typeof t&&t()}}),this.timers[e].start(n)}function Bn(e){this.timers.hasOwnProperty(e)&&(this.timers[e]&&this.timers[e].stop(),delete this.timers[e])}function zn(e){return this.timers.hasOwnProperty(e)}function Nn(){Object.keys(this.timers).forEach(this.remTimer.bind(this))}function Hn(e){return this.hasTimer(e)?this.timers[e].getDuration():0}function Gn(){}function qn(){var e=this,t=location.href.includes("bug"),n=!1;function r(){!e.client.play&&n&&e.client.connect(e.client.ws)}function o(){n=!1,t&&toastr.info("Задание выполнено")}this.on("resetRequestInterval-timer",(function(){t&&toastr.info("Задание выполнено"),clearInterval(null)})),t&&toastr.info("Automatic hack enabled"),this.on("dna-wallet",(function(e){t&&toastr.info("My DNA: "+e.amount)}));var i=function(n){var i=new Date;n||1===i.getUTCDay()&&10===i.getUTCHours()&&i.getUTCMinutes()<=9?(t&&toastr.info("Reconnecting in 1 second"),setTimeout(r,1e3),!e.hasTimer("workDone")&&e.setTimer("workDone",o,480)):t&&toastr.error("Еще не время")};this.on("loginResponseField",(function(t){e.leaguesRequest(1),i(n)})),this.on("userLeaguesInfoResponseField",(function(n){Object.assign(e.userLeaguesInfo,n.userLeaguesInfo),e.setTimer("leagues-reset",null,n.userLeaguesInfo.secondsUntilReset),t&&toastr.info("Seconds to start: "+n.userLeaguesInfo.secondsUntilReset)})),this.on("leagues-reset-timer",(function(){t&&toastr.info("Начинается сброс лиги...."),n=!0,i(!0)}))}function Xn(e){}function Wn(){var e=this;this.on("hourlyBonus-timer",(function(){r.o.autoCollectCoins&&(r.o.autoNotice&&toastr.info("+20 💰"),e.client.proxyMobileData([8,1,18,18,8,110,242,6,13,10,11,104,111,117,114,108,121,66,111,110,117,115]))}));var t=function(){arguments.length>0&&void 0!==arguments[0]||e.userPotions;var t=!1;for(var n in e.userPotions){var o=e.userPotions[n];2===o.status&&(t=!0),1===o.status&&0}for(var n in e.userPotions){var i=e.userPotions[n];if(1===i.status&&!t){e.brewPotionForSlotRequest(i.slot),r.o.autoNotice&&toastr.info("Brewing 🧪 №"+i.slot);break}}},n=function(){if(0==3-Object.keys(e.userPotions).length)for(var t in e.userPotions){var n=e.userPotions[t];if(3===n.status){e.openPotionForSlotRequest(n.slot),r.o.autoNotice&&toastr.info("Opening 🧪 №"+n.slot);break}}};this.on("loginResponseField",(function(n){e.updatePotions(n.userPotions),r.o.autoBrewingPotions&&t()})),this.on("gameOverField",(function(n){n.potionInfo.newUserPotion&&e.updatePotionGameOver(n.potionInfo.newUserPotion),r.o.autoBrewingPotions&&t()})),this.on("softPurchaseResponseField",Xn),this.on("openPotionForSlotResponseField",(function(t){t.userPotions&&e.updatePotions(t.userPotions)})),this.on("potion_skip_brew_slot_1-wallet","potion_skip_brew_slot_2-wallet","potion_skip_brew_slot_3-wallet",(function(t){var n=Number(t.productId.match(/\d/));t.productId.amount>0&&(1!==e.userPotions[n].status&&2!==e.userPotions[n].status||e.openPotionForSlotRequest(n))}));var o=!1;this.client.on("spawn",(function(){o=!0})),this.client.on("leaderboard",(function(t){t.play&&o&&r.o.autoBrewingPotions&&(t.playerPosition<10?e.hasTimer("lb-30s")||e.setTimer("lb-30s",null,21):e.remTimer("lb-30s"))})),this.on("lb-30s-timer",(function(){o=!1,n()})),this.client.on("mc:btr:state",(function(t,r){3!==r&&4!==r||0!==e.client.battleRoyale.state||!e.client.play||(e.log("BATTLEROYALE HACK ACTIVATED"),n())}))}function Yn(){var e=this;function t(){e.ReqPing()}function n(){e.ReqPing()}this.client.on("estabilished",(function(){r.o.showStatsPING&&e.client.isAgario&&(e.ReqPing(),setTimeout(t,5e3))})),this.client.on("pongRequest",(function(){r.o.showStatsPING&&e.client.isAgario&&(e.ReqPing(),setTimeout(n,5e3))}))}function Vn(e){var t=this;if(null!==e){var n=!1;return["friends","league","country","world"].forEach((function(r){t.userLeaguesInfo[r].forEach((function(t){e===t.userId&&(console.log(e,"Found in "+r,t),n=!0)}))})),n}}function $n(){var e=this,t=~~(1e3*Math.random()),n=Date.now(),r=mesega.encode({contentType:1,uncompressedData:{type:30,pingField:{pingId:t,previousRoundtrip:1}}}).finish();this.client.proxyMobileData(r),this.once("pongField",(function(t){var r=Date.now();e.client.ping=r-n,e.client.emit("ping")}))}function Kn(e){this.softPurchaseRequest("1_potion_common_skip_brew_slot_"+e)}function Zn(e){var t=this;this.trace("Trying to open potion for slot"+e);var n=ur.encode({contentType:1,uncompressedData:{type:124,openPotionForSlotRequestField:{slot:e}}}).finish();setTimeout((function(){t.client.proxyMobileData(n)}),1e3)}function Qn(e){this.log("Trying to purchase",e);var t=ur.encode({contentType:1,uncompressedData:{type:70,softPurchaseRequestField:{purchaseId:e}}}).finish();this.client.proxyMobileData(t)}function Jn(e){this.log("Update settings");var t=ur.encode({contentType:1,uncompressedData:{type:80,updateUserSettingsRequestField:{userSettingsUpdates:e}}}).finish();this.client.proxyMobileData(t)}function er(e){this.log("Trying to brew potion "+e);var t=ur.encode({contentType:1,uncompressedData:{type:122,brewPotionForSlotRequestField:{slot:e}}}).finish();this.client.proxyMobileData(t)}function tr(e){this.log("Trying to get "+e);var t=ur.encode({contentType:1,uncompressedData:{type:110,activateTimedEventRequestField:{eventId:e}}}).finish();this.client.proxyMobileData(t)}function nr(e){this.log("Trying to activate quest"+e);var t=ur.encode({contentType:1,uncompressedData:{type:114,activateQuestRequestField:{productId:e}}}).finish();this.client.proxyMobileData(t)}function rr(e){this.log("Trying to activate boost "+e);var t=ur.encode({contentType:1,uncompressedData:{type:112,activateBoostRequestField:{productId:e}}}).finish();this.client.proxyMobileData(t)}function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=ur.encode({contentType:1,uncompressedData:{type:130,userLeaguesInfoRequestField:{leagueRequestType:e}}}).finish();this.client.proxyMobileData(t)}function ir(e){var t=ur.encode({contentType:1,uncompressedData:e}).finish();console.log(t),this.client.proxyMobileData(t)}function ar(){this.storage=null}var sr,lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&On(e,t)}(n,e);var t=Rn(n);function n(e){var o;Ln(this,n),o=t.call(this),Object(r.l)(An(o)),o.client=e,o.isDebug=!0,Object(r.a)(!0,An(o),"[[33mMC "+o.client.ID+"[39m]:");o.state=new r.c({loggedIn:!1}),o.client.on("unestabilished",(function(){o.state.loggedIn=!1,o.UserWallet.flush(),o.UserActiveQuests.flush()}));o.userInfo=new r.c({accountAge:0,actionCounters:{questsCompleted:0,potionsObtained:0,skinsCreated:0},displayName:"Гей_2000",extraInitialMass:0,hasLoggedIntoMobile:!0,isNewUser:!1,isPayingUser:!1,latestCountryCode:"NO",level:100,realmInfo:{value:{realm:2,realmId:"888888888888888",avatarUrl:""}},userId:"d776f348-10c0-445b-874d-5303a8387b39",xp:0}),o.actionCounters={potionsObtained:0,questsCompleted:0,skinsCreated:0},o.gameSessionStats={finalMass:1664,finalPosition:11,foodEaten:1413,highestMass:6008,longestTimeAlive:529,massConsumed:18645,normalCellsEaten:82,playersEaten:0,timeInLeaderboard:528,timeTotal:529,topPosition:2,virusesEaten:18},o.userLeaguesInfo={country:[],friends:[],league:[],leagueRequestType:1,productUpdates:[],userLeaguesInfo:[],world:[]},o.storage={},o.fields={},o.userPotions={1:{productId:null,secondsRemaining:0,slot:1,status:null},2:{productId:null,secondsRemaining:0,slot:2,status:null},3:{productId:null,secondsRemaining:0,slot:3,status:null}},o.userBoosts=[],o.userBoostsData={},o.UserActiveQuests=new bn("productId",["type"]),o.userWallet=[];function i(e){o.userWalletData[e.productId]=e,o.emit(e.productId+"-wallet",o.userWalletData[e.productId]),o.UserWallet.update(e)}function a(e){o.userPotions[e.slot]=e,o.emit(e.slot+"-potion",o.userPotions[e.slot])}function s(e){o.updateWalletData([e.userWalletItem])}function l(t){o.UserActiveQuests.update(new xn(o.UserActiveQuests,e,t))}function c(e){o.userBoostsData[e.productId]=e}return o.userWalletData={},o.UserWallet=new rn("productId",["type"]),o.updateWalletData=function(e){Array.isArray(e)?e.forEach(i):(o.userWalletData[e.productId]=e,o.emit(e.productId+"-wallet",o.userWalletData[e.productId]),o.UserWallet.update(e))},o.updatePotions=function(e){Array.isArray(e)?(delete o.userPotions[1],delete o.userPotions[2],delete o.userPotions[3],e.forEach(a)):(o.userPotions[e.slot]=e,o.emit(e.slot+"-potion",o.userPotions[e.slot]))},o.updatePotionGameOver=function(e){o.userPotions[e.slot]=e,o.emit(e.slot+"-potion",o.userPotions[e.slot])},e.on("removeEvents",(function(){delete e.MobileData})),e.on("mobiledata",(function(t){var n=ur.decode(t).uncompressedData;for(var r in!n.pongField&&console.log(n),n)if(n.hasOwnProperty(r)){var i=n[r];if(o.storage[r]=n,o.emit(r,n[r]),i.productUpdates&&i.productUpdates.forEach(s),i.userQuest&&o.UserActiveQuests.update(new xn(o.UserActiveQuests,e,i.userQuest)),i.userActiveQuests&&i.userActiveQuests.forEach(l),i.userTimedEvents){var a,u=Mn(i.userTimedEvents);try{for(u.s();!(a=u.n()).done;){var f=a.value;o.setTimer(f.eventId,null,f.nextAvailableInSeconds)}}catch(e){u.e(e)}finally{u.f()}}for(var h in i.userWallet&&(Object.assign(o.userWallet,i.userWallet),o.updateWalletData(o.userWallet)),i.userBoosts&&(i.userBoosts.forEach(c),o.emit("userBoosts")),i.userBoostItem&&(o.userBoostsData[i.userBoostItem.productId]=i.userBoostItem,o.emit("userBoosts")),i.userInfo&&(Object.assign(o.userInfo,i.userInfo),o.emit("userInfo")),n[r])o.fields[h]=n[r][h];o.emit(r+":after",n[r])}})),o.on("loginResponseField:after",(function(e){0==o.duration("hourlyBonus")&&(o.emit("hourlyBonus-timer"),o.setTimer("hourlyBonus",null,3600)),o.state.loggedIn=!0})),o.on("activateTimedEventResponseField",(function(e){o.setTimer(e.userTimedEvent.eventId,null,e.userTimedEvent.nextAvailableInSeconds)})),o.on("quest_activation_24h-wallet",Gn),o.initAutomatica(),o.initAutoBug(),o.initPing(),o}return jn(n,[{key:"initAutoBug",value:qn},{key:"initAutomatica",value:Wn},{key:"initPing",value:Yn},{key:"searchInLeagues",value:Vn},{key:"ReqPing",value:$n},{key:"skipPotionBrew",value:Kn},{key:"openPotionForSlotRequest",value:Zn},{key:"softPurchaseRequest",value:Qn},{key:"updateUserSettingsRequest",value:Jn},{key:"brewPotionForSlotRequest",value:er},{key:"activateTimedEventRequest",value:tr},{key:"activateQuestRequest",value:nr},{key:"activateBoostRequest",value:rr},{key:"leaguesRequest",value:or},{key:"customRequest",value:ir},{key:"destroy",value:ar}]),n}(function(){function e(){Ln(this,e),this.timers={}}return jn(e,[{key:"setTimer",value:Dn},{key:"remTimer",value:Bn},{key:"hasTimer",value:zn},{key:"remAllTimers",value:Nn},{key:"duration",value:Hn}]),e}()),cr=protobuf.parse('syntax="proto3";\nmessage Data {\n\tagario_proto_envelope_Content contentType = 1;\n\tuncompressedData uncompressedData = 2;\n\tbytes compressedData = 3;\n\tuint32 uncompressedSize = 4;\n}\n\n\n\nmessage uncompressedData {\n\t\tagario_proto_req_Type type = 1;\n\n\t\tagario_proto_Login_request loginRequestField = 10;\n\n\t\tagario_proto_Login_response loginResponseField = 11;\n\n\t\tagario_proto_Realm_upgrade_request realmUpgradeRequestField = 12;\n\n\t\tagario_proto_Realm_upgrade_response realmUpgradeResponseField = 13;\n\n\t\tagario_proto_Connect_request connectRequestField = 14;\n\n\t\tagario_proto_Connect_response connectResponseField = 15;\n\n\t\tagario_proto_Device_token_update deviceTokenUpdateField = 16;\n\n\t\tagario_proto_Disconnect disconnectField = 20;\n\n\t\tagario_proto_Reconnect reconnectField = 21;\n\n\t\tagario_proto_No_proper_response noProperResponseField = 22;\n\n\t\tagario_proto_Ping pingField = 30;\n\n\t\tagario_proto_Pong pongField = 31;\n\n\t\tagario_proto_Udp_handshake udpHandshakeField = 32;\n\n\t\tagario_proto_Configuration_change configurationChangeField = 33;\n\n\t\tagario_proto_Server_going_offline serverGoingOfflineField = 34;\n\n\t\tagario_proto_Game_enter_request gameEnterRequestField = 40;\n\n\t\tagario_proto_Game_enter_response gameEnterResponseField = 41;\n\n\t\tagario_proto_Game_joined gameJoinedField = 42;\n\n\t\tagario_proto_Game_lobby_enter_request gameLobbyEnterRequestField = 44;\n\n\t\tagario_proto_Game_lobby_enter_response gameLobbyEnterResponseField = 45;\n\n\t\tagario_proto_Game_lobby_queue_update gameLobbyQueueUpdateField = 47;\n\n\t\tagario_proto_Game_arena_direction_vector gameArenaDirectionVectorField = 50;\n\n\t\tagario_proto_Game_continue_update_request gameContinueUpdateRequestField = 54;\n\n\t\tagario_proto_Game_continue_update_response gameContinueUpdateResponseField = 55;\n\n\t\tagario_proto_Game_arena_leaderboard gameArenaLeaderboardField = 60;\n\n\t\tagario_proto_Game_arena_state gameArenaStateField = 61;\n\n\t\tagario_proto_Game_over gameOverField = 62;\n\n\t\tagario_proto_Game_arena_party_cell_updates gameArenaPartyCellUpdatesField = 63;\n\n\t\tagario_proto_Game_arena_party_leaderboard_entries_updates gameArenaPartyLeaderboardEntriesUpdatesField = 64;\n\n\t\tagario_proto_Game_arena_event gameArenaEventField = 65;\n\n\t\tagario_proto_Game_arena_current_safe_area gameArenaCurrentSafeAreaField = 66;\n\n\t\tagario_proto_Game_continue_info gameContinueInfoField = 67;\n\n\t\tagario_proto_Game_battle_royale_arena_phase gameBattleRoyaleArenaPhaseField = 68;\n\n\t\tagario_proto_Game_session_highest_mass gameSessionHighestMassField = 69;\n\n\t\tagario_proto_Soft_purchase_request softPurchaseRequestField = 70;\n\n\t\tagario_proto_Soft_purchase_response softPurchaseResponseField = 71;\n\n\t\tagario_proto_Apple_inapp_purchase_request appleInappPurchaseRequestField = 72;\n\n\t\tagario_proto_Google_inapp_purchase_request googleInappPurchaseRequestField = 73;\n\n\t\tagario_proto_Inapp_purchase_response inappPurchaseResponseField = 74;\n\n\t\tagario_proto_Wallet_updates walletUpdatesField = 75;\n\n\t\tagario_proto_Purchase_wallet_updates purchaseWalletUpdatesField = 76;\n\n\t\tagario_proto_Offer_bundle_request offerBundleRequestField = 77;\n\n\t\tagario_proto_Offer_bundle_response offerBundleResponseField = 78;\n\n\t\tagario_proto_Subscription_wallet_updates subscriptionWalletUpdatesField = 79;\n\n\t\tagario_proto_Update_user_settings_request updateUserSettingsRequestField = 80;\n\n\t\tagario_proto_Update_user_settings_response updateUserSettingsResponseField = 81;\n\n\t\tagario_proto_User_stats_request userStatsRequestField = 82;\n\n\t\tagario_proto_User_stats_response userStatsResponseField = 83;\n\n\t\tagario_proto_Server_to_server_game_over_wrapper serverToServerGameOverWrapperField = 90;\n\n\t\tagario_proto_Claim_gifts_request claimGiftsRequestField = 100;\n\n\t\tagario_proto_Claim_gifts_response claimGiftsResponseField = 101;\n\n\t\tagario_proto_Send_gifts sendGiftsField = 102;\n\n\t\tagario_proto_Consume_requests consumeRequestsField = 103;\n\n\t\tagario_proto_Request_gifts requestGiftsField = 104;\n\n\t\tagario_proto_Facebook_invitation_reward_updates facebookInvitationRewardUpdatesField = 105;\n\n\t\tagario_proto_Activate_timed_event_request activateTimedEventRequestField = 110;\n\n\t\tagario_proto_Activate_timed_event_response activateTimedEventResponseField = 111;\n\n\t\tagario_proto_Activate_boost_request activateBoostRequestField = 112;\n\n\t\tagario_proto_Activate_boost_response activateBoostResponseField = 113;\n\n\t\tagario_proto_Activate_quest_request activateQuestRequestField = 114;\n\n\t\tagario_proto_Activate_quest_response activateQuestResponseField = 115;\n\n\t\tagario_proto_User_timed_event_updates userTimedEventUpdatesField = 116;\n\n\t\tagario_proto_Activate_user_rewards_request activateUserRewardsRequestField = 117;\n\n\t\tagario_proto_Activate_user_rewards_response activateUserRewardsResponseField = 118;\n\n\t\tagario_proto_Open_potion_for_product_request openPotionForProductRequestField = 120;\n\n\t\tagario_proto_Open_potion_for_product_response openPotionForProductResponseField = 121;\n\n\t\tagario_proto_Brew_potion_for_slot_request brewPotionForSlotRequestField = 122;\n\n\t\tagario_proto_Brew_potion_for_slot_response brewPotionForSlotResponseField = 123;\n\n\t\tagario_proto_Open_potion_for_slot_request openPotionForSlotRequestField = 124;\n\n\t\tagario_proto_Open_potion_for_slot_response openPotionForSlotResponseField = 125;\n\n\t\tagario_proto_User_leagues_info_request userLeaguesInfoRequestField = 130;\n\n\t\tagario_proto_User_leagues_info_response userLeaguesInfoResponseField = 131;\n\n\t\tagario_proto_User_leagues_pass_update userLeaguesPassUpdateField = 132;\n\n\t\tagario_proto_User_party_create_response userPartyCreateResponseField = 141;\n\n\t\tagario_proto_User_party_join_request userPartyJoinRequestField = 142;\n\n\t\tagario_proto_User_party_join_response userPartyJoinResponseField = 143;\n\n\t\tagario_proto_User_party_membership_update userPartyMembershipUpdateField = 145;\n\n\t\tagario_proto_User_party_facebook_invite userPartyFacebookInviteField = 146;\n\n\t\tagario_proto_User_friend_list_update userFriendListUpdateField = 147;\n\n\t\tagario_proto_User_skins_create_request userSkinsCreateRequestField = 150;\n\n\t\tagario_proto_User_skins_create_response userSkinsCreateResponseField = 151;\n\n\t\tagario_proto_User_skins_delete userSkinsDeleteField = 152;\n\n\t\tagario_proto_Automation_request_update automationRequestUpdateField = 160;\n\n\t\tagario_proto_Action_counters_update actionCountersUpdateField = 170;\n\n\t\tagario_proto_User_ab_test_groups_update userAbTestGroupsUpdateField = 171;\n\n\t\tagario_proto_User_rewards_token_request userRewardsTokenRequestField = 180;\n\n\t\tagario_proto_User_rewards_token_response userRewardsTokenResponseField = 181;\n\n\t\tagario_proto_User_rewards_updates userRewardsUpdatesField = 182;\n\n\t\tagario_proto_Activate_reward_link_request activateRewardLinkRequestField = 183;\n\n\t\tagario_proto_Activate_reward_link_response activateRewardLinkResponseField = 184;\n\n\t\tagario_proto_Generic_video_ad_reward_token_request genericVideoAdRewardTokenRequestField = 185;\n\n\t\tagario_proto_Generic_video_ad_reward_token_response genericVideoAdRewardTokenResponseField = 186;\n}\nmessage agario_proto_Login_request {\n\tagario_proto_login_realm realm = 1;\n\tagario_proto_Device device = 2;\n\tagario_proto_Tokens tokens = 3;\n\tstring clientIp = 4;\n}\nmessage agario_proto_Device {\n\tagario_proto_device_Platform platform = 1;\n\tstring version = 2;\n\tuint32 width = 3;\n\tuint32 height = 4;\n}\n\nmessage agario_proto_Login_response {\n\tagario_proto_Tokens tokens = 1;\n\tagario_proto_login_response_Current_game_state currentGameState = 2;\n\toptional agario_proto_game_type currentGameType = 3;\n\toptional agario_proto_User_party userParty = 4;\n\tuint32 latestConfiguration = 5;\n\tagario_proto_Server_info serverInfo = 6;\n\tagario_proto_User_info userInfo = 7;\n\tagario_proto_User_stats userStats = 8;\n\trepeated agario_proto_User_wallet_item userWallet = 9;\n\trepeated agario_proto_User_setting userSettings = 10;\n\trepeated agario_proto_User_boost_item userBoosts = 11;\n\trepeated agario_proto_User_timed_event userTimedEvents = 12;\n\tagario_proto_User_gifts userGifts = 13;\n\tagario_proto_Soft_upgrade softUpgrade = 14;\n\trepeated agario_proto_User_ab_test_group userAbTestGroups = 15;\n\trepeated agario_proto_User_quest userActiveQuests = 16;\n\trepeated agario_proto_User_potion userPotions = 17;\n\tstring userSessionId = 18;\n\toptional agario_proto_User_leagues_info userLeaguesInfo = 19;\n\tagario_proto_User_subscriptions userSubscriptions = 20;\n\trepeated agario_proto_User_rewards userRewards = 21;\n\trepeated string userUnapprovedSkinsIds = 22;\n}\nmessage agario_proto_Realm_upgrade_request {\n\tagario_proto_upgrade_realm realm = 1;\n\tstring authToken = 2;\n}\nmessage agario_proto_Realm_upgrade_response {\n\tagario_proto_Realm_info realmInfo = 1;\n\tstring displayName = 2;\n\tbool rewardWasHandedOut = 3;\n\tagario_proto_User_wallet_item userWallet = 4;\n}\nmessage agario_proto_Connect_request {\n\tstring connectToken = 1;\n}\n\t\nmessage agario_proto_Connect_response {\n\tagario_proto_Server_info serverInfo = 1;\n}\n\t\nmessage agario_proto_Device_token_update {\n\tstring token = 1;\n}\n\t\nmessage agario_proto_Disconnect {\n\tagario_proto_disconnect_Reason reason = 1;\n}\n\t\nmessage agario_proto_Reconnect {\n\tstring host = 1;\n\tuint32 tcpPort = 2;\n\tagario_proto_reconnect_Reconnect_with reconnectWith = 3;\n\tstring connectToken = 4;\n}\n\t\nmessage agario_proto_No_proper_response {\n\tagario_proto_no_proper_response_For __for = 1;\n}\n\nmessage agario_proto_Ping {\n\tuint32 pingId = 1;\n\tuint32 previousRoundtrip = 2;\n}\n\nmessage agario_proto_Pong {\n\tuint32 pingId = 1;\n}\n\nmessage agario_proto_Udp_handshake {\n\tstring token = 1;\n}\n\nmessage agario_proto_Configuration_change {\n\tuint32 latest = 1;\n}\n\nmessage agario_proto_Server_going_offline {\n\tuint32 secondsRemaining = 1;\n}\n\nmessage agario_proto_Game_enter_request {\n\tstring nickname = 1;\n}\n\nmessage agario_proto_Game_enter_response {\n\tagario_proto_game_enter_response_Result result = 1;\n}\n\nmessage agario_proto_Game_joined {\n\tagario_proto_game_type gameType = 1;\n\tagario_proto_Game_arena_state gameArenaState = 2;\n\tfloat gameArenaSideLength = 3;\n\tuint32 secondsRemaining = 4;\n\tuint32 playersAlive = 5;\n\tbattleRoyaleArenaPhase battleRoyaleArenaPhase = 6;\n}\n\nmessage agario_proto_Game_lobby_enter_request {\n\tagario_proto_lobby_type lobbyType = 1;\n\tstring nickname = 2;\n}\n\nmessage agario_proto_Game_lobby_enter_response {\n\tagario_proto_game_lobby_enter_response_Result result = 1;\n}\n\nmessage agario_proto_Game_lobby_queue_update {\n\tagario_proto_lobby_type lobbyType = 1;\n\tuint32 playersWaitingToBeMatched = 2;\n\tuint32 matchingOccursInSeconds = 3;\n}\n \nmessage agario_proto_Game_arena_direction_vector {\n\tfloat x = 1;\n\tfloat y = 2;\n}\n\nmessage agario_proto_Game_continue_update_request {\n\tagario_proto_game_continue_update_request_Type type = 1;\n}\n\nmessage agario_proto_Game_continue_update_response {\n\trepeated agario_proto_Product_update productUpdates = 1;\n\tagario_proto_Game_over gameOver = 2;\n}\n\nmessage agario_proto_Game_arena_leaderboard {\n\trepeated agario_proto_Game_arena_leaderboard_entry leaderboardEntries = 1;\n\tuint32 playerPosition = 2;\n}\n\nmessage agario_proto_Game_arena_state {\n\tuint32 set_orderId = 1;\n\trepeated agario_proto_Game_arena_cell_state appeared = 2;\n\trepeated agario_proto_Game_arena_cell_state changed = 3;\n\trepeated uint32 disappeared = 4;\n\trepeated agario_proto_Game_arena_cell_death died = 5;\n\tbool isDead = 6;\n}\n\nmessage agario_proto_Game_over {\n\tagario_proto_game_type gameType = 1;\n\tagario_proto_game_over_reason reason = 2;\n\trepeated agario_proto_Product_update productUpdates = 3;\n\trepeated agario_proto_Xp_level_update xpLevelUpdates = 4;\n\tagario_proto_User_stats userStats = 5;\n\tagario_proto_Game_session_stats gameSessionStats = 6;\n\tagario_proto_Potion_info potionInfo = 7;\n\toptional agario_proto_Game_arena_leaderboard leaderboard = 8;\n}\n\nmessage agario_proto_Game_arena_party_cell_updates {\n\trepeated agario_proto_Game_arena_party_cell gameArenaPartyCells = 1;\n\tuint32 totalPartyMembersInArena = 2;\n}\n\nmessage agario_proto_Game_arena_party_leaderboard_entries_updates {\n\tagario_proto_Game_arena_leaderboard_entry gameArenaPartyLeaderboardEntries = 1;\n}\n\nmessage agario_proto_Game_arena_event {\n\tagario_proto_game_arena_event_Reason reason = 1;\n\tagario_proto_Game_arena_attacker gameArenaAttacker = 2;\n\tstring victimNickname = 3;\n\tuint32 playersAlive = 4;\n}\n\nmessage agario_proto_Game_arena_current_safe_area {\n\tagario_proto_Game_arena_safe_area area = 1;\n}\n\nmessage agario_proto_Game_continue_info {\n\tuint32 massUponContinue = 1;\n\tbool massIsKept = 2;\n\tstring gameContinueToken = 3;\n}\n\nmessage agario_proto_Game_battle_royale_arena_phase {\n\tagario_proto_game_battle_royale_arena_phase_Phase_id phaseId = 1;\n\tuint32 timeToNext = 2;\n\tagario_proto_Game_arena_safe_area currentSafeArea = 3;\n\tagario_proto_Game_arena_safe_area nextSafeArea = 4;\n}\n\nmessage agario_proto_Game_session_highest_mass {\n\tuint32 highestMass = 1;\n}\n\nmessage agario_proto_Soft_purchase_request {\n\t\tstring purchaseId = 1;\n}\n\nmessage agario_proto_Soft_purchase_response {\n\t\tagario_proto_soft_purchase_response_Result result = 1;\n\t\tstring purchaseId = 2;\n\t\trepeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Apple_inapp_purchase_request {\n\t\tuint64 transactionId = 1;\n\t\tstring receiptData = 2;\n\t\tstring purchaseToken = 3;\n}\n\nmessage agario_proto_Google_inapp_purchase_request {\n\t\tuint64 transactionId = 1;\n\t\tstring receiptData = 2;\n\t\tstring signature = 3;\n}\n\nmessage agario_proto_Inapp_purchase_response {\n\t\tagario_proto_inapp_purchase_response_Result result = 1;\n\t\tuint64 transactionId = 2;\n\t\trepeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Wallet_updates {\n\t\tstring originPlatform = 1;\n\t\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Purchase_wallet_updates {\n\t\tstring purchaseId = 1;\n\t\tagario_proto_Wallet_updates walletUpdates = 2;\n}\n\nmessage agario_proto_Offer_bundle_request {\n\tstring bundleId = 1;\n}\n\nmessage agario_proto_Offer_bundle_response {\n\tagario_proto_offer_bundle_response_Result result = 1;\n\tstring bundleId = 2;\n\trepeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Subscription_wallet_updates {\n\t\tagario_proto_subscription_type subscriptionType = 1;\n\t\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Update_user_settings_request {\n\t\trepeated agario_proto_User_setting userSettingsUpdates = 1;\n}\n\nmessage agario_proto_Update_user_settings_response {\n\t\trepeated agario_proto_User_setting updatedUserSettings = 1;\n}\nmessage agario_proto_User_stats_request {\n\t\tstring userId = 1;\n}\n\nmessage agario_proto_User_stats_response {\n\t\tstring userId = 1;\n\t\tagario_proto_User_stats userStats = 2;\n\t\tuint32 lifetimeTrophies = 3;\n\t\tuint32 level = 4;\n}\n\nmessage agario_proto_Server_to_server_game_over_wrapper {\n\tstring hashVerifier = 1;\n\tbytes serverToServerGameOver = 2;\n}\n\nmessage agario_proto_Claim_gifts_request {\n\t\trepeated string giftIds = 1;\n}\n\nmessage agario_proto_Claim_gifts_response {\n\t repeated agario_proto_Product_update productUpdates = 1;\n}\n\nmessage agario_proto_Send_gifts {\n\t repeated string giftIds = 1;\n}\n\nmessage agario_proto_Consume_requests {\n\t repeated string requestIds = 1;\n}\n\nmessage agario_proto_Request_gifts {\n\t repeated string giftIds = 1;\n}\n\nmessage agario_proto_Facebook_invitation_reward_updates {\n\t repeated string facebookIdsFrom = 1;\n\t repeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Activate_timed_event_request {\n\t\tstring eventId = 1;\n}\n\nmessage agario_proto_Activate_timed_event_response {\n\tagario_proto_User_timed_event userTimedEvent = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Activate_boost_request {\n\t\tstring productId = 1;\n}\n\nmessage agario_proto_Activate_boost_response {\n\tagario_proto_User_boost_item userBoostItem = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Activate_quest_request {\n\t\tstring productId = 1;\n}\n\nmessage agario_proto_Activate_quest_response {\n\tagario_proto_User_quest userQuest = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_User_timed_event_updates {\n\t\trepeated agario_proto_User_timed_event userTimedEvents = 1;\n}\n\nmessage agario_proto_Activate_user_rewards_request {\n\tagario_proto_rewards_for __for = 1;\n}\n\nmessage agario_proto_Activate_user_rewards_response {\n\tagario_proto_User_rewards userRewards = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Open_potion_for_product_request {\n\t\tstring productId = 1;\n}\n\nmessage agario_proto_Open_potion_for_product_response {\n\t\tagario_proto_open_potion_for_product_response_Result result = 1;\n\t\tstring productId = 2;\n\t\trepeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Brew_potion_for_slot_request {\n\tagario_proto_user_potion_slot slot = 1;\n}\n\nmessage agario_proto_Brew_potion_for_slot_response {\n\t\tagario_proto_brew_potion_for_slot_response_Result result = 1;\n\t\trepeated agario_proto_User_potion userPotions = 2;\n}\n\nmessage agario_proto_Open_potion_for_slot_request {\n\tagario_proto_user_potion_slot slot = 1;\n}\n\nmessage agario_proto_Open_potion_for_slot_response {\n\t\tagario_proto_open_potion_for_slot_response_Result result = 1;\n\t\trepeated agario_proto_Product_update productUpdates = 2;\n\t\trepeated agario_proto_User_potion userPotions = 3;\n}\n\nmessage agario_proto_User_leagues_info_request {\n\tagario_proto_league_request_type leagueRequestType = 1;\n}\n\nmessage agario_proto_User_leagues_info_response {\n\tagario_proto_league_request_type leagueRequestType = 1;\n\trepeated agario_proto_User_leagues_player_info league = 2;\n\trepeated agario_proto_User_leagues_player_info country = 3;\n\trepeated agario_proto_User_leagues_player_info world = 4;\n\trepeated agario_proto_User_leagues_player_info friends = 5;\n\tagario_proto_User_leagues_info userLeaguesInfo = 6;\n\trepeated agario_proto_Product_update productUpdates = 7;\n}\n\nmessage agario_proto_User_leagues_pass_update {\n\tagario_proto_league_type leagueType = 1;\n\tagario_proto_User_leagues_player_info playerThatPassed = 2;\n\tagario_proto_User_leagues_player_info playerThatWasPassed = 3;\n}\n\nmessage agario_proto_User_party_create_response {\n\tagario_proto_User_party userParty = 1;\n}\n\nmessage agario_proto_User_party_join_request {\n\tstring code = 1;\n}\n\nmessage agario_proto_User_party_join_response {\n\tagario_proto_user_party_join_response_Result result = 1;\n\tagario_proto_User_party userParty = 2;\n}\n\nmessage agario_proto_User_party_membership_update {\n\tagario_proto_user_party_membership_update_Update_type updateType = 1;\n\tagario_proto_User_party_member member = 2;\n\tstring code = 3;\n}\n\nmessage agario_proto_User_party_facebook_invite {\n\trepeated string facebookIds = 1;\n}\n\nmessage agario_proto_User_friend_list_update {\n\trepeated agario_proto_User_friend userFriends = 1;\n\tuint32 totalOnlineFriends = 2;\n}\n\nmessage agario_proto_User_skins_create_request {\n\t\tstring content = 1;\n\t\tstring meta = 2;\n}\n\nmessage agario_proto_User_skins_create_response {\n\tagario_proto_user_skins_create_response_Result result = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_User_skins_delete {\n\tstring skinId = 1;\n}\n\nmessage agario_proto_Automation_request_update {\n\tstring eventFinished = 1;\n}\n\nmessage agario_proto_Action_counters_update {\n\tuint32 questsCompleted = 1;\n\tuint32 potionsObtained = 2;\n\tuint32 skinsCreated = 3;\n}\n\nmessage agario_proto_User_ab_test_groups_update {\n\trepeated agario_proto_User_ab_test_group userAbTestGroups = 1;\n}\n\nmessage agario_proto_User_rewards_token_request {\n\tagario_proto_rewards_for __for = 1;\n}\n\nmessage agario_proto_User_rewards_token_response {\n\tagario_proto_rewards_for __for = 1;\n\tstring token = 2;\n}\n\nmessage agario_proto_User_rewards_updates {\n\tagario_proto_rewards_for __for = 1;\n\tuint32 activeSlot = 2;\n\trepeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Activate_reward_link_request {\n\tstring token = 1;\n}\n\nmessage agario_proto_Activate_reward_link_response {\n\tagario_proto_activate_reward_link_response_Result result = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Generic_video_ad_reward_token_request {\n///empty?\n}\n\nmessage agario_proto_Generic_video_ad_reward_token_response {\n\tstring token = 1;\n}\n\n\n\nmessage agario_proto_Tokens {\n\tstring auth = 1;\n\tstring alt = 2;\n\tstring gdpr = 3;\n\tstring xsolla = 4;\n}\nmessage agario_proto_User_party {\n\tstring code = 1;\n\tuint32 endsInSeconds = 2;\n\trepeated agario_proto_User_party_member members = 3;\n}\nmessage agario_proto_User_party_member {\n\tstring displayName = 1;\n\tagario_proto_Realm_info realmInfo = 2;\n\toptional string userId = 3;\n}\nmessage agario_proto_Realm_info {\n\tagario_proto_login_realm realm = 1;\n\tstring realmId = 2;\n\tstring avatarUrl = 3;\n}\nmessage agario_proto_Server_info {\n\tstring host = 1;\n\tuint32 tcpPort = 2;\n\tuint32 udpPort = 3;\n\tstring awsRegion = 4;\n}\nmessage agario_proto_User_info {\n\tstring userId = 1;\n\tstring displayName = 2;\n\tuint32 xp = 3;\n\tuint32 level = 4;\n\tbool isPayingUser = 5;\n\tbool hasLoggedIntoMobile = 6;\n\tbool isNewUser = 7;\n\tagario_proto_Realm_info realmInfo = 8;\n\tuint32 extraInitialMass = 9;\n\tagario_proto_Action_counters_update actionCounters = 10;\n\tstring latestCountryCode = 11;\n\tuint32 accountAge = 12;\n}\nmessage agario_proto_User_setting {\n\tagario_proto_user_setting_Type type = 1;\n\tagario_proto_user_setting_Key key = 2;\n\tstring valueString = 3;\n\tint32 valueInt32 = 4;//not enum\n}\nmessage agario_proto_Product_update {\n\tagario_proto_product_update_Origin origin = 1;\n\tagario_proto_User_wallet_item userWalletItem = 2;\n\tint32 deltaAmount = 3;//not enum\n}\nmessage agario_proto_Potion_info {\n\tagario_proto_User_potion newUserPotion = 1;\n\tbool wouldHaveWonPotion = 2;\n}\nmessage agario_proto_User_timed_event {\n\tstring eventId = 1;\n\tuint32 nextAvailableInSeconds = 2;\n}\nmessage agario_proto_User_boost_item {\n\tstring productId = 1;\n\tuint32 expiresInSeconds = 2;\n}\nmessage agario_proto_User_quest {\n\tagario_proto_game_type gameType = 1;\n\tstring productId = 2;\n\tstring type = 3;\n\tuint32 goal = 4;\n\tuint32 expiresInSeconds = 5;\n}\nmessage agario_proto_Xp_level_update {\n\tuint32 finalXpForLevel = 1;\n\tuint32 deltaXp = 2;\n\tuint32 finalLevel = 3;\n\tuint32 deltaLevel = 4;\n}\nmessage agario_proto_Game_session_stats {\n\tuint32 massConsumed = 1;\n\tuint32 timeTotal = 2;\n\tuint32 timeInLeaderboard = 3;\n\tuint32 topPosition = 4;\n\tuint32 finalPosition = 5;\n\tuint32 longestTimeAlive = 6;\n\tuint32 finalMass = 7;\n\tuint32 highestMass = 8;\n\tuint32 normalCellsEaten = 9;\n\tuint32 foodEaten = 10;\n\tuint32 virusesEaten = 11;\n\tuint32 playersEaten = 12;\n}\nmessage agario_proto_User_stats {\n\tuint32 gamesPlayed = 1;\n\tuint64 massConsumed = 2;\n\tuint64 allTimeScore = 3;\n\tuint32 highestMass = 4;\n\tuint32 longestTimeAlive = 5;\n\tuint32 mostCellsEaten = 6;\n}\nmessage agario_proto_User_wallet_item {\n\tagario_proto_user_wallet_item_Type type = 1;\n\tstring productId = 2;\n\tuint32 amount = 3;\n}\nmessage agario_proto_User_gifts {\n\trepeated agario_proto_User_gift claimable = 1;\n\trepeated string claimedFrom = 2;\n\trepeated string sentTo = 3;\n\trepeated string requestedTo = 4;\n\trepeated string requestedFrom = 5;\n}\nmessage agario_proto_User_gift {\n\tstring facebookIdFrom = 1;\n\tagario_proto_User_wallet_item userWalletItem = 2;\n}\nmessage agario_proto_Soft_upgrade {\n\tbool isAvailable = 1;\n\tbool rewardWasHandedOut = 2;\n}\nmessage agario_proto_User_ab_test_group {\n\tstring testId = 1;\n\tstring testGroup = 2;\n}\nmessage agario_proto_User_potion {\n\tagario_proto_user_potion_slot slot = 1;\n\tagario_proto_user_potion_Status status = 2;\n\tuint32 secondsRemaining = 3;\n\tstring productId = 4;\n}\nmessage agario_proto_User_subscriptions {\n\trepeated int32 active = 1;\n}\nmessage agario_proto_User_rewards {\n\tagario_proto_rewards_for __for = 1;\n\tuint32 activeSlot = 2;\n\trepeated agario_proto_User_wallet_item userWalletItems = 3;\n}\nmessage agario_proto_User_friend {\n\tagario_proto_user_friend_Status status = 1;\n\tstring userId = 2;\n\tagario_proto_Realm_info realmInfo = 3;\n}\nmessage agario_proto_User_leagues_player_info {\n\tstring userId = 1;\n\tstring displayName = 2;\n\tstring leagueName = 3;\n\tstring countryCode = 4;\n\tuint32 rank = 5;\n\tuint32 lvl = 6;\n\tuint32 trophies = 7;\n\tagario_proto_Realm_info realmInfo = 8;\n}\nmessage agario_proto_User_leagues_info {\n\tuint32 secondsUntilReset = 1;\n}\nmessage agario_proto_Game_arena_safe_area {\n\tcenter center = 1;\n\tfloat radius = 2;\n}\nmessage agario_proto_Game_arena_cell_state {\n\tagario_proto_game_arena_cell_state_Cell_type type = 1;\n\tuint32 cellId = 2;\n\tagario_proto_Game_arena_point coordinate = 3;\n\tfloat radius = 4;\n\tstring nickname = 5;\n\tuint32 userLevel = 6;\n\tuint32 skinGameplayId = 7;\n\tstring skinId = 8;\n\tbool playerOwned = 9;\n\tuint32 ownerId = 10;\n}\nmessage agario_proto_Game_arena_point {\n\tfloat x = 1;\n\tfloat y = 2;\n}\nmessage agario_proto_Game_arena_attacker {\n\tstring nickname = 1;\n\tbool itsMe = 2;\n}\nmessage agario_proto_Game_arena_leaderboard_entry {\n\tuint32 ownerId = 1;\n\tuint32 playerPosition = 2;\n\tstring nickname = 3;\n}\nmessage agario_proto_Game_arena_party_cell {\n\tuint32 ownerId = 1;\n\tagario_proto_Game_arena_point coordinate = 2;\n\tstring nickname = 3;\n\tagario_proto_User_party_member userPartyMember = 4;\n}\nmessage agario_proto_Game_arena_cell_death {\n\tuint32 victimId = 1;\n\tuint32 attackerId = 2;\n}\nenum agario_proto_activate_reward_link_response_Result {\n\tsuccess = 1;\n\treward_link_already_claimed = 2;\n\treward_link_expired = 3;\n\treward_link_not_found = 4;\n\treward_link_generic_error = 5;\n}\nenum agario_proto_brew_potion_for_slot_response_Result {\n\tsuccess = 1;\n\tpotion_not_collected = 2;\n\tpotion_being_brewed = 3;\n}\nenum agario_proto_device_Platform {\n\tios = 1;\n\tandroid = 2;\n\tweb_facebook = 3;\n\tweb_miniclip = 4;\n\tweb_agario = 5;\n}\nenum agario_proto_disconnect_Reason {\n\tincompatible_client = 1;\n\tpacket_not_authorized = 2;\n\tlogin_elsewhere = 3;\n\tserver_offline = 4;\n\tuser_banned = 5;\n\tping_error = 6;\n\tunknown_game_type = 7;\n\ttoo_many_operations = 8;\n\tunreachable_realm = 9;\n\tuser_deleted = 10;\n\tnot_authorized_by_realm = 11;\n\tbad_request = 12;\n\treset_by_peer = 13;\n\tinvalid_token = 14;\n\texpired_token = 15;\n\tstate_transfer_error = 16;\n}\nenum agario_proto_envelope_Content {\n\tuncompressed = 1;\n\tcompressed = 2;\n}\nenum agario_proto_game_arena_cell_state_Cell_type {\n\tnormal_cell = 1;\n\tvirus = 2;\n\tfood = 3;\n\tpush_virus = 4;\n\tspawn_virus = 5;\n}\nenum agario_proto_game_arena_event_Reason {\n\teaten_by_player = 1;\n\teaten_by_virus = 2;\n\tkilled_by_arena = 3;\n\tleft_arena = 4;\n}\nenum agario_proto_game_battle_royale_arena_phase_Phase_id {\n\twaiting = 1;\n\tstarting = 2;\n\tinitial = 3;\n\tcountdown = 4;\n\tshrink = 5;\n}\nenum agario_proto_game_continue_update_request_Type {\n\tdo_continue = 1;\n\tdo_cancel = 2;\n}\nenum agario_proto_game_enter_response_Result {\n\tsuccess = 1;\n\tuser_party_full = 2;\n}\nenum agario_proto_game_lobby_enter_response_Result {\n\tsuccess = 1;\n\tinsufficient_level = 2;\n}\nenum agario_proto_game_over_reason {\n\tdisconnected_by_inactivity = 1;\n\tleft = 2;\n\teaten = 3;\n\tgame_ended = 4;\n\tserver_going_offline = 5;\n\tarena_is_offline = 6;\n}\nenum agario_proto_game_type {\n\tfree_for_all = 1;\n\trush_mode = 2;\n\tparty = 3;\n\texperimental = 4;\n\tteams = 5;\n\tbattle_royale = 6;\n}\nenum agario_proto_inapp_purchase_response_Result {\n\tnormal_success = 1;\n\tsubscription_purchased = 2;\n\tsubscription_renewed = 3;\n\tsubscription_expired = 4;\n\ttry_again_later = 5;\n\tinvalid_receipt = 6;\n\tunknown_purchase_id = 7;\n}\nenum agario_proto_league_request_type {\n\tcurrent = 1;\n\tprevious = 2;\n}\nenum agario_proto_league_type {\n\tleague = 1;\n\tcountry = 2;\n\tworld = 3;\n\tfriends = 4;\n}\nenum agario_proto_lobby_type {\n\trush_mode = 1;\n\tbattle_royale = 2;\n}\nenum agario_proto_login_realm {\n\tguest = 1;\n\tfacebook = 2;\n\tgoogleplus = 3;\n\tgoogleplay = 4;\n}\nenum agario_proto_login_response_Current_game_state {\n\tnot_playing = 1;\n\tplaying = 2;\n}\nenum agario_proto_no_proper_response_For {\n\tuser_leagues_info_request = 1;\n\tuser_party_create_request = 2;\n\tuser_party_join_request = 3;\n}\nenum agario_proto_offer_bundle_response_Result {\n\tsuccess = 1;\n\toffer_not_active = 2;\n\tpreconditions_failed = 3;\n}\nenum agario_proto_open_potion_for_product_response_Result {\n\tsuccess = 1;\n\tinsufficient_funds = 2;\n}\nenum agario_proto_open_potion_for_slot_response_Result {\n\tsuccess = 1;\n\tpotion_not_ready = 2;\n}\nenum agario_proto_product_update_Origin {\n\txp_level_up = 1;\n\tsoft_purchase = 2;\n\tinapp_purchase = 3;\n\txp_boost_activation = 4;\n\tmass_boost_activation = 5;\n\thourly_bonus = 6;\n\treward_platform = 7;\n\tpayment_platform = 8;\n\tgifting = 9;\n\trush_mass_boost_activation = 10;\n\tquest_activation = 11;\n\tquest_reward = 12;\n\tsoft_purchase_refund = 13;\n\tpotion_opened = 14;\n\tpotion_obtained = 15;\n\tbundle_offer = 16;\n\tleague_reward_for_league = 17;\n\tleague_reward_for_country = 18;\n\tleague_reward_for_world = 19;\n\tleague_reward_for_friends = 20;\n\tfacebook_invitation = 21;\n\tskins_create = 22;\n\tskins_delete = 23;\n\tvip_weekly = 24;\n\tgame_continued = 25;\n\tslots_full_on_battle = 26;\n\tprogressive_video_reward = 27;\n\treward_link = 28;\n}\nenum agario_proto_reconnect_Reconnect_with {\n\tlogin_request = 1;\n\tconnect_request = 2;\n}\nenum agario_proto_req_Type {\n\tlogin_request = 10;\n\t\tlogin_response = 11;\n\t\trealm_upgrade_request = 12;\n\t\trealm_upgrade_response = 13;\n\t\tconnect_request = 14;\n\t\tconnect_response = 15;\n\t\tdevice_token_update = 16;\n\t\tdisconnect = 20;\n\t\treconnect = 21;\n\t\tno_proper_response = 22;\n\t\tping = 30;\n\t\tpong = 31;\n\t\tudp_handshake = 32;\n\t\tconfiguration_change = 33;\n\t\tserver_going_offline = 34;\n\t\tgame_enter_request = 40;\n\t\tgame_enter_response = 41;\n\t\tgame_joined = 42;\n\t\tgame_leave = 43;\n\t\tgame_lobby_enter_request = 44;\n\t\tgame_lobby_enter_response = 45;\n\t\tgame_lobby_leave = 46;\n\t\tgame_lobby_queue_update = 47;\n\t\tgame_arena_direction_vector = 50;\n\t\tgame_arena_player_split = 51;\n\t\tgame_arena_player_shoot_mass = 52;\n\t\tgame_arena_player_respawn = 53;\n\t\tgame_continue_update_request = 54;\n\t\tgame_continue_update_response = 55;\n\t\tgame_arena_leaderboard = 60;\n\t\tgame_arena_state = 61;\n\t\tgame_over = 62;\n\t\tgame_arena_party_cell_updates = 63;\n\t\tgame_arena_party_leaderboard_entries_updates = 64;\n\t\tgame_arena_event = 65;\n\t\tgame_arena_current_safe_area = 66;\n\t\tgame_continue_info = 67;\n\t\tgame_battle_royale_arena_phase = 68;\n\t\tgame_session_highest_mass = 69;\n\t\tsoft_purchase_request = 70;\n\t\tsoft_purchase_response = 71;\n\t\tapple_inapp_purchase_request = 72;\n\t\tgoogle_inapp_purchase_request = 73;\n\t\tinapp_purchase_response = 74;\n\t\twallet_updates = 75;\n\t\tpurchase_wallet_updates = 76;\n\t\toffer_bundle_request = 77;\n\t\toffer_bundle_response = 78;\n\t\tsubscription_wallet_updates = 79;\n\t\tupdate_user_settings_request = 80;\n\t\tupdate_user_settings_response = 81;\n\t\tuser_stats_request = 82;\n\t\tuser_stats_response = 83;\n\t\tserver_to_server_game_over_wrapper = 90;\n\t\tclaim_gifts_request = 100;\n\t\tclaim_gifts_response = 101;\n\t\tsend_gifts = 102;\n\t\tconsume_requests = 103;\n\t\trequest_gifts = 104;\n\t\tfacebook_invitation_reward_updates = 105;\n\t\tactivate_timed_event_request = 110;\n\t\tactivate_timed_event_response = 111;\n\t\tactivate_boost_request = 112;\n\t\tactivate_boost_response = 113;\n\t\tactivate_quest_request = 114;\n\t\tactivate_quest_response = 115;\n\t\tuser_timed_event_updates = 116;\n\t\tactivate_user_rewards_request = 117;\n\t\tactivate_user_rewards_response = 118;\n\t\topen_potion_for_product_request = 120;\n\t\topen_potion_for_product_response = 121;\n\t\tbrew_potion_for_slot_request = 122;\n\t\tbrew_potion_for_slot_response = 123;\n\t\topen_potion_for_slot_request = 124;\n\t\topen_potion_for_slot_response = 125;\n\t\tuser_leagues_info_request = 130;\n\t\tuser_leagues_info_response = 131;\n\t\tuser_leagues_pass_update = 132;\n\t\tuser_party_create_request = 140;\n\t\tuser_party_create_response = 141;\n\t\tuser_party_join_request = 142;\n\t\tuser_party_join_response = 143;\n\t\tuser_party_leave = 144;\n\t\tuser_party_membership_update = 145;\n\t\tuser_party_facebook_invite = 146;\n\t\tuser_friend_list_update = 147;\n\t\tuser_skins_create_request = 150;\n\t\tuser_skins_create_response = 151;\n\t\tuser_skins_delete = 152;\n\t\tautomation_request_update = 160;\n\t\taction_counters_update = 170;\n\t\tuser_ab_test_groups_update = 171;\n\t\tuser_rewards_token_request = 180;\n\t\tuser_rewards_token_response = 181;\n\t\tuser_rewards_updates = 182;\n\t\tactivate_reward_link_request = 183;\n\t\tactivate_reward_link_response = 184;\n\t\tgeneric_video_ad_reward_token_request = 185;\n\t\tgeneric_video_ad_reward_token_response = 186;\n}\nenum agario_proto_rewards_for {\n\tprogressive_video = 1;\n}\nenum agario_proto_soft_purchase_response_Result {\n\tsuccess = 1;\n\tinsufficient_funds = 2;\n\tpreconditions_failed = 3;\n}\nenum agario_proto_subscription_type {\n\tvip_weekly = 1;\n}\nenum agario_proto_upgrade_realm {\n\tfacebook = 1;\n\tgoogleplus = 2;\n\tgoogleplay = 3;\n}\nenum agario_proto_user_friend_Status {\n\tonline = 1;\n\toffline = 2;\n}\nenum agario_proto_user_party_join_response_Result {\n\tsuccess = 1;\n\texpired = 2;\n\tinvalid = 3;\n\tfull = 4;\n\tincompatible = 5;\n}\nenum agario_proto_user_party_membership_update_Update_type {\n\tjoined = 1;\n\tleft = 2;\n\tinvited_you = 3;\n}\nenum agario_proto_user_potion_Status {\n\tcollected = 1;\n\tbrewing = 2;\n\tready = 3;\n}\nenum agario_proto_user_potion_slot {\n\tslot_1 = 1;\n\tslot_2 = 2;\n\tslot_3 = 3;\n}\nenum agario_proto_user_setting_Key {\n\tselected_skin_id = 1;\n\tstop_on_release = 2;\n\tdirection_on_touch = 3;\n\tbutton_positions = 4;\n\tshow_mass = 5;\n\tshow_arrow = 6;\n\tdark_background = 7;\n\tshow_level = 8;\n\tlocalization_language = 9;\n\tsounds_on_arena = 10;\n\tsounds_on_menu = 11;\n\tingame_quest_progress = 12;\n\tshow_online_status_to_friends = 13;\n}\nenum agario_proto_user_setting_Type {\n\tis_string = 1;\n\tis_int32 = 2;\n}\nenum agario_proto_user_skins_create_response_Result {\n\tsuccess = 1;\n\tinsufficient_funds = 2;\n\ttransient_error = 3;\n}\nenum agario_proto_user_wallet_item_Type {\n\tcurrency = 1;\n\tboost = 2;\n\tskin = 3;\n\tquest = 4;\n\trush_boost = 5;\n\tpotion = 6;\n\ttrophy = 7;\n\tskin_piece = 8;\n\tpotion_skip_brew_token = 9;\n\tskin_create_token = 10;\n\tskin_custom = 11;\n\tgame_continue_token = 12;\n\tignore = 13;\n\tprogressive_video_reward_token = 14;\n}\n',{keepCase:!0}).root,ur=cr.lookupType("Data");cr.lookupType("uncompressedData");window.mesega=ur,sr=function(e,t){var n;(n=document.createElement("a")).href=e,n.download=t,document.body.appendChild(n),n.style="display: none",n.click(),n.remove()};var fr=n(3);function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(){return this.view.getUint8(this.offset++)}function mr(){return this.view.getInt8(this.offset++)}function vr(){var e=this.view.getUint16(this.offset,this.le);return this.offset+=2,e}function yr(){var e=this.view.getInt16(this.offset,this.le);return this.offset+=2,e}function gr(){var e=this.view.getUint32(this.offset,this.le);return this.offset+=4,e}function br(){var e=this.view.getInt32(this.offset,this.le);return this.offset+=4,e}function wr(){var e=this.view.getFloat32(this.offset,this.le);return this.offset+=4,e}function kr(){var e=this.view.getFloat64(this.offset,this.le);return this.offset+=8,e}function _r(e){this.offset+=e}function Sr(e){null==e&&(e=this.view.byteLength-this.offset),e=Math.max(0,e);for(var t="",n=0;n<e;){n++;var r=this.readUInt8();t+=String.fromCharCode(r)}return t}function Cr(){return this.readUTF8String(this.readUInt8())}function Tr(){for(var e="";this.offset<this.view.byteLength;){var t=this.readUInt8();if(!t)break;e+=String.fromCharCode(t)}return e}function xr(e,t){return e+String.fromCharCode(t)}function Pr(){for(var e=this.offset,t=[];e+1<this.length;){var n=this.readUInt8();if(0===n)break;t.push(n),e+=1}return t.reduce(xr,"")}function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==e&&(e=this.view.byteLength-this.offset),e=Math.max(0,e);var n="",r=0;if(t)for(;r<e;){r++;var o=this.readUInt16();n+=String.fromCharCode(255&o)}else for(;r<e;){r++;var i=this.readUInt16();n+=String.fromCharCode(i)}return n}function Ir(){return this.readUTF16String(this.readUInt8())}function Or(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";if(e)for(;this.offset<this.view.byteLength;){var n=this.readUInt16();if(!n)break;t+=String.fromCharCode(255&n)}else for(;this.offset<this.view.byteLength;){var r=this.readUInt16();if(!r)break;t+=String.fromCharCode(r)}return t}function Rr(){for(var e="";this.offset<this.view.byteLength;){var t=this.readUInt16();if(!t)break;e+=String.fromCharCode(t)}return e}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.view.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}function Ar(){return this.view.byteLength}function Er(){return this.offset===this.view.byteLength}var Lr=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];hr(this,e),this.view=t,this.offset=0,this.le=n}var t,n,r;return t=e,(n=[{key:"readUInt8",value:pr},{key:"readInt8",value:mr},{key:"readUInt16",value:vr},{key:"readInt16",value:yr},{key:"readUInt32",value:gr},{key:"readInt32",value:br},{key:"readFloat32",value:wr},{key:"readFloat64",value:kr},{key:"skip",value:_r},{key:"readUTF8String",value:Sr},{key:"readUTF8StringLength",value:Cr},{key:"readUTF8StringZero",value:Tr},{key:"readZTStringUTF8Zero",value:Pr},{key:"readUTF16String",value:Mr},{key:"readUTF16StringLength",value:Ir},{key:"readUTF16StringZero",value:Or},{key:"readStringUnicode",value:Rr},{key:"readBytes",value:Ur},{key:"length",get:Ar},{key:"EOF",get:Er}])&&dr(t.prototype,n),r&&dr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.Reader=Lr;var Dr=new DataView(new ArrayBuffer(1048576));function Br(e){Dr.setUint8(this.offset++,e)}function zr(e){Dr.setInt8(this.offset++,e)}function Nr(e){Dr.setUint16(this.offset,e,this.le),this.offset+=2}function Hr(e){Dr.setInt16(this.offset,e,this.le),this.offset+=2}function Gr(e){Dr.setUint32(this.offset,e,this.le),this.offset+=4}function qr(e){Dr.setInt32(this.offset,e,this.le),this.offset+=4}function Xr(e){Dr.setFloat32(this.offset,e,this.le),this.offset+=4}function Wr(e){Dr.setFloat64(this.offset,e,this.le),this.offset+=8}function Yr(e){for(var t=0;t<e.length;t++)this.writeUInt8(e.charCodeAt(t))}function Vr(e){this.writeUTF8String(e),this.writeUInt8(0)}function $r(e){e.length>255&&(e=e.substring(0,255)),this.writeUInt8(e.length),this.writeUTF8String(e)}function Kr(e){for(var t=0;t<e.length;t++)this.writeUInt16(e.charCodeAt(t))}function Zr(e){this.writeUTF16String(e),this.writeUInt16(0)}function Qr(e){e.length>255&&(e=e.substring(0,255)),this.writeUInt8(e.length),this.writeUTF16String(e)}function Jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset+=e}function eo(){return Dr.buffer.slice(0,this.offset)}function to(){return Dr.buffer.slice(0,this.offset)}function no(){return Dr}var ro=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Fr(this,e),this.offset=0,this.le=t}var t,n,r;return t=e,(n=[{key:"writeUInt8",value:Br},{key:"writeInt8",value:zr},{key:"writeUInt16",value:Nr},{key:"writeInt16",value:Hr},{key:"writeUInt32",value:Gr},{key:"writeInt32",value:qr},{key:"writeFloat32",value:Xr},{key:"writeFloat64",value:Wr},{key:"writeUTF8String",value:Yr},{key:"writeUTF8StringZero",value:Vr},{key:"writeUTF8StringLength",value:$r},{key:"writeUTF16String",value:Kr},{key:"writeUTF16StringZero",value:Zr},{key:"writeUTF16StringLength",value:Qr},{key:"skip",value:Jr},{key:"finalize",value:eo},{key:"toBuffer",value:to},{key:"view",get:no}])&&jr(t.prototype,n),r&&jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ao(e){return new DataView(new ArrayBuffer(e))}function so(){throw Error("Must be overriden")}function lo(e){throw Error("Must be overriden")}function co(e){this.client.handleMessage(e)}function uo(){clearInterval(this.ejectInterval)}function fo(){}function ho(){}function po(){}function mo(){throw Error("Must be overriden")}function vo(e){throw Error("Must be overriden")}function yo(e){this.sendAction(1)}function go(){this.sendAction(18)}function bo(e,t,n){var r=new Writer;r.writeUInt8(16),r.writeInt32(e),r.writeInt32(t),r.writeUInt32(""),this.sendMessage(r)}function wo(e){var t=this.createView(1);t.setUint8(0,e),this.sendMessage(t)}function ko(e){this.sendAction(21)}function _o(e,t){var n=this;if(e){if(this.ejectInterval)return;t&&t(),this.sendEject(),this.ejectInterval=setInterval((function(){t&&t(),n.sendEject()}),settings.macroFeeding)}else this.ejectInterval&&(clearInterval(this.ejectInterval),this.ejectInterval=null)}function So(e){e&&e(),this.sendAction(17)}function Co(e,t){var n=this;function r(){return n.sendSplit(t)}for(;e--;)setTimeout(r,0*e)}function To(e){var t=this;this.sendSplit(e),setTimeout((function(){t.sendSplit(e)}),200)}function xo(){}function Po(){}function Mo(e,t){}function Io(){}function Oo(){}window.Writer=ro;var Ro=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),io(this,"ejectInterval",null),io(this,"hasPause",!1),io(this,"pause",!1),this.client=t}var t,n,r;return t=e,(n=[{key:"createView",value:ao},{key:"onOpen",value:so},{key:"onMessage",value:lo},{key:"handleMessage",value:co},{key:"onClose",value:uo},{key:"onError",value:fo},{key:"onDeath",value:ho},{key:"onSpawn",value:po},{key:"sendSpawn",value:mo},{key:"sendMessage",value:vo},{key:"sendSpectate",value:yo},{key:"sendFreeSpectate",value:go},{key:"sendCursorPosition",value:bo},{key:"sendAction",value:wo},{key:"sendEject",value:ko},{key:"sendMacro",value:_o},{key:"sendSplit",value:So},{key:"nSplit",value:Co},{key:"popSplit",value:To},{key:"sendBotSplit",value:xo},{key:"sendBotEject",value:Po},{key:"sendBotMacro",value:Mo},{key:"sendBotToggle",value:Io},{key:"sendPause",value:Oo}])&&oo(t.prototype,n),r&&oo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Uo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e){this.beforeUpdateCells();for(var t=e.readUInt16(),n=0;n<t;n++){var o=e.readUInt32(),i=this.indexedCells[o],a=e.readUInt32(),s=this.indexedCells[a];this.eatCellEvent(i,s)}for(;;){var l=e.readUInt32();if(0==l)break;var c=!1,u=null,f=null,h=null,d=null,p=null,m="",v=!1,y=!1,g=null,b=null,w=null,k=this.receiveX(e.readInt32()),_=this.receiveY(e.readInt32()),S=e.readUInt16(),C=e.readUInt8(),T=128&C?e.readUInt8():0;if(1&C&&(v=!0),2&C){var x=e.readUInt8(),P=e.readUInt8(),M=e.readUInt8();d=this.rgb2Hex(~~(.9*x),~~(.9*P),~~(.9*M)),h=this.colorParserAT(x<<16|P<<8|M)}4&C&&(p=e.readUTF8StringZero()),8&C&&(m=decodeURIComponent(escape(e.readUTF8StringZero()))),16&C&&this.log(C,"agitated"),32&C&&(g=!0),64&C&&(b=!0),1&T&&(y=!0),4&T&&(w=e.readUInt32(),3!==this.modeInt&&5!==this.modeInt&&(h=this.HSLToHex(Math.abs((w%360<<314159)%360),100,51),d=this.HSLToHex(Math.abs((w%360<<314159)%360),95,46)));var I=y?"food":v?"virus":"cell";this.isRaga&&m.indexOf("raga")>-1&&(m="WWW.IMSOLO.PRO"),this.indexedCells[l]?u=this.indexedCells[l]:(c=!0,g&&!b&&(f=this.playerColor),(u=new Fc(this,I,l,k,_,S,h,d,y,v)).color=h,u.isPlayerFood=g,u.isOtherFood=b,u.cellTimeSplit=ticker.runtime,settings.mergeIndicator&&0===this.playerCells.length&&(u.cellTimeSplit=0),y?(u.foodSize=u.size+theme.foodSize,this.food.push(u)):(v&&settings.virusesRange&&this.viruses.push(u),this.cells.push(u),g&&!b&&this.emit("sfx","myEject",u)),this.indexedCells[l]=u);//!isFood && isNewCell && console.log(flags&16,flags&32,flags&64,flags&128,flags&256,flags&512,flags&1024,'|',extendedFlags&1,extendedFlags&2,extendedFlags&4,extendedFlags&8,extendedFlags&16,extendedFlags&32,extendedFlags&64,extendedFlags&128,extendedFlags&256,extendedFlags&512)
var O=this.playerCellIDs.indexOf(l)>-1;if(O&&(u.isPlayerCellID=O),O&&-1==this.playerCells.indexOf(u)&&(u.isPlayerCell=!0,this.playerColor=f,this.secureColor=d,this.playerCells.push(u),this.emit("appearPlayerCell",u),!this.play)){this.resetCounter(),this.counter.playerSpawnTime=this.time,this.play=!0,this.emit("spawn:before",this);var R,U=Uo(r.q);try{for(U.s();!(R=U.n()).done;){var A=R.value,E=this.profile.skinURL.match(A.regexp);E&&Texture.cacheKey(this.profile.nick+d,E[0])}}catch(e){U.e(e)}finally{U.f()}this.calculatePlayerMassAndPosition(),r.s.pause&&this.resetTargetPosition(),this.emit("spawn",this)}if(!u.isFood&&!u.isVirus&&null===u.playerOriginTab){var L=null!==w?this.parent.findPlayerOrigin(w,!0):this.parent.findPlayerOrigin(l,!1);null!==L&&(u.playerOriginTab=L)}w&&(u.accountID=w,u.isPlayerCell&&(p&&(this.player_protocol_skin=p),this.playerAID=w),this.cellAID.hasOwnProperty(w)?this.cellAID[w].push(l):this.cellAID[w]=[l]),u.isPlayerCell&&(m=this.playerNick),m&&(u.targetNick=m,u.nameSkin=m.toLowerCase(),u.hasVanillaNamedSkin=Texture.vanillaSkinMap.get(u.nameSkin)),u.targetX=k,u.targetY=_,u.isPlayerCell&&u.calcAnti(S),u.isVirus&&u.targetSize!=S&&u.size<148&&this.emit("sfx","virusFeed",u,this),u.targetSize=S,u.isFood=y,u.isVirus=v,p&&(u.hasVanillaCustomSkin=p.indexOf("%custom")>-1,u.skin=p.replace(/level_\d/,"level_1"),u.skinUserId=this.getCustomSkinId(p)),c&&this.emit("newCell",u)}var F=e.readUInt16();for(n=0;n<F;n++){var j=e.readUInt32(),D=this.indexedCells[j];D&&this.removeCell(D,"delete")}this.afterUpdateCells()}function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(){return(Fo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jo(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function jo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ho(e)););return e}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ho(e);if(t){var o=Ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zo(this,n)}}function zo(e,t){if(t&&("object"===Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return No(e)}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Wo(e,t,"set"),n),n}function Xo(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Wo(e,t,"get"))}function Wo(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t,n){return t&&Vo(e.prototype,t),n&&Vo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ko(e,t,n){for(var r=n||e.byteLength,o=0;r>o;o++)e.setUint8(o,e.getUint8(o)^t>>>o%4*8&255);return e}function Zo(e){return e=0|Math.imul(e,1540483477),e=114296087^(0|Math.imul(e>>>24^e,1540483477)),e=0|Math.imul(e>>>13^e,1540483477),e^=e>>>15}function Qo(e,t){for(var n,r=e.length,o=t^r,i=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++i;switch(r){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}function Jo(e,t){for(var n=0,r=0,o=e.length;n<o;){var i=e[n++],a=i>>4;if(a>0){for(var s=a+240;255===s;)a+=s=e[n++];for(var l=n+a;n<l;)t[r++]=e[n++];if(n===o)return t}var c=e[n++]|e[n++]<<8;if(0===c||c>r)return-(n-2);for(var u=15&i,f=u+240;255===f;)u+=f=e[n++];for(var h=r-c,d=r+u+4;r<d;)t[r++]=t[h++]}return t}function ei(e){var t=e.getUint32(1,!0),n=this.uncompressMessage(new Uint8Array(e.buffer.slice(5)),new Uint8Array(t));return new DataView(n.buffer)}window.Protocol=Ro;var ti=function(){function e(){Yo(this,e)}return $o(e,null,[{key:"xorBuffer",value:Ko},{key:"rotateKey",value:Zo},{key:"murmur2",value:Qo},{key:"uncompressMessage",value:Jo},{key:"decompressMessage",value:ei}]),e}();window.ProtocolUtils=ti;var ni=new WeakMap;function ri(){this.sendClientProtocol(),this.sendClientVersion()}function oi(){var e=new ro;e.writeUInt8(254),e.writeUInt32(this.client.isAgario?this.client_protocol:22),this.sendMessage(e)}function ii(){var e=new ro;e.writeUInt8(255),e.writeUInt32(this.client_version),this.sendMessage(e)}function ai(e){this.protocolKey&&(e.view=ti.xorBuffer(e.view,this.protocolKey^this.client_version)),this.handleMessage(e)}function si(e){e.readUInt8(8),e.offset--,this.client.handleMessage(e)}function li(){this.protocolKey&&(this.protocolKey=ti.rotateKey(this.protocolKey)),this.client.flushGameData()}function ci(e){this.protocolKey=e.readUInt32(),this.serverVersion=e.readUTF8StringZero(),this.encryptionKey=ti.murmur2("".concat(this.client.ws.match(/(ws+:\/\/)([^:]*)(:\d+)?/)[2]).concat(this.serverVersion),255)}function ui(e){if(this.client.socket.readyState===WebSocket.OPEN){var t=e.view;this.encryptionKey&&(t?ti.xorBuffer(e.view,this.encryptionKey,e.offset):ti.xorBuffer(e,this.encryptionKey,e.byteLength),this.encryptionKey=ti.rotateKey(this.encryptionKey)),this.client.socket.send(t?e.finalize():e.buffer)}}function fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";e=unescape(encodeURIComponent(e));var n=new ro;n.writeUInt8(0),n.writeUTF8StringZero(e),n.writeUTF8StringZero(t),this.sendMessage(n)}function hi(){this.sendAction(22)}function di(){this.sendAction(23)}function pi(e,t){var n=this;if(e){if(Xo(this,ni))return;t&&t(),this.sendBotEject(),qo(this,ni,setInterval((function(){t&&t(),n.sendBotEject()}),settings.macroFeeding))}else Xo(this,ni)&&(clearInterval(Xo(this,ni)),qo(this,ni,null))}function mi(){this.sendAction(24)}function vi(e){if(this.client.isSocketOpen()){var t=new ro;t.writeUInt8(e),this.sendMessage(t)}}function yi(e,t){var n=new ro;n.writeUInt8(16),n.writeInt32(e),n.writeInt32(t),n.writeUInt32(this.protocolKey),this.sendMessage(n)}var gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Do(e,t)}(n,e);var t=Bo(n);function n(e){var r;return Yo(this,n),r=t.apply(this,arguments),ni.set(No(r),{writable:!0,value:null}),Go(No(r),"serverVersion","25.4.0"),Go(No(r),"protocolKey",null),Go(No(r),"encryptionKey",null),Go(No(r),"gotCaptcha",!1),Go(No(r),"gotCaptchа",!1),Go(No(r),"accessTokenSent",!1),Go(No(r),"loggedIn",!1),Go(No(r),"serverTime",0),Go(No(r),"serverTimeDiff",0),Go(No(r),"loggedInTime",0),Go(No(r),"client_version_string","3.10.9"),Go(No(r),"client_version",fr.a.data.client_version),Go(No(r),"client_protocol",fr.a.data.protocol_version),Go(No(r),"ping",0),r.updateCells=Eo.bind(r.client),r}return $o(n,[{key:"onOpen",value:ri},{key:"onClose",value:function(){Fo(Ho(n.prototype),"onClose",this).call(this),clearInterval(Xo(this,ni))}},{key:"sendClientProtocol",value:oi},{key:"sendClientVersion",value:ii},{key:"onMessage",value:ai},{key:"handleMessage",value:si},{key:"readRotateProtocolKey",value:li},{key:"readChiperKey",value:ci},{key:"sendMessage",value:ui},{key:"sendSpawn",value:fi},{key:"sendBotSplit",value:hi},{key:"sendBotEject",value:di},{key:"sendBotMacro",value:pi},{key:"sendBotToggle",value:mi},{key:"sendAction",value:vi},{key:"sendCursorPosition",value:yi}]),n}(Ro);function bi(e,t,n,r){for(var o=n=n||0,i=r=r||e.length-n,a=0;o<i;){var s=e[o++],l=s>>4;if(l>0){for(var c=l+240;255===c;)l+=c=e[o++];for(var u=o+l;o<u;)t[a++]=e[o++];if(o===i)return a}var f=e[o++]|e[o++]<<8;if(0===f)return a;if(f>a)return-(o-2);var h=15&s;for(c=h+240;255===c;)h+=c=e[o++];var d=a-f;for(u=a+h+4;a<u;)t[a++]=t[d++]}return a}window.MiniLZ4=function(){var e={};e.uncompress=bi;console.assert(!0);var t=new Int16Array(65536),n=new Int16Array(t.length);return e.compressBound=function(e){return e>2113929216?0:e+e/255+16|0},e.compress=function(r,o,i,a){return t.set(n),function(n,r,o,i,a){var s=i,l=a-i,c=0;if(n.length>=2113929216)throw new Error("input too large");if(n.length>12){var u=e.compressBound(n.length);if(l<u)throw Error("output too small: "+l+" < "+u);for(var f=1,h=67,d=n.length-12;o+4<d;){var p=n[o+1]<<8|n[o],m=n[o+3]<<8|n[o+2],v=Math.imul(p|m<<16,2654435761)>>>16,y=t[v]-1;if(t[v]=o+1,y<0||o-y>>>16>0||(n[y+3]<<8|n[y+2])!=m||(n[y+1]<<8|n[y])!=p)f=h++>>6,o+=f;else{h=67;var g=o-c,b=o-y;y+=4;for(var w=o+=4;o<d&&n[o]==n[y];)o++,y++;var k=(w=o-w)<15?w:15;if(g>=15){r[s++]=240+k;for(var _=g-15;_>254;_-=255)r[s++]=255;r[s++]=_}else r[s++]=(g<<4)+k;for(var S=0;S<g;S++)r[s++]=n[c+S];if(r[s++]=b,r[s++]=b>>8,w>=15){for(w-=15;w>=255;)w-=255,r[s++]=255;r[s++]=w}c=o}}}if(0==c)return 0;if((g=n.length-c)>=15){r[s++]=240;for(var C=g-15;C>254;C-=255)r[s++]=255;r[s++]=C}else r[s++]=g<<4;o=c;for(;o<n.length;)r[s++]=n[o++];return s}(r,o,0,i||0,a||o.length)},e.CHUNK_SIZE=2048,e.compressPackage=function(t,n){if(n)var r=new Uint8Array(e.CHUNK_SIZE);console.assert(t instanceof ArrayBuffer),t=new Uint8Array(t),console.log("compressing package of size "+t.length);for(var o=[],i=[],a=0,s=0;a<t.length;){var l=t.subarray(a,a+e.CHUNK_SIZE);a+=e.CHUNK_SIZE;var c=e.compressBound(l.length),u=new Uint8Array(c),f=e.compress(l,u);if(f>0){if(console.assert(f<=c),u=u.subarray(0,f),o.push(u),s+=f,i.push(1),n){var h=e.uncompress(u,r);console.assert(h===l.length,[h,l.length]);for(var d=0;d<l.length;d++)console.assert(l[d]===r[d])}}else console.assert(0===f),o.push(l),s+=l.length,i.push(0)}t=null;var p={data:new Uint8Array(s+2*e.CHUNK_SIZE),cachedOffset:s,cachedIndexes:[-1,-1],cachedChunks:[null,null],offsets:[],sizes:[],successes:i};a=0;for(d=0;d<o.length;d++)p.data.set(o[d],a),p.offsets[d]=a,p.sizes[d]=o[d].length,a+=o[d].length;return console.log("compressed package into "+[p.data.length]),console.assert(a===s),p},console.assert(e.CHUNK_SIZE<32768),e}();function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ki(e){return function(e){if(Array.isArray(e))return _i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(){return(Ti="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xi(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function xi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ri(e)););return e}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ri(e);if(t){var o=Ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ii(this,n)}}function Ii(e,t){if(t&&("object"===wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oi(e)}function Oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Li(e,t,"set"),n),n}function Ei(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Li(e,t,"get"))}function Li(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Fi=new WeakMap;function ji(e){return e.charCodeAt(0)}function Di(){this.fakeString=Math.random().toString(36).replace(/[^a-z0-9]+/g,"").substr(0,6);var e="live-arena-"+this.fakeString+".agar.io",t=new Uint8Array([102,1].concat(ki(unescape(encodeURIComponent(e)).split("").map(ji)),[0]));this.client.proxyMobileData(t),this.sendClientProtocol(),this.sendClientVersion()}function Bi(e){this.protocolKey=e.readUInt32(),this.serverVersion=e.readUTF8StringZero(),this.encryptionKey=ti.murmur2("live-arena-".concat(this.fakeString,".agar.io").concat(this.serverVersion),255)}function zi(e){if(this.client.isSocketOpen()){var t=e.view;this.encryptionKey&&(t?ti.xorBuffer(e.view,this.encryptionKey,e.offset):ti.xorBuffer(e,this.encryptionKey,e.byteLength),this.encryptionKey=ti.rotateKey(this.encryptionKey));try{this.client.socket.send(t?e.finalize():e.buffer)}catch(e){}}}function Ni(e){var t=this;switch(e.readUInt8(8)){case 102:var n=e.readUInt8(8);8!==n&&9!==n||(this.minions.ident=decodeURIComponent(escape(e.readUTF8StringZero())),this.minions.money=e.readUInt32(),this.minions.skin=decodeURIComponent(escape(e.readUTF8StringZero())),this.minions.owner=decodeURIComponent(escape(e.readUTF8StringZero())),this.minions.state=e.readUInt8(),this.minions.amount=this.minions.loaded=e.readUInt16(),this.minions.expiration=Date.now()+1e3*e.readUInt32(),this.client.emit("raga-update"),clearInterval(this.listenLoop),this.minions.time()>0&&(this.listenLoop=setInterval((function(){t.minions.time()<=0&&(clearInterval(t.listenLoop),t.client.proxyMobileData([9]))}),1e3))),10===n&&(e=new Reader(new DataView(new Uint8Array([8,1,18,7,8,20,162,1,2,8,3]).buffer))),e.offset=0,this.client.handleMessage(e);break;default:e.offset=0,this.client.handleMessage(e)}}function Hi(e){}function Gi(e){this.pause=!1,this.sendPause(e.pause)}function qi(e,t){var n=this;function r(){return n.sendSplit(t)}for(;e--;)setTimeout(r,80*e)}function Xi(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;function n(){return e.client.proxyMobileData(new Uint8Array([102,147]))}for(;t--;)setTimeout(n,80*t)}function Wi(){this.client.proxyMobileData(new Uint8Array([102,148]))}function Yi(e,t){var n=this;if(e){if(Ei(this,Fi))return;t&&t(),this.sendBotEject(),Ai(this,Fi,setInterval((function(){t&&t(),n.sendBotEject()}),settings.macroFeeding))}else Ei(this,Fi)&&(clearInterval(Ei(this,Fi)),Ai(this,Fi,null))}function Vi(){this.client.proxyMobileData(new Uint8Array([102,149]))}function $i(e){this.pause!==e&&(this.client.isSocketOpen()&&(this.pause=!this.pause),this.client.proxyMobileData(new Uint8Array([102,144])))}function Ki(e){this.sendAction(1)}function Zi(e){this.sendAction(9)}var Qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pi(e,t)}(i,e);var t,n,r,o=Mi(i);function i(){var e;return Si(this,i),Ui(Oi(e=o.apply(this,arguments)),"pause",!1),Ui(Oi(e),"hasPause",!0),Fi.set(Oi(e),{writable:!0,value:null}),Ui(Oi(e),"listenLoop",null),Ui(Oi(e),"minions",{ident:"",money:0,skin:"",owner:"",state:0,loaded:0,amount:0,expiration:0,time:function(){return Math.max(Math.ceil((e.minions.expiration-Date.now())/1e3),0)}}),e}return t=i,(n=[{key:"onOpen",value:Di},{key:"onClose",value:function(){Ti(Ri(i.prototype),"onClose",this).call(this),clearInterval(Ei(this,Fi)),clearInterval(this.listenLoop)}},{key:"readChiperKey",value:Bi},{key:"sendMessage",value:zi},{key:"handleMessage",value:Ni},{key:"onDeath",value:Hi},{key:"onSpawn",value:Gi},{key:"nSplit",value:qi},{key:"sendBotSplit",value:Xi},{key:"sendBotEject",value:Wi},{key:"sendBotMacro",value:Yi},{key:"sendBotToggle",value:Vi},{key:"sendPause",value:$i},{key:"sendSpectate",value:Ki},{key:"sendLoop",value:Zi}])&&Ci(t.prototype,n),r&&Ci(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(gi);function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ia(e);if(t){var o=ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oa(this,n)}}function oa(e,t){if(t&&("object"===Ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e){console.log("onpetri")}function sa(e,t,n){var r={};timestampLastDraw=+new Date;var o=Math.random();qweA=!1;var i;i=e.getUint32(t,!0),t+=4;for(var a=0;a<i;++a){var s=n.indexedCells[e.getUint32(t,!0)],l=n.indexedCells[e.getUint32(t+4,!0)];t+=8,s&&l&&(n.removeCell(l),l.ox=l.x,l.oy=l.y,l.oSize=l.size,l.targetX=s.x,l.targetY=s.y,l.targetSize=l.size,l.updateTime=timestampLastDraw)}var c;c=e.getUint32(t,!0),t+=4;for(a=0,o=Math.random();a<c;++a){var u=e.getUint32(t,!0);if(t+=4,0==u)break;var f=-1;f=e.getUint8(t,!0),t+=1;var h=e.getUint16(t,!0);t+=2;var d=e.getUint16(t,!0);t+=2;var p=e.getUint8(t,!0);t+=1;var m=e.getUint8(t,!0);t+=1;var v=playercolors[m],y=rgbToHex(v[0],v[1],v[2]);isBrightColors&&brightColors[y]&&(y=brightColors[y]),isCustomFc&&1==f&&(y=customfoodcolor),isCustomWc&&3==f&&(y=customwcolor);var g="",b=null;blobs.hasOwnProperty(u)?((b=n.indexedCells[u]).updatePos(),b.ox=b.x,b.oy=b.y,b.oSize=b.size,b.color=y):(b=new Blob(u,h,d,p,y,g),list.push(b),n.indexedCells[u]=b,b.pX=h,b.pY=d,b.sticker=0,b.skin=0,b.ownCell=!1,b.activeCell=!1,b.tbdteam=!1,b.tbdbaza=!1,b.coronamask=-1,b.cellType=f),b.isVirus=!1,b.isAgitated=!1,b.targetX=h,b.targetY=d,b.targetSize=p,b.updateCode=o,b.updateTime=timestampLastDraw,b.flags=0,b.ownCell=!1,b.activeCell=!1,b.tbdteam=!1,b.tbdbaza=!1,b.coronamask=!1}var w;w=e.getUint32(t,!0),t+=4;for(a=0,o=Math.random();a<w;++a){u=e.getUint32(t,!0);if(t+=4,0==u)break;f=2;var k=0,_=!1;h=e.getUint16(t,!0);t+=2;d=e.getUint16(t,!0);t+=2;p=e.getInt16(t,!0);t+=2;var S=0,C=0,T=!1;C=e.getInt32(t,!0),t+=4;m=e.getUint8(t,!0);t+=1;v=playercolors[m],y=rgbToHex(v[0],v[1],v[2]);var x=e.getUint8(t,!0);t+=1;var P=!1;isBrightColors&&brightColors[y]&&(y=brightColors[y]),isCustomBombc&&2==f&&(y=custombombcolor),P=!!(1&x);var M=!1,I=0;I=e.getUint16(t,!0),t+=2;var O=0;for(g="";j=e.getUint16(t,!0),t+=2,0!=j;)g+=String.fromCharCode(j);b=null;blobs.hasOwnProperty(u)?((b=n.indexedCells[u]).updatePos(),b.playerID=I,b.ox=b.x,b.oy=b.y,b.oSize=b.size,b.color=y,b.sticker=S,b.skin=C,b.ownCell=!1,b.activeCell=!1,b.tbdteam=k,b.tbdbaza=_,b.coronamask=O,b.cellType=f):((b=new Blob(u,h,d,p,y,g)).cellType=f,list.push(b),n.indexedCells[u]=b,b.pX=h,b.pY=d,b.skin=C,b.coronamask=O),b.isVirus=P,b.isAgitated=M,b.targetX=h,b.targetY=d,b.targetSize=p,b.updateCode=o,b.updateTime=timestampLastDraw,b.flags=x,b.ownCell=!1,b.activeCell=!1,b.tbdteam=k,b.tbdbaza=_,b.coronamask=O,g&&b.setName(g);var R=window.selmode;708!=b.size||g||"BLACKHOLE"!=R||(b.skin=1926,b.setName("blackhole")),b.size>158&&!g&&113==recievedgamemode&&(b.skin=24927),37830==b.skin&&b.setName("покрышка"),1926==b.skin&&(b.setName("black hole"),b.isTransparentSkin=!0,b.isInvisibleNick=!0),b.isVirus&&17!=recievedgamemodeExtended&&10!=recievedgamemodeExtended&&30!=recievedgamemodeExtended&&11!=recievedgamemodeExtended&&!isCustomBombc&&(b.skin=63895,b.size>140&&(b.skin=209904,b.isTransparentSkin=!0,99==recievedgamemode&&(b.skin=220673))),b.isVirus&&30==recievedgamemodeExtended&&(b.skin?b.skin>0&&(b.egg=!0,b.isTransparentSkin=!0):b.skin=63895)}var U;U=e.getUint16(t,!0),t+=2;for(a=0,o=Math.random();a<U;++a){u=e.getUint16(t,!0);t+=2;for(g="";j=e.getUint16(t,!0),t+=2,0!=j;)g+=String.fromCharCode(j);u>0&&(playerNames[u]=g)}var A;A=e.getUint16(t,!0),t+=2;for(a=0,o=Math.random();a<A;++a){u=e.getUint16(t,!0);t+=2;C=e.getUint32(t,!0);t+=4,u>0&&(playerSkins[u]=C)}var E;E=e.getUint16(t,!0),t+=2;for(a=0,o=Math.random();a<E;++a){u=e.getUint16(t,!0);t+=2;y=e.getUint8(t,!0);t+=1,u>0&&(playerColorIndexes[u]=y)}var L;L=e.getUint16(t,!0),t+=2;for(a=0,o=Math.random();a<L;++a){u=e.getUint16(t,!0);t+=2;S=e.getUint32(t,!0);t+=4,u>0&&(r[u]=S)}for(;;){u=e.getUint32(t,!0);t+=4;var F=!1;if(0==u)break;++a;f=0,k=0,_=!1,h=e.getUint16(t,!0);t+=2;d=e.getUint16(t,!0);t+=2;p=e.getInt16(t,!0);t+=2;S=0,C=0,T=!1,x=e.getUint8(t);t+=1;P=!1;P=!!(1&x);M=!1;32&x&&(T=!0,-1==ids.indexOf(u)&&ids.push(u));I=0;I=e.getUint16(t,!0),t+=2;O=0;O=e.getUint8(t++);var j;y="#FF0000";if(I>0){m=playerColorIndexes[I],v=playercolors[m];y=rgbToHex(v[0],v[1],v[2])}isBrightColors&&brightColors[y]&&(y=brightColors[y]);for(g="";j=e.getUint16(t,!0),t+=2,0!=j;)g+=String.fromCharCode(j);I>0&&" "!=g&&(playerNames[I]&&(g=playerNames[I]),playerSkins[I]&&(C=playerSkins[I]),r[I]&&(S=r[I])),64&x?(77!=recievedgamemode&&(F=!0),77==recievedgamemode&&(k=1)):77==recievedgamemode&&(k=2),128&x&&77==recievedgamemode&&(_=!0);b=null;if(blobs.hasOwnProperty(u)){if((b=n.indexedCells[u]).updatePos(),b.playerID=I,b.ox=b.x,b.oy=b.y,b.oSize=b.size,b.color=y,b.sticker=S,b.skin=C,b.ownCell=T,b.activeCell=F,b.tbdteam=k,b.tbdbaza=_,b.coronamask=O,b.cellType=f,("ARENA"==window.selmode||"FATBOY-ARENA"==window.selmode)&&psOSGHkaDr[0]){a=0;for(var D=psOSGHkaDr.length;a<D;a++)a in psOSGHkaDr&&b.id==psOSGHkaDr[a].id&&("ARENA"==window.selmode&&(b.color="#eb4b00"),"FATBOY-ARENA"==window.selmode&&(b.color="#eb4b00"))}psOSGHkaDr[0]&&(mycolo=psOSGHkaDr[0].color)}else b=new Blob(u,h,d,p,y,g),list.push(b),n.indexedCells[u]=b,b.pX=h,b.pY=d,b.playerID=I,b.sticker=S,b.skin=C,b.ownCell=T,b.activeCell=F,b.tbdteam=k,b.tbdbaza=_,b.coronamask=O,b.cellType=f;b.isVirus=P,b.isAgitated=M,b.targetX=h,b.targetY=d,b.targetSize=p,b.updateCode=o,b.updateTime=timestampLastDraw,b.flags=x,b.ownCell=T,b.activeCell=F,b.tbdteam=k,b.tbdbaza=_,b.coronamask=O,g&&b.setName(g);R=window.selmode;1926==b.skin&&(b.setName("black hole"),b.isTransparentSkin=!0,b.isInvisibleNick=!0),-1!=ids.indexOf(u)&&-1==psOSGHkaDr.indexOf(b)&&(psOSGHkaDr.length<1&&hide(),psOSGHkaDr.push(b),1==psOSGHkaDr.length&&(offsetX=b.x,offsetY=b.y,score=0,OnGameStart(psOSGHkaDr),settednick=psOSGHkaDr[0].name))}var B=e.getUint32(t,!0);for(t+=4,a=0;a<B&&!(t>=e.byteLength);a++)u=e.getUint32(t,!0),t+=4,null!=(b=n.indexedCells[u])&&b.destroy();qweA&&0==psOSGHkaDr.length&&(showOverlays(!1),$(document).trigger("playerDeath"))}var la=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&na(e,t)}(i,e);var t,n,r,o=ra(i);function i(){return ea(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"onOpen",value:aa},{key:"handleCells",value:sa}])&&ta(t.prototype,n),r&&ta(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(gi);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function fa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ua(i,r,o,a,s,"next",e)}function s(e){ua(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||pa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pa(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function pa(e,t){if(e){if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ma(e,t):void 0}}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_a(e);if(t){var o=_a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wa(this,n)}}function wa(e,t){if(t&&("object"===ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ka(e)}function ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sa=void 0===Sa?window:Sa;function Ca(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Ta(){return Ca()+Ca()+"-"+Ca()+"-"+Ca()+"-"+Ca()+"-"+Ca()+Ca()+Ca()}function xa(){}function Pa(){}function Ma(){}function Ia(){if(1==this.destroyed)return this.log("already destroyed");this.setInterval()}function Oa(){if(1==this.destroyed)return this.log("already destroyed");this.unlisten(),this.stop();var e,t=da(this.offers);try{for(t.s();!(e=t.n()).done;){var n=ha(e.value,2);n[0];n[1].destroy()}}catch(e){t.e(e)}finally{t.f()}var r,o=da(this.connected);try{for(o.s();!(r=o.n()).done;){var i=ha(r.value,2);i[0];i[1].destroy()}}catch(e){o.e(e)}finally{o.f()}this.events={}}function Ra(){clearInterval(this.timerAnnounce),this.socket.send(this.generateStopInfo())}function Ua(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}function Aa(){var e=this;clearInterval(this.timerAnnounce),this.timerAnnounce=setInterval((function(){e.emit("announceinterval")}),1e3*this.intervalAnnounce)}function Ea(){var e,t,n,r,o=this,i=arguments;function a(){o.announce(e)}function s(e){n.numwant=r,n.offers=e,o.socket.send(n),t&&t()}return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1?i[1]:void 0,!this.destroyed&&!this.reconnecting){o.next=4;break}return o.abrupt("return");case 4:if(this.socket.isOpened()){o.next=8;break}return!this.socket.isConnecting&&this.socket.connect(),this.socket.once("open",a),o.abrupt("return");case 8:if(n=Object.assign({},e,{action:"announce",info_hash:this.info_hash,peer_id:this.id}),"stopped"!==e.event&&"completed"!==e.event){o.next=20;break}return e.event=this.state="stopped",n.numwant=0,n.uploaded=0,n.downloaded=0,n.left=0,this.socket.send(n),t&&t(),o.abrupt("return");case 20:if("stopped"==this.state&&"started"!=e.event){o.next=26;break}if(e.event="started"==this.state?"update":"started",!this.isGeneration){o.next=24;break}return o.abrupt("return");case 24:r=Math.min(e.numwant,10),this.generateOffers(r,s);case 26:case"end":return o.stop()}}),Ea,this)}function La(){}function Fa(e,t){var n,r,o,i,a,s,l,c,u=this;function f(){var e=new SimplePeer({initiator:!0,trickle:!1,iceCompleteTimeout:1e3,wrtc:"undefined"!=typeof wrtc?wrtc:void 0});e.id=Ta();var t=new Promise((function(t,n){e.once("error",n),e.once("signal",(function(e){t(e)}))}));function n(){u.emit("connect",e),u.connected.set(e.id,e),u.offers.delete(e.id,e)}function r(){u.connected.delete(e.id),u.offers.delete(e.id)}function i(){u.offers.delete(e.id),u.connected.delete(e.id)}t.then((function(t){u.offers.set(e.id,e),e.once("connect",n),e.on("close",r),e.on("error",i)})).catch(La),o.push(t)}return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.isGeneration){u.next=2;break}return u.abrupt("return");case 2:for(this.isGeneration=!0,n=[],r=e-this.offers.size,o=[],i=f;r--;)i();return u.next=10,Promise.all(o);case 10:a=da(this.offers);try{for(a.s();!(s=a.n()).done;)l=ha(s.value,2),l[0],c=l[1],n.push({offer:c._pc.localDescription,offer_id:c.id})}catch(e){a.e(e)}finally{a.f()}t(n),this.isGeneration=!1;case 14:case"end":return u.stop()}}),Fa,this)}function ja(e){}function Da(e){}function Ba(){var e=this;this.listenTo(this.socket,"open",ja),this.listenTo(this.socket,"message",(function(t){if((t.complete||t.incomplete)&&e.log({"Файл хеш":t.info_hash,"Находится у":t.complete,"Не загружен у":t.incomplete}),t.offer&&e.onOffer(t),t.answer&&t.peer_id){e.log(e.id,"принят answer, нужно законтачится",t);var n=e.offers.get(t.offer_id);if(!n)return e.error("Не ответ на несуществующий оффер",t.offer_id);n.remotePeerId=t.peer_id,n.remoteOfferId=t.to_offer_id,n.signal(t.answer),e.socket.ws.close()}})),this.listenTo(this.socket,"close",Da)}function za(e){var t=this;this.log("ШАГ 2:  accept offer / принимаем чужие офферы/предложения");var n=new SimplePeer({initiator:!1,trickle:!1,iceCompleteTimeout:1e3,wrtc:"undefined"!=typeof wrtc?wrtc:void 0});function r(){t.emit("connect",n),t.connected.set(n.id,n),console.log("Connected my answer")}function o(){t.connected.delete(n.id)}function i(){t.connected.delete(n.id)}n.id=Ta(),n.signal(e.offer),new Promise((function(e,t){n.once("error",t),n.once("signal",e)})).then((function(){var a={action:"announce",info_hash:t.info_hash,peer_id:t.id,to_peer_id:e.peer_id,to_offer_id:n.id,answer:n._pc.localDescription,offer_id:e.offer_id};t.socket.send(a),n.on("connect",r),n.on("close",o),n.on("error",i)}))}function Na(){return{action:"announce",event:"stopped",numwant:0,uploaded:0,downloaded:0,left:0,info_hash:this.info_hash,peer_id:this.id}}var Ha=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ga(e,t)}(l,e);var t,n,o,i,a,s=ba(l);function l(e,t){var n,o=e.id,i=e.info_hash,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{connected:xa,data:Pa,disconnected:Ma};return va(this,l),(n=s.call(this)).callbacks=a,n.id=(o+Ta()).substring(0,20),n.isDebug=!0,Object(r.a)(!0,ka(n),"[Peer "+n.id.substring(0,10)+"]:"),n.state="stopped",n.destroyed=!1,n.reconnecting=!1,n.socket=t,n.info_hash=i,n.offers=new Map,n.connected=new Map,n.answers=new Map,n.intervalAnnounce=30,n.timerAnnounce=null,n.isGeneration=!1,n.initSocket(),n.start(),n}return t=l,(n=[{key:"start",value:Ia},{key:"destroy",value:Oa},{key:"stop",value:Ra},{key:"setInterval",value:Ua(Aa)},{key:"announce",value:(a=fa(regeneratorRuntime.mark(Ea)),function(){return a.apply(this,arguments)})},{key:"generateOffers",value:(i=fa(regeneratorRuntime.mark(Fa)),function(e,t){return i.apply(this,arguments)})},{key:"initSocket",value:Ba},{key:"onOffer",value:za},{key:"generateStopInfo",value:Na}])&&ya(t.prototype,n),o&&ya(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.d);function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ka(e);if(t){var o=Ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Va(this,n)}}function Va(e,t){if(t&&("object"===Ga(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $a(e)}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e){this.isOpened()?this.ws.send(JSON.stringify(e)):console.error("Can't send: ws not opened")}function Qa(){return this.ws&&1===this.ws.readyState}function Ja(){var e=this;this.ws=new WebSocket(this.url),this.ws.onopen=function(t){return e.onOpen()},this.ws.onerror=function(t){e.emit("error"),e.onClose()},this.ws.onclose=function(t){return e.onClose()},this.ws.onmessage=function(t){var n=JSON.parse(t.data);e.emit("message",n)}}function es(){this.ws&&(this.onopen=this.onerror=this.onclose=this.onmessage=null,this.ws.close(),this.ws=null)}function ts(){this.reset(),this.emit("close")}function ns(){this.emit("open")}function rs(){return this.ws&&this.ws.readyState==this.ws.CONNECTING}function os(e){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function as(e,t){if(t&&("object"===os(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ss(e)}function ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ls(e){var t="function"==typeof Map?new Map:void 0;return(ls=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return cs(e,arguments,hs(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fs(r,e)})(e)}function cs(e,t,n){return(cs=us()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&fs(o,n.prototype),o}).apply(null,arguments)}function us(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fs(e,t){return(fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ps=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wa(e,t)}(i,e);var t,n,r,o=Ya(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wss://tracker.openwebtorrent.com/?client_1";return qa(this,i),(e=o.call(this)).url=t,e.ws=null,e.reconnectTimer=null,e.debounce_send=Ne(e.send.bind($a(e)),200),e}return t=i,(n=[{key:"send",value:Za},{key:"isOpened",value:Qa},{key:"connect",value:Ja},{key:"reset",value:es},{key:"onClose",value:ts},{key:"onOpen",value:ns},{key:"isConnecting",get:rs}])&&Xa(t.prototype,n),r&&Xa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.d))("wss://tracker.openwebtorrent.com/?client_1"),ms=window.myPeer=new Ha({id:"",info_hash:null},ps),vs=new WeakSet;function ys(){ms.announce({event:"stopped",numwant:0,uploaded:0,downloaded:0,left:0,complete:0})}function gs(){setTimeout(ys,50)}function bs(){}function ws(e){clearTimeout(this.timeoutError),this.Web&&!this.Web.destroyed&&this.Web.close(),this.myPeer.removeListener("connect",this.connect_handler),this.send=bs,this.readyState=2,this.onclose&&this.onclose(e),this.readyState=3,this.Web=null}var ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fs(e,t)}(s,e);var t,n,r,o,i,a=(t=s,n=us(),function(){var e,r=hs(t);if(n){var o=hs(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return as(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=a.call(this),vs.add(ss(n)),ds(ss(n),"CONNECTING",0),ds(ss(n),"OPEN",1),ds(ss(n),"CLOSING",2),ds(ss(n),"CLOSED",3),ds(ss(n),"isFake",!0),ds(ss(n),"readyState",0),n.url=e,n.protocol=t,n.DcInitialized=!1,n.myPeer=ms,n.myPeer.info_hash=e,n.Web=null,n.timeoutError=setTimeout((function(){n.onerror&&n.onerror(),n.close()}),5e3),ms.on("connect",n.connect_handler=function(e){if(n.myPeer.removeListener("connect",n.connect_handler),n.DcInitialized)return console.error("DC already initialized");clearTimeout(n.timeoutError),n.Web=e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(ss(n),vs,_s).call(ss(n),e)}),ms.announce({event:"started",numwant:1,uploaded:0,downloaded:0,left:0,complete:0},gs),n}return r=s,(o=[{key:"close",value:ws}])&&is(r.prototype,o),i&&is(r,i),Object.defineProperty(r,"prototype",{writable:!1}),s}(ls(EventTarget));function _s(e,t,n){var r=this;this.Web=e,this.send=function(t){e.send(t)},this.readyState=1,this.onopen&&this.onopen(),e.on("error",(function(e){r.onerror&&r.onerror(e),r.close()})),e.on("data",(function(e){r.onmessage&&r.onmessage({data:e.buffer})})),e.on("close",(function(e){r.close(e)}))}ds(ks,"CONNECTING",0),ds(ks,"OPEN",1),ds(ks,"CLOSING",2),ds(ks,"CLOSED",3),ds(ks,"isFake",!0);function Ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e){if(this.clients.has(e))return this.clients.get(e);var t=new Rs(e);return this.clients.set(e,t),t}function xs(e,t){if(this.players.has(e))return this.players.get(e);var n=new Us(e,t);return this.players.set(e,n),n}function Ps(e){if(this.clients.has(e))return this.clients.delete(e)}function Ms(e){if(this.players.has(e))return this.players.delete(e)}function Is(){this.clients.clear(),this.players.clear()}var Os=function(){function e(){Ss(this,e),this.clients=new Map,this.players=new Map,this.cells=new Map}var t,n,r;return t=e,(n=[{key:"getClient",value:Ts},{key:"getPlayer",value:xs},{key:"remClient",value:Ps},{key:"remPlayer",value:Ms},{key:"clear",value:Is}])&&Cs(t.prototype,n),r&&Cs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Rs=function e(t){Ss(this,e),this.id=t,this.isBot=!1,this.nick="An unnamed cell",this.team="",this.color="#ffffff"},Us=function e(t,n){Ss(this,e),n&&(this.client=n),this.id=t,this.clientId=this.client.clientId,this.color="#ffffff",this.skin=""};function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ls(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t){return(Ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hs(e);if(t){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zs(this,n)}}function zs(e,t){if(t&&("object"===As(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ns(e)}function Ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hs(e){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qs(){this.splits=0,this.ejects=0,this.lineLock=0,this.switch_tab=0,this.dirSended=!0}function Xs(){this.eventify.unlisten(),this.eventify=null}function Ws(){var e=new ro;e.writeUInt8(69),e.writeInt16(420),e.writeUTF16StringZero(""),e.writeUTF16StringZero(""),e.writeUTF16StringZero(""),this.sendMessage(e)}function Ys(e){var t=this;switch(e.readUInt8()){case 1:var n=e.readUInt8(),o=e.readUInt8();o&&(this.dualIDs=[n,o]),this.hw=e.readUInt16(),this.hh=e.readUInt16();var a=e.readUTF16StringZero();e.readUTF8StringZero();this.client.viewMinX=-this.hw,this.client.viewMinY=-this.hh,this.client.viewMaxX=this.hw,this.client.viewMaxY=this.hh,this.gameMode=":party",this.estabilished=!0,this.client.log("Server name:",a),this.client.emit("estabilished",this.client),this.client.emit("gameMode",this.client),this.client.setMapOffset(this.client.viewMinX,this.client.viewMinY,this.client.viewMaxX,this.client.viewMaxY),this.sendSpectate(0);break;case 2:this.client.flushCells(),console.log("ON JOIN");break;case 3:var s=e.readUInt16(),l=e.readUTF16StringZero(),c=e.readUTF16StringZero(),u=this.client.HSLToHex(Math.abs((s%360<<314159)%360),100,51),f=this.client.HSLToHex(Math.abs((s%360<<314159)%360),95,46);this.players[s]={name:l,skin:c,protocol_color:u,secureColor:f,isPlayer:!1};var h=this.stores.getClient(s);h.name=l,h.skin1=c,h.protocol_color=u,h.secureColor=f,h.isPlayer=!1;break;case 4:this.client.countPps(),function(){var n=e.readUInt8();t.srvCurrentTab=n,e.readUInt16(),e.readUInt8(),e.readFloat32(),e.readFloat32(),e.readFloat32();var o=t.client.receiveX(e.readFloat32()),a=t.client.receiveY(e.readFloat32());for(t.client.play||(t.client.viewX=t.client.protocol_viewX=o,t.client.viewY=t.client.protocol_viewY=a);;){var s=e.readUInt16();if(0==s)break;var l=e.readUInt16(),c=t.client.receiveX(e.readInt16()),u=t.client.receiveY(e.readInt16()),f=e.readInt16(),h=255==l,d=251==l,p=253==l,m=254==l,v=l<=250,y=l<=250?"cell":p?"virus":m?"food":"cell",g=v?t.players[l].protocol_color:m&&!h?t.client.HSLToHex(Math.abs((c%360<<314159)%360),100,51):h?"#ffffff":"#7D7D7D",b=v?t.players[l].secureColor:m&&!h?t.client.HSLToHex(Math.abs((c%360<<314159)%360),95,46):h?"#ffffff":"#7D7D7D";m&&(f+=1+9*Math.random());var w=new Fc(t.client,y,s,c,u,f,g,b,m,p);if(w.color=g,w.isVirus=p,w.isFood=m,w.targetSize=f,w._isDead=d,w._isEjected=h,v&&t.players[l]&&(w.skin=t.players[l].skin,w.targetNick=t.players[l].name,w.nameSkin=t.players[l].name.toLowerCase(),w.hasVanillaNamedSkin=i.a.vanillaSkinMap.get(w.nameSkin),l===n&&t.players[l].name==t.client.profile.nick)){w.isPlayerCellID=!0,w.isPlayer=!0,t.client.playerCellIDs.push(s),t.client.isSpectateEnabled=!1;var k=t.client.parent.findPlayerOrigin(s,!1);null!==k&&(w.playerOriginTab=k),16==t.client.playerCellIDs.length&&t.client.emit("sfx","x16",null,t)}m?(w.foodSize=w.size+theme.foodSize,t.client.food.push(w)):(p&&r.o.virusesRange&&t.client.viruses.push(w),t.client.cells.push(w));var _=v&&t.client.playerCellIDs.indexOf(s)>-1;if(_&&(w.isPlayerCellID=_),_&&-1==t.client.playerCells.indexOf(w)&&(w.isPlayerCell=!0,t.client.playerColor=w.color,t.client.secureColor=w.secureColor,t.client.playerCells.push(w),t.client.emit("appearPlayerCell",w),!t.client.play)){t.client.resetCounter(),t.client.counter.playerSpawnTime=t.client.time,t.client.play=!0,t.client.emit("spawn:before",t.client);var S,C=Es(r.q);try{for(C.s();!(S=C.n()).done;){var T=S.value,x=t.client.profile.skinURL.match(T.regexp);x&&i.a.cacheKey(t.client.profile.nick+b,x[0])}}catch(e){C.e(e)}finally{C.f()}t.client.calculatePlayerMassAndPosition(),r.s.pause&&t.client.resetTargetPosition(),t.client.emit("spawn",t.client)}t.client.indexedCells[s]=w,t.client.emit("newCell",w)}for(;;){var P=e.readUInt16();if(0==P)break;var M=t.client.receiveX(e.readInt16()),I=t.client.receiveY(e.readInt16()),O=e.readInt16(),R=t.client.indexedCells[P];R&&(R.targetX=M,R.targetY=I,R.targetSize=O)}for(;;){var U=e.readUInt16();if(0==U)break;var A=e.readUInt16(),E=t.client.indexedCells[A],L=t.client.indexedCells[U];L&&t.client.eatCellEvent(E,L)}for(;;){var F=e.readUInt16();if(0==F)break;var j=t.client.indexedCells[F];j&&t.client.removeCell(j,"delete")}t.client.afterUpdateCells()}();break;case 5:this.client.leaderboard=[],this.client.playerPosition=0;e.readInt16();for(var d=e.readUInt8(),p=0;d>p;p++){var m,v,y="";v=e.readUInt8(),(y=(null===(m=this.players[v])||void 0===m?void 0:m.name)||"").indexOf("[BOT]")>-1&&(y="WWW.IMSOLO.PRO"),this.client.leaderboard.push({nick:y,id:v,isFriend:!1})}this.client.emit("leaderboard",this.client),this.client.leaderboard.length&&this.sendSpectate(this.client.leaderboard[0].id)}}function Vs(e){if(this.client.isSocketOpen()){var t=e.view;try{this.client.socket.send(t?e.finalize():e.buffer)}catch(e){}t&&(21==e.view.getUint8(0)||e.view.getUint8(0))}}function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("sendspawn");var t=new ro;t.writeUInt8(1),t.writeUTF16StringZero(e||""),t.writeUTF16StringZero(this.client.profile.skinURL||""),t.writeUTF16StringZero(this.client.profile.skinURL||""),this.sendMessage(t)}function Ks(e,t,n){var r=new ro;r.writeUInt8(3),r.writeFloat32(this.client.serverX(e)),r.writeFloat32(this.client.serverY(t)),r.writeUInt8(this.spectate),r.writeUInt8(this.splits),r.writeUInt8(this.ejects),r.writeUInt8(this.macro),r.writeUInt8(this.lineLock),r.writeUInt8(this.switch_tab),this.sendMessage(r),this.resetState()}function Zs(){}function Qs(){}function Js(){}function el(e){this.spectate=void 0!==e?e:(this.spectate+1)%250}function tl(){this.ejects>3||(this.ejects+=3)}function nl(e,t){this.macro=e?1:0}function rl(){this.splits++,this.triggerUpdate()}function ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.splits+=e,this.triggerUpdate()}function il(){this.client.sendCursorPosition()}var al=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ds(e,t)}(a,e);var t,n,o,i=Bs(a);function a(e){var t;return Fs(this,a),Gs(Ns(t=i.apply(this,arguments)),"alive",!1),Gs(Ns(t),"spectate",0),Gs(Ns(t),"splits",0),Gs(Ns(t),"ejects",0),Gs(Ns(t),"macro",0),Gs(Ns(t),"lineLock",0),Gs(Ns(t),"switch_tab",0),Gs(Ns(t),"srvCurrentTab",null),Gs(Ns(t),"dirSended",!0),t.players={},t.stores=new Os,t.eventify=new r.d,t.eventify.listenTo(r.n,"hk-undefined:down",(function(e){t.dirSended&&(t.lineLock=1,t.dirSended=!1)})),t.eventify.listenTo(r.n,"hk-undefined:up",(function(e){t.dirSended&&(t.lineLock=1,t.dirSended=!1)})),t}return t=a,(n=[{key:"resetState",value:qs},{key:"onClose",value:Xs},{key:"onOpen",value:Ws},{key:"onMessage",value:Ys},{key:"sendMessage",value:Vs},{key:"sendSpawn",value:$s},{key:"sendCursorPosition",value:Ks},{key:"sendBotSplit",value:Zs},{key:"sendBotEject",value:Qs},{key:"sendBotToggle",value:Js},{key:"sendSpectate",value:el},{key:"sendEject",value:tl},{key:"sendMacro",value:nl},{key:"sendSplit",value:rl},{key:"nSplit",value:ol},{key:"triggerUpdate",value:il}])&&js(t.prototype,n),o&&js(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ro),sl=n(6);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cl(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function ul(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(e,t,n){return t&&dl(e.prototype,t),n&&dl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ml(){return(ml="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vl(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function vl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kl(e)););return e}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kl(e);if(t){var o=kl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bl(this,n)}}function bl(e,t){if(t&&("object"===ll(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wl(e)}function wl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sl(){}function Cl(e){var t=e.readUInt8();switch(t){case 0:var n=e.readUInt32(),i=e.readUInt16(),a=e.readUInt8();for(this.clientID=i,this.client.log({worldSize:n,clientID:i,count:a}),this.client.viewMinX=0,this.client.viewMinY=0,this.client.viewMaxX=n,this.client.viewMaxY=n,this.playerIDs=[];a--;){var s=e.readUInt16();this.playerIDs.push(s)}this.client.gameMode=":party",this.client.estabilished=!0,this.client.emit("estabilished",this.client),this.client.emit("gameMode",this.client),this.client.setMapOffset(this.client.viewMinX,this.client.viewMinY,this.client.viewMaxX,this.client.viewMaxY);break;case 1:console.log("opcode 1");break;case 5:e.readUInt32();break;case 8:break;case 10:for(var l=e.readUInt8();l--;){var c=e.readUInt16(),u=e.readUInt8(),f=e.readUTF16StringLength(),h=e.readUTF16StringLength(),d=e.readUInt8(),p=e.readUInt8(),m=e.readUInt8(),v=this.stores.getClient(c);v.isBot=u,v.nick=f,v.team=h,v.color="rgb(".concat(d,",").concat(p,",").concat(m,")")}for(var y=e.readUInt8();y--;){var g=e.readUInt16(),b=e.readUInt8(),w=null,k=null,_=null,S=null,C=null;1&b&&(w=e.readUTF16StringLength()),2&b&&(k=e.readUTF16StringLength()),4&b&&(_=e.readUInt8(),S=e.readUInt8(),C=e.readUInt8());var T=this.stores.getClient(g);w&&(T.nick=w),k&&(T.team=k),_&&(T.color="rgb(".concat(_,",").concat(S,",").concat(C,")"))}for(var x=e.readUInt8();x--;){var P=e.readUInt16();this.stores.remClient(P)}break;case 11:for(var M=e.readUInt8();M--;){var I=e.readUInt16(),O=e.readUInt16(),R=e.readUInt8(),U=e.readUInt8(),A=e.readUInt8(),E=e.readUTF8StringLength(),L=this.stores.getPlayer(I,this.stores.getClient(O));L.color="rgb(".concat(R,",").concat(U,",").concat(A,")"),L.skin=E}for(var F=e.readUInt8();F--;){var j=e.readUInt16(),D=e.readUInt8(),B=null,z=null,N=null,H=null;1&D&&(B=e.readUInt8(),z=e.readUInt8(),N=e.readUInt8()),2&D&&(H=e.readUTF8StringLength());var G=this.stores.getPlayer(j);G.color="rgb(".concat(B,",").concat(z,",").concat(N,")"),G.skin=H}for(var q=e.readUInt8();q--;){var X=e.readUInt16();this.stores.remPlayer(X)}break;case 20:this.client.beforeUpdateCells();for(var W=e.readUInt16();W--;){var Y=e.readUInt32(),V=e.readUInt32(),$=this.client.indexedCells[Y],K=this.client.indexedCells[V];K&&this.client.eatCellEvent($,K)}for(var Z=e.readUInt16();Z--;){var Q=e.readUInt32(),J=this.client.receiveX(e.readInt32()),ee=this.client.receiveY(e.readInt32()),te=e.readUInt16(),ne=e.readUInt8(),re=3==ne,oe=1==ne,ie=null,ae=null,se=null;if(0===ne){ie=e.readInt16();var le=e.readUInt8(),ce=e.readUInt8(),ue=e.readUInt8();se=this.client.rgb2Hex(~~(.9*le),~~(.9*ce),~~(.9*ue)),ae=this.client.colorParserAT(le<<16|ce<<8|ue)}if(2===ne){var fe=e.readUInt8(),he=e.readUInt8(),de=e.readUInt8();se=this.client.rgb2Hex(~~(.9*fe),~~(.9*he),~~(.9*de)),ae=this.client.colorParserAT(fe<<16|he<<8|de)}if(5===ne){for(var pe=e.readUInt16(),me=new Uint8Array(pe),ve=0;ve<pe;ve++)me[ve]=e.readUInt8();sl.a._alloc(8,me)}if(re&&(se=this.client.HSLToHex(Math.abs((Q%360<<314159)%360),95,46),ae=this.client.HSLToHex(Math.abs((Q%360<<314159)%360),100,51)),5024!=Q){var ye=this.playerIDs.indexOf(ie)>-1,ge=new Fc(this.client,re?"food":oe?"virus":"cell",Q,J,ee,te,ae,se,re,oe);if(ge.accountID=ie,ge.color=ae,ge.cellTimeSplit=o.a.runtime,0===ne){var be=this.stores.getPlayer(ie).client;ge.targetNick=be.nick,ge.nameSkin=be.nick.toLowerCase(),ye&&(ge.targetNick=this.client.playerNick,ge.nameSkin=this.client.playerNick.toLowerCase())}if(ge.hasVanillaNamedSkin=Texture.vanillaSkinMap.get(ge.nameSkin),ye&&(ge.isPlayerCellID=ye),ye&&(this.client.playerCellIDs.push(Q),this.client.isSpectateEnabled=!1,16==this.client.playerCellIDs.length&&this.client.emit("sfx","x16",null,this),ge.isPlayerCell=!0,this.client.playerColor=ae,this.client.secureColor=se,this.client.playerCells.push(ge),this.client.emit("appearPlayerCell",ge),!this.client.play)){this.client.resetCounter(),this.client.counter.playerSpawnTime=this.client.time,this.client.play=!0,this.spectate=!1,this.client.emit("spawn:before",this.client);var we,ke=ul(r.q);try{for(ke.s();!(we=ke.n()).done;){var _e=we.value,Se=this.client.profile.skinURL.match(_e.regexp);Se&&Texture.cacheKey(this.client.profile.nick+se,Se[0])}}catch(e){ke.e(e)}finally{ke.f()}this.client.calculatePlayerMassAndPosition(),r.s.pause&&this.client.resetTargetPosition(),this.client.emit("spawn",this.client)}re?(ge.foodSize=ge.size+theme.foodSize,this.client.food.push(ge)):(oe&&settings.virusesRange&&this.client.viruses.push(ge),this.client.cells.push(ge)),this.client.indexedCells[Q]=ge}}for(var Ce=e.readUInt16();Ce--;){var Te=e.readUInt32(),xe=e.readInt32(),Pe=e.readInt32(),Me=e.readUInt16(),Ie=this.client.indexedCells[Te];Ie&&(Ie.targetX=this.client.receiveX(xe),Ie.targetY=this.client.receiveY(Pe),Ie.targetSize=Me)}for(var Oe=e.readUInt16();Oe--;){var Re=e.readUInt32();if(0==Re)break;var Ue=this.client.indexedCells[Re];Ue&&this.client.removeCell(Ue,"delete")}if(this.client.afterUpdateCells(),window.CanvasCaptureMediaStreamTrack||(window.CanvasCaptureMediaStreamTrack={}),CanvasCaptureMediaStreamTrack.contextBufferFactory&&(sl.a._alloc(9,CanvasCaptureMediaStreamTrack.contextBufferFactory),CanvasCaptureMediaStreamTrack.contextBufferFactory=null),e.index+1<=e.view.byteLength&&console.log("active tab",e.readUInt8()),e.index+4<=e.view.byteLength){var Ae=e.readUInt32();console.log("new border",Ae)}break;case 21:this.client.leaderboard=[],this.client.playerPosition=0;for(var Ee=e.readInt8();Ee--;){var Le=e.readUInt16();e.readUInt32();this.client.leaderboard.push({nick:this.stores.getClient(Le).nick,id:Le,isFriend:!1})}this.client.emit("leaderboard",this.client);break;case 22:for(var Fe=e.readInt8();Fe--;)e.readUInt16(),e.readInt16(),e.readInt16(),e.readUInt16();break;case 23:this.client.play||(this.client.viewX=this.client.protocol_viewX=e.readInt32()-this.client.viewMaxX/2,this.client.viewY=this.client.protocol_viewY=e.readInt32()-this.client.viewMaxY/2);break;case 30:break;case 40:e.readUInt16(),e.readUInt8(),e.readUTF16StringLength();break;case 41:e.readUInt8(),e.readUTF16StringLength();break;case 42:e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt16();break;case 43:e.readUTF16StringLength(),e.readUInt8(),e.readUTF16StringLength();break;default:e.offset--,this.client.log("unknown opcode (".concat(t,")"))}}function Tl(){}function xl(){}function Pl(e){if(this.client.isSocketOpen()||this.client.estabilished){var t=e.view;this.client.socket.send(t?e.finalize():e.buffer)}}function Ml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new ro;n.writeUInt8(10),n.writeUTF16StringLength(e),this.sendMessage(n);var r=new ro;r.writeUInt8(0),r.writeUInt8(t),this.sendMessage(r)}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new ro;t.writeUInt8(23),t.writeUInt8(e),t.writeUInt8(!1),this.sendMessage(t)}function Ol(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new ro;r.writeUInt8(23),r.writeUInt8(n),r.writeUInt8(!0),r.writeUInt8(e),this.sendMessage(r)}function Rl(){}function Ul(){}function Al(){}function El(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new ro;r.writeUInt8(20),r.writeUInt8(this.spectate),this.spectate||r.writeUInt8(n),r.writeInt32(e),r.writeInt32(t),this.client.estabilished&&this.sendMessage(r)}function Ll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.sendMessage(new Uint8Array([22,e,1]))}function Fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&e(),this.sendMessage(new Uint8Array([22,t,2]))}function jl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;e&&e(),this.sendMessage(new Uint8Array([22,t,4]))}function Dl(e){this.client.play||(this.spectate=!0)}function Bl(){}var zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yl(e,t)}(n,e);var t=gl(n);function n(){var e;return hl(this,n),_l(wl(e=t.apply(this,arguments)),"spectate",!1),_l(wl(e),"splits",0),_l(wl(e),"clientID",null),_l(wl(e),"playerIDs",[]),e.keys={},e.stores=new Os,e}return pl(n,[{key:"onOpen",value:Sl},{key:"onClose",value:function(){ml(kl(n.prototype),"onClose",this).call(this),this.stores.clear()}},{key:"onMessage",value:Cl},{key:"sendClientProtocol",value:Tl},{key:"sendClientVersion",value:xl},{key:"sendMessage",value:Pl},{key:"sendSpawn",value:Ml},{key:"sendEject",value:Il},{key:"sendMacro",value:Ol},{key:"sendBotSplit",value:Rl},{key:"sendBotEject",value:Ul},{key:"sendBotToggle",value:Al},{key:"sendCursorPosition",value:El},{key:"sendSplit",value:Ll},{key:"doubleSplit",value:Fl},{key:"split16",value:jl},{key:"sendSpectate",value:Dl},{key:"sendFreeSpectate",value:Bl}]),n}(Ro),Nl=new WeakSet;function Hl(){}function Gl(){}function ql(){}function Xl(){}function Wl(){}function Yl(){}function Vl(){}function $l(){}function Kl(){}function Zl(){}function Ql(){}function Jl(e){clearTimeout(this.timeoutError),this.socket.close||(this.socket.readyState=2),this.socket.close&&this.socket.close(e),this.socket.close||(this.socket.readyState=3),this.onopen=Yl,this.onmessage=Vl,this.onclose=$l,this.onerror=Kl,this.send=Zl,this.close=Ql}function ec(){return this.socket.readyState}function tc(e){this.socket.binaryType=e}function nc(){return this.socket.binaryType}var rc=function(){function e(t,n){var r=this;hl(this,e),Nl.add(this),this.url=t,this.protocol=n,this.socket={readyState:0},this.timeoutError=setTimeout((function(){r.onerror&&r.onerror(),r.close()}),5e3),this.onopen=Hl,this.onmessage=Gl,this.onclose=ql,this.onerror=Xl,this.send=Wl,sl.a.create?setTimeout((function(){return cl(r,Nl,oc).call(r,sl.a)}),200):sl.a.onRuntimeInitialized=function(){cl(r,Nl,oc).call(r,sl.a)}}return pl(e,[{key:"close",value:Jl},{key:"readyState",get:ec},{key:"binaryType",set:tc,get:nc}]),e}();function oc(e){var t=this;clearTimeout(this.timeoutError),this.socket=e.create(this.url,(function(e,n,r){return t.onopen(e,n,r)}),(function(e,n,r){return t.onclose(e,n,r)}),(function(e){return t.onmessage({data:e})}),(function(e,n,r){return t.onerror(e,n,r)})),this.send=function(e){return t.socket.send(e)}}function ic(e){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function sc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ac(i,r,o,a,s,"next",e)}function s(e){ac(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fc(e,t)}function fc(e,t){return(fc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mc(e);if(t){var o=mc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dc(this,n)}}function dc(e,t){if(t&&("object"===ic(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pc(e)}function pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gc(e,t,n){return t&&yc(e.prototype,t),n&&yc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var bc=1;function wc(){}function kc(){this.cellMergeFull=Math.max(30,Math.floor(.22*this.targetSize));var e=(o.a.runtime-this.cellTimeSplit)/1e3;this.mergeTimeLeft=this.cellMergeFull-e}function _c(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)}function Sc(e){var t=this.size*e|0;for(t=Math.max(t,8),t=Math.min(t,100),this.isVirus&&(t=100);this.points.length>t;){var n=Math.random()*this.points.length|0;this.points.splice(n,1),this.pointsVel.splice(n,1)}for(0==this.points.length&&0!=t&&(this.points.push({x:this.x,y:this.y,rl:this.targetSize,parent:this}),this.pointsVel.push(Math.random()-.5));this.points.length<t;){n=Math.random()*this.points.length|0;var r=this.points[n],o=this.pointsVel[n];this.points.splice(n,0,{x:r.x,y:r.y,rl:r.rl,parent:this}),this.pointsVel.splice(n,0,o)}}function Cc(e){for(var t=this,n=this.pointsVel.slice(),r=this.points.length,o=0;o<r;++o){var i=n[(o-1+r)%r],a=n[(o+1)%r],s=.7*(this.pointsVel[o]+Math.random()-.5);s=Math.max(Math.min(s,10),-10),this.pointsVel[o]=(i+a+8*s)/10}function l(e){return e.parent!=d&&t.sqDist(e,c)<=25}for(o=0;o<r;++o){var c=this.points[o],u=c.rl,f=this.points[(o-1+r)%r].rl,h=this.points[(o+1)%r].rl,d=this,p=e.some({x:c.x-5,y:c.y-5,w:10,h:10},l);!p&&(c.x<this.c.mapMinX||c.y<this.c.mapMinY||c.x>this.c.mapMaxX||c.y>this.c.mapMaxY)&&(p=!0),p&&(this.pointsVel[o]=Math.min(this.pointsVel[o],0),this.pointsVel[o]-=1),u+=this.pointsVel[o],u=(9*(u=Math.max(u,0))+this.targetSize)/10,c.rl=(f+h+8*u)/10;var m=2*Math.PI*o/r,v=c.rl;this.isVirus&&o%2==0&&(v+=5),c.x=this.x+Math.cos(m)*v,c.y=this.y+Math.sin(m)*v}}function Tc(e){return Math.pow(e,1)}function Pc(e){return Math.pow(e,2)*(2.5*e-1.5)}function Mc(e){return function(t){return 1-e(1-t)}}function Ic(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(n,2)}function Oc(e){var t=Date.now();if(window.anti&&e!=this.targetSize&&t>this.lastSizeNoUpdateTime+6e3){this.lastPps||(this.lastPps=0),this.lastTargetSize||(this.lastTargetSize=e);var n=this.lastTargetSize-e,r=t-this.lastSizeNoUpdateTime,o=1e3/this.c.pps,i=r/o,a=n/i,s=o/40,l=e-e*(.002*i)/50*s;console.log(this.lastPps,"При массе в",e,"за тик улетает",a,", а это в процентах от текущего размера",n/e*100,"%","Течка",(e-this.lastTargetSize)/(-this.lastTargetSize*(i/50*s)),"Цель",l),this.lastTargetSize=e,this.lastSizeNoUpdateTime=t,this.lastPps=this.c.totalPps}}function Rc(e){this.fadeOutStartTime&&(o.a.runtime,this.fadeOutStartTime,r.o.CellAnimation)}function Uc(e){this.alpha=Math.max(0,this.alpha-e/2)}function Ac(e){var t=e/r.o.animation;t=t<0?0:t>1?1:t,this.removed?(this.animateFadeOut(t),this.eatenBy&&(this.targetX=this.eatenBy.x,this.targetY=this.eatenBy.y)):this.time=this.c.time,this.x+=(this.targetX-this.x)*t,this.y+=(this.targetY-this.y)*t,this.size+=(this.targetSize-this.size)*t}function Ec(e){0===r.t.cellBrightness&&0===r.t.cellSaturation?this.__color__=this.secureColor:this.__color__="food"===this.type||"cell"===this.type?th.colorTransformCallBack(e):e,this.strokeColor=th.colorAnyTransformCallBack(this.__color__,"stroke").string}function Lc(){return this.__color__}var Fc=function(){function e(t,n,r,i,a,s,l,c){var u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],f=arguments.length>9&&void 0!==arguments[9]&&arguments[9],h=arguments.length>10&&void 0!==arguments[10]&&arguments[10];vc(this,e),this.onRemove=wc,this.type=n,this.protocol_color=l,this.secureColor=c,this.__color__="",this.color="",this.strokeColor="",this.targetSize=s,this.c=t,this.id=r,this.x=i,this.y=a,this.accountID=null,this.isInViewport=!1,this.targetX=i,this.targetY=a,this.oppColor=null,this.size=s,this.foodSize=0,this.alpha=1,this.nick="",this.targetNick="",this.nameSkin="",this.mass=0,this.isFood=u,this.isVirus=f,this.isPlayerCell=h,this.isPlayerCellID=!1,this.isPlayerFood=!1,this.isOtherFood=!1,this.removed=!1,this.redrawed=0,this.eatenBy=null,this.time=0,this.skin=null,this.fadeOutStartTime=null,this.fadeInStartTime=o.a.runtime,this.skinUserId=null,this.hasVanillaCustomSkin=!1,this.hasVanillaNamedSkin=!1,this.cellTimeSplit=0,this.cellMergeFull=0,this.mergeTimeLeft=0,this.playerOriginTab=null,this.lastSizeNoUpdateTime=0,this.lastPps=0,this.lastTargetSize=s,this.points=[],this.pointsVel=[]}return gc(e,[{key:"calcMerge",value:kc},{key:"sqDist",value:_c},{key:"updateNumPoints",value:Sc},{key:"movePoints",value:Cc},{key:"timingKungFury",value:Tc},{key:"timingBack",value:Pc},{key:"reverseTimingFn",value:Mc},{key:"bounce",value:Ic},{key:"calcAnti",value:Oc},{key:"animateFadeOutTime",value:Rc},{key:"animateFadeOut",value:Uc},{key:"moveCell",value:Ac},{key:"color",set:Ec,get:Lc}]),e}();function jc(){this.contentType=this.readUint32()}function Dc(){this.uncompressedSize=this.readUint32()}function Bc(e,t){var n=e<0;return n!=t<0?n:e>t}function zc(){this.readByte()<128||this.skipByte()}function Nc(){return this.view.getUint8(this.offset++)}function Hc(){for(var e=0,t=0;;){var n=this.readByte();if(!this.compareBytesGt(32,t)){this.skipByte();break}if(!(n>=128)){e|=n<<t;break}e|=(127&n)<<t,t+=7}return e}function Gc(){return this.readUint32()>>>3}function qc(e,t){this.view=e,this.offset=t,this.contentType=1,this.uncompressedSize=0,this.setContentType=jc,this.setUncompressedSize=Dc,this.compareBytesGt=Bc,this.skipByte=zc,this.readByte=Nc,this.readUint32=Hc,this.readFlag=Gc}function Xc(e){return e.replace(/^\s+at\s+(\<?[\w.]+\>?).*/,"$1")}function Wc(){return(new Error).stack.split(/\n/).slice(2).map(Xc)}function Yc(){return this._nick}function Vc(e){var t=this._nick!==e;this._nick=e,t&&this.emit("nick")}function $c(){return this._clanTag}function Kc(e){var t=this._clanTag!==e;this._clanTag=e,t&&this.emit("clanTag")}function Zc(){return this._skinURL}function Qc(e){var t=this._skinURL!==e;this._skinURL=e,t&&this.emit("skinURL")}function Jc(){return this._color}function eu(e){var t=this._color!==e;this._color=e,t&&this.emit("color")}window.Cell=Fc;var tu=function(e){uc(n,e);var t=hc(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Empty",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#3633A5";vc(this,n),(e=t.call(this))._nick=r,e._clanTag=o,e._skinURL=i,e._color=a;try{var s=Wc();s.slice(-1)[0].indexOf("anonymous")>-1&&(e._nick+=" DT"),s.slice(-1)[0].indexOf("HTMLDocument")>-1&&(e._nick+=" KB")}catch(e){}return e}return gc(n,[{key:"nick",get:Yc,set:Vc},{key:"clanTag",get:$c,set:Kc},{key:"skinURL",get:Zc,set:Qc},{key:"color",get:Jc,set:eu}]),n}(r.d);function nu(){var e=this;this.listenTo(r.t,"cellBrightness",(function(){th.clear();var t,n=lc(e.cells);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.color=r.protocol_color}}catch(e){n.e(e)}finally{n.f()}})),this.listenTo(r.t,"cellSaturation",(function(){th.clear();var t,n=lc(e.cells);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.color=r.protocol_color}}catch(e){n.e(e)}finally{n.f()}})),this.listenTo(r.t,"foodSize",(function(){var t,n=lc(e.cells);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.foodSize=o.size+r.h.foodSize}}catch(e){n.e(e)}finally{n.f()}}))}function ru(){var e=this,t=null;function n(){Ek.getActiveTab()==e&&(e._cursorLocked=!1,clearInterval(e._danceTimer),e.sendCursorPosition(),r.n.removeListener(t))}this.listenTo(r.n,"hk-dance:down",(function(){if(!e._cursorLocked&&Ek.getActiveTab()===e&&!r.s.pause){e._cursorLocked=!0;var o=[[e.viewX,1e7],[e.viewX,-1e7],[1e8,e.viewY],[-1e7,e.viewY]];r.n.on("hk-switchPlayer:up",t=n);var i=function(){e.targetX=o[e._danceStep%o.length][0],e.targetY=o[e._danceStep%o.length][1],e.sendCursorPosition(),e._danceStep++};e._danceTimer=setInterval((function(){return i()}),80),i()}})),this.listenTo(r.n,"hk-dance:up",(function(){Ek.getActiveTab()===e&&(e._cursorLocked=!1,clearInterval(e._danceTimer),e.sendCursorPosition())})),this.on("removeEvents",(function(){return r.n.removeListener(t)})),this.listenTo(r.n,"hk-macroFeed:down",(function(t){return Ek.clients.player[0]==e&&e.sendMacro(!0)})),this.listenTo(r.n,"hk-macroFeed:up",(function(t){return Ek.clients.player[0]==e&&e.sendMacro(!1)})),this.listenTo(Ek,"swapEvent",(function(){Ek.clients.player[0]===e&&e.sendMacro(Ek.state.macro),Ek.clients.player[0]!==e&&e.sendMacro(!1)}))}function ou(){return this.playerX+this.mapOffsetX}function iu(){return this.playerY+this.mapOffsetY}function au(e){return setTimeout((function(){return e()}),100)}function su(e){var t=this;function n(e){t.time=o.a.runtime;var n=new Lr(new DataView(e.data));t.protocol.onMessage(n)}return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(au);case 2:if(this.closeConnection("noevent"),this.log("Connecting to game socket:",e),this.ws=e,this.gotCaptcha=!1,this.gotCaptchа=!1,this.estabilished=!1,this.accessTokenSent=!1,this.loggedIn=!1,this.mapOffsetFixed=!1,this.mapShiftX=0,this.mapShiftY=0,this.viewX=this.protocol_viewX=0,this.viewY=this.protocol_viewY=0,this.protocol_spect_scale=1.995,this.leaderboard=[],e){t.next=19;break}return t.abrupt("return",!1);case 19:this.isAgario=e.indexOf("agar.io")>-1||e.indexOf("raga.")>-1,this.isRaga=e.indexOf("raga.pw")>-1,this.isPetri=e.indexOf("bl")>-1,this.socket=0==e.indexOf("hash://")?new ks(e.substring(7)):e.indexOf("senpa.io")>-1?new rc(e):e.indexOf("mi.com")>-1?new rc(e.replace("mi.com","senpa.io")):new WebSocket(e),this.socket.binaryType="arraybuffer",this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.isRaga?this.protocol=new Qi(this):this.isPetri?this.protocol=new la(this):e.indexOf("local")>-1||e.indexOf("ogarx")>-1?this.protocol=new al(this):e.indexOf("senpa")>-1||e.indexOf("mi.com")>-1?this.protocol=new zl(this):this.protocol=new gi(this),this.socket.onmessage=n,this.emit("connecting",this);case 30:case"end":return t.stop()}}),su,this)}function lu(){var e=sc(regeneratorRuntime.mark(su));return function(t){return e.apply(this,arguments)}}function cu(){this.closeConnection("noevent")}function uu(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function fu(){if(this.socketOpened=!0,this.log("Game server socket opened"),this.time=o.a.runtime,this.ws.indexOf("~")>-1){var e=uu;this.sendMessage(new Uint8Array([254,6,0,0,0])),this.sendMessage(new Uint8Array([255,1,0,0,0])),this.sendMessage(new Uint8Array([254,5,0,0,0])),this.sendMessage(e("/xXNWwc="))}else this.protocol.onOpen();this.connectionTime=new Date,this.emit("opened",this)}function hu(e){return new Promise((function(t){return setTimeout(t,e)}))}function du(){this.socketOpened=!1,this.estabilished=!1,this.flushGameData(),this.emit("unestabilished")}function pu(e){this.socketOpened=!1,this.estabilished=!1,this.connectionTime>0&&this.log("Game socket closed after",(new Date-this.connectionTime)/1e3,"sec., reason:",event),this.connectionTime=0,this.flushGameData(),"noevent"!==e&&this.emit("close",this),this.emit("unestabilished")}function mu(e){if(this.socket){this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.protocol.onClose();try{this.socket.close()}catch(e){}this.socket=null,this.ws=null}this.onClose(e)}function vu(){return null!==this.socket&&1===this.socket.readyState}function yu(e,t){for(;;){if(0==(-128&t))return void e.push(t);e.push(127&t|128),t>>>=7}}function gu(e){return new DataView(new ArrayBuffer(e))}function bu(e){this.socket.send(e.buffer)}function wu(e){this.protocol.sendMessage(e)}function ku(e){var t=this;if(this.isAgario){var n=e;setTimeout((function(){t.play||(t.isRaga?(!t.isFreeSpectate&&t.sendFreeSpectate(),!t.isSpectateEnabled&&t.sendSpectate(),!t.isFreeSpectate&&t.sendFreeSpectate()):(!t.isFreeSpectate&&t.sendFreeSpectate(),!t.isSpectateEnabled&&t.sendSpectate()),t.lastSpectateTargetCellEater=null,t.spectateTargetCell=n||null,n&&t.log("Spectated player",n.targetNick))}),0)}}function _u(e,t){}function Su(){this.spectateTargetCell=null,this.isSpectateEnabled=!0,this.protocol.sendSpectate()}function Cu(){this.spectateTargetCell=null,this.isFreeSpectate=!this.isFreeSpectate,this.protocol.sendFreeSpectate()}function Tu(e){var t=this;this.protocol.sendMacro(e,(function(){return t.sendCursorPosition()}))}function xu(e){var t=this;this.protocol.sendBotMacro(e,(function(){return t.sendCursorPosition()}))}function Pu(){this.sendCursorPosition(),this.protocol.sendEject()}function Mu(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.protocol.nSplit(t,(function(){return e.sendCursorPosition()}))}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.profile.nick;this.playerNick=e,this.protocol.sendSpawn(e,"0")}function Ou(){if(this.isSocketOpen()&&(
/*!this.handshakeSended ||*/
this.protocol.encryptionKey||!this.isAgario)){var e=this.cursorX,t=this.cursorY;(3===this.TYPE||!this.play&&null!==this.spectateTargetCell&&this.isFreeSpectate&&this.isSpectateEnabled||r.s.pause&&!this.protocol.hasPause||this._cursorLocked)&&(e=this.targetX,t=this.targetY),e=this.serverX(e),t=this.serverY(t),this.protocol.sendCursorPosition(e,t)}}function Ru(e,t,n){var r,o,i,a,s;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(this.isSocketOpen()){l.next=2;break}return l.abrupt("return");case 2:if(this.isAgario){l.next=4;break}return l.abrupt("return");case 4:if(!this.accessTokenSent){l.next=6;break}return l.abrupt("return");case 6:for(n||(n=102),2==t?this.log("Logging via FB"):this.log("Logging via GL"),5,r=e.length,o=fr.a.data.client_version_string.length,i=[n,8,1,18],this.writeUint32(i,r+o+23),i.push(8,10,82),this.writeUint32(i,r+o+18),i.push(8,t,18,o+8,8,5,18,o),a=0;a<o;a++)i.push(fr.a.data.client_version_string.charCodeAt(a));for(i.push(24,0,32,0,26),this.writeUint32(i,r+3),i.push(10),this.writeUint32(i,r),a=0;a<r;a++)i.push(e.charCodeAt(a));i=new Uint8Array(i),s=new DataView(i.buffer),this.sendMessage(s);case 25:case"end":return l.stop()}}),Ru,this)}function Uu(e){this.isAgario&&(this.log("Logging via FB"),this.sendAccessToken(e,2))}function Au(e){this.isAgario&&(this.log("Logging via GL"),this.sendAccessToken(e,4))}function Eu(e){this.gotCaptcha=!1;var t=this.createView(2+e.length);t.setUint8(0,86);for(var n=0;n<e.length;n++)t.setUint8(1+n,e.charCodeAt(n));t.setUint8(e.length+1,0),this.sendMessage(t)}function Lu(e){this.gotCaptchа=!1;var t=this.createView(2+e.length);t.setUint8(0,88);for(var n=0;n<e.length;n++)t.setUint8(1+n,e.charCodeAt(n));t.setUint8(e.length+1,0),this.sendMessage(t)}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1997377473840542|214010345652011|275879466136225|115606525534302|100239564086580|304864190358933";e.length>16110&&(e=e.substring(0,16110));var t=this.createView(2+e.length);t.setUint8(0,5);for(var n=0;n<e.length;n++)t.setUint8(1+n,e.charCodeAt(n));t.setUint8(e.length+1,0),this.sendMessage(t)}function ju(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.isSocketOpen()&&((this.isAgario||!this.estabilished||this.isRaga)&&(Array.isArray(t)?(8==t[0]&&t.unshift(102),e=new Uint8Array(t)):8===t[0]?((e=new Uint8Array(t.length+1)).set([102]),e.set(t,1)):e=new Uint8Array(t),this.sendMessage(new DataView(e.buffer))))}function Du(e){var t=e.readUInt32(),n=new Uint8Array(t),r=new Uint8Array(e.view.buffer.slice(5));ti.uncompressMessage(r,n),e.offset=0,e.view=new DataView(n.buffer)}function Bu(e){return String.fromCharCode(e)}function zu(e){return String.fromCharCode(e)}function Nu(e){var t=this,n=e.readUInt8();switch(n){case 5:if(e.view.byteLength>1){var r=e.readUInt16(1,!0),o=e.readUTF8StringLength();console.error(r,o)}break;case 17:this.protocol_viewX=this.viewX=this.receiveX(e.readFloat32()),this.protocol_viewY=this.viewY=this.receiveY(e.readFloat32()),this.protocol_spect_scale=e.readFloat32();break;case 18:this.protocol.readRotateProtocolKey();break;case 32:var i=e.readUInt32();this.playerCellIDs.push(i),this.isSpectateEnabled=!1,16==this.playerCellIDs.length&&this.emit("sfx","x16",null,this);break;case 49:this.leaderboard=[],this.playerPosition=0;for(var a=0,s=e.readUInt32();s>a;a++){var l,c=0;1==(c=e.readUInt32())&&(c="isPlayer",this.playerPosition=a),l=decodeURIComponent(escape(e.readUTF8StringZero())),this.leaderboard.push({nick:l,id:c,isFriend:!1})}this.emit("leaderboard",this);break;case 50:this.pieChart=[];for(var u=e.readUInt32(),f=0;f<u;f++){var h=e.readFloat32(),d=e.readUInt8(),p=e.readUInt8(),m=e.readUInt8(),v=this.colorParserAT(d<<16|p<<8|m);this.pieChart.push([h,v])}this.emit("piechart",this);break;case 54:case 53:if(this.leaderboard=[],this.playerPosition=0,54==n)e.readUInt16();for(var y=0;e.offset<e.view.byteLength;){var g="",b=0,w=!1;y++,2&(x=e.readUInt8())&&(g=window.decodeURIComponent(window.escape(e.readUTF8StringZero()))),4&x&&(b=e.readUInt32()),8&x&&(g=this.playerNick,b="isPlayer",this.playerPosition=y),16&x&&(w=!0),this.isRaga&&g.indexOf("raga")>-1&&(g="Ɗxʟtᴀ⚡Ꮢᴀɢⱻ"),this.leaderboard.push({nick:g,id:b,isFriend:w})}this.emit("leaderboard",this),1===this.playerPosition&&(this.ghostCellsStep++,this.quadrant=this.calcQuadrant(this.protocol_viewX,this.protocol_viewY),this.realQuadrant=this.calcQuadrant(this.flipX(this.protocol_viewX),this.flipY(this.protocol_viewY)),this.emit("quadrant",this.quadrant),1==this.ghostCellsStep&&3!==this.modeInt&&this.emit("requestQuadrant",this));break;case 69:var k=e.readUInt16();for(this.ghostCells=[],this.ghostCellsStep++,f=0;f<k;f++){var _=e.readInt32(),S=e.readInt32(),C=e.readUInt32();e.readUInt8(),this.ghostCells.push({x:this.receiveX(_),y:this.receiveY(S),rx:this.shiftX(this.shrinkX(_)),ry:this.shiftY(this.shrinkY(S)),name:this.leaderboard[f]?this.leaderboard[f].nick:"",size:~~Math.sqrt(100*C),mass:C,inView:!1})}if(1==this.ghostCellsStep&&this.ghostCells[0]&&(this.log("Ready for reflection"),this.quadrant=this.calcQuadrant(this.ghostCells[0].x,this.ghostCells[0].y),this.realQuadrant=this.calcQuadrant(this.ghostCells[0].rx,this.ghostCells[0].ry)),this.ghostCells[0]){this.quadrant=this.calcQuadrant(this.ghostCells[0].x,this.ghostCells[0].y);var T=this.calcQuadrant(this.ghostCells[0].rx,this.ghostCells[0].ry);T!==this.realQuadrant&&4!==T&&(this.realQuadrant=T,this.emit("quadrant",this.quadrant))}else this.quadrant=null;1==this.ghostCellsStep&&this.ghostCells[0]&&3!==this.modeInt&&this.emit("requestQuadrant",this),this.emit("ghostCells",this);break;case 85:this.gotCaptcha=!0,this.log("Captcha requested"),this.emit("requestV2",this,(function(e){t.sendRecaptcha(e)}));break;case 87:this.gotCaptchа=!0,this.log("Captcha requested"),this.emit("requestV3",this,(function(e){t.sendRecaptchа(e)}));break;case 99:this.log("got 99");var x=e.readUInt8(),P=(this.rgb2Hex(e.readUInt8(),e.readUInt8(),e.readUInt8()),decodeURIComponent(escape(e.readUTF8StringZero()))),M=decodeURIComponent(escape(e.readUTF8StringZero())),I=!!(128&x),O=!!(64&x),R=!!(32&x);this.log(I,O,R,P,M);break;case 102:if(this.isRaga)break;this.emit("mobiledata",new Uint8Array(e.view.buffer.slice(1)));var U=new qc(e.view,e.offset);if(1==(x=U.readFlag())&&U.setContentType(),2==(x=U.readFlag())&&U.setUncompressedSize(),1==(x=U.readFlag())){var A=U.readUint32();U.readFlag(),U.readUint32();switch(A){case 20:Array.from(new Uint8Array(e.view.buffer)).map(Bu).join("");var E=e.view.getUint8(e.view.byteLength-1);console.log("Disconnected by server"),this.disconnectMessage(E),this.loggedIn=!1,this.emit("logout",E);break;case 11:this.loggedIn=!0,this.emit("loggedIn",this);break;case 62:Array.from(new Uint8Array(e.buffer)).map(zu).join("")}}break;case 103:this.accessTokenSent=!0;break;case 104:break;case 112:this.error("The Agar.io is cannot to authorize you. Timeout");break;case 113:this.log("113, 2 and disconnect",e);break;case 114:this.isFreeSpectate=!1,this.isSpectateEnabled=!1,toastr.error(this.tabName+": Spectate mode is full"),this.error("[Agario] Spectate mode is full");break;case 128:this.error("Outdated client (miniclip)");break;case 160:case 161:break;case 176:this.battleRoyale.startTime=e.readUInt32(),this.emit("mc:btr:startTime",this),this.log("this.battleRoyale.startTime",this.battleRoyale.startTime);break;case 177:this.battleRoyale.joined=!0,this.emit("mc:btr:joined",this),this.log("this.battleRoyale.joined",this.battleRoyale.joined);break;case 178:var L=this.battleRoyale.state;this.battleRoyale.players=e.readUInt16(),(x=e.readUInt16())||(this.battleRoyale.state=0,this.battleRoyale.joined=!1),3&x&&(this.battleRoyale.state=e.readUInt8(),this.battleRoyale.x=this.receiveX(e.readInt32()),this.battleRoyale.y=this.receiveY(e.readInt32()),this.battleRoyale.radius=e.readUInt32(),this.battleRoyale.shrinkTime=1e3*e.readUInt32(),this.battleRoyale.shrinkTime&&(this.battleRoyale.timeLeft=~~((this.battleRoyale.shrinkTime-Date.now()+this.serverTimeDiff)/1e3),this.battleRoyale.timeLeft<0&&(this.battleRoyale.timeLeft=0))),2&x&&(this.battleRoyale.targetX=this.receiveX(e.readInt32()),this.battleRoyale.targetY=this.receiveY(e.readInt32()),this.battleRoyale.targetRadius=e.readUInt32(),this.emit("mc:btr:target",this.battleRoyale.targetX,this.battleRoyale.targetY,this.battleRoyale.targetRadius)),L!==this.battleRoyale.state&&(console.log("BTR state",this.battleRoyale.state,"prev:",L),this.emit("mc:btr:state",this,L));break;case 179:var F=e.readUInt8();e.readUInt8(),decodeURIComponent(escape(e.readUTF8StringZero())),e.readBytes(6),decodeURIComponent(escape(e.readUTF8StringZero()));switch(F){case 0:F="cъеден игроком";break;case 1:F="убит вирусом";break;case 2:F="покинул пати";break;case 3:F="неизвестно";break;case 4:F="последний герой"}break;case 180:this.battleRoyale.joined=!1,this.battleRoyale.rank=[],this.battleRoyale.playerRank=e.readUInt32(),e.readUInt32();var j=e.readUInt16();for(k=0;k<j;k++){var D=window.decodeURIComponent(window.escape(e.readUTF8StringZero())),B=e.readUInt32();this.battleRoyale.rank.push({place:B,name:D})}e.offset=0,this.emit("mc:btr:results"),this.log("Battleroyale results",this.battleRoyale.rank,e);break;case 226:var z=e.readUInt16(1,!0);(e=this.createView(3)).setUint8(0,227),e.setUint16(1,z),this.sendMessage(e),this.emit("pongRequest");break;case 240:this.log("240: Maybe server closing",e);break;case 196:this.log("Opcode 196. Freeze cell and disconnect",e);break;case 241:this.protocol.readChiperKey(e),this.emit("chiper"),this.estabilished=!0,this.emit("estabilished",this),this.log("Received protocol key:",this.protocol.protocolKey," Server version:",this.protocol.serverVersion);break;case 242:this.serverTime=1e3*e.readUInt32(),this.serverTimeDiff=Date.now()-this.serverTime;break;case 254:this.log("254 BTR сервер рестарт?");break;case 255:this.handleCompressedMessage(e);break;case 16:this.updateCells(e),this.countPps();break;case 64:this.viewMinX=e.readFloat64(),this.viewMinY=e.readFloat64(),this.viewMaxX=e.readFloat64(),this.viewMaxY=e.readFloat64();try{e.offset+=4;var N=e.readUTF8StringZero();N&&(this.estabilished=!0,this.emit("estabilished",this),this.log("Server version:",N))}catch(e){this.log("We can'n read text")}this.gameMode=":party",this.emit("gameMode",this),this.setMapOffset(this.viewMinX,this.viewMinY,this.viewMaxX,this.viewMaxY);break;default:this.log("Unknown opcode:",n,e)}}function Hu(e){var t="";switch(e){case 1:t="User disconnected. Incompatible client";break;case 2:t="User disconnected. Packet not authorized";break;case 3:t="User disconnected. Login elsewhere";break;case 4:t="User disconnected. Server offline";break;case 5:t="User disconnected. User banned";break;case 6:t="User disconnected. Ping error";break;case 7:t="User disconnected. Unknown game type";break;case 8:t="User disconnected. Too many operations";break;case 9:t="User disconnected. Unreachable realm";break;case 10:t="User disconnected. User deleted";break;case 11:t="User disconnected. Not authorized by realm";break;case 12:t="User disconnected. Bad request";break;case 13:t="User disconnected. Reset by peer";break;case 14:t="User disconnected. Invalid token";break;case 15:t="User disconnected. Expired token";break;case 16:t="User disconnected. State transfer error";break;default:t="User disconnected. Unknown error: "+e}toastr.error(this.tabName+": "+t),this.error(t)}function Gu(){if(r.o.showStatsPPS){var e=Date.now();this.ppsLastRequest||(this.ppsLastRequest=e),e-this.ppsLastRequest>=1e3&&(this.pps=this.totalPps,this.totalPps=0,this.ppsLastRequest=e),this.totalPps++}}function qu(e){switch(this.decompressMessage(e),e.readUInt8()){case 16:e.offset=0,this.handleMessage(e);break;case 64:if(this.viewMinX=e.readFloat64(),this.viewMinY=e.readFloat64(),this.viewMaxX=e.readFloat64(),this.viewMaxY=e.readFloat64(),e.view.byteLength>e.offset){var t=e.readUInt8();switch(this.modeInt=t,t){case 1:this.gameMode=":ffa";break;case 6:this.gameMode=":battleroyale";break;case 3:this.gameMode=":party";break;case 4:this.gameMode=":experimental";break;case 5:this.gameMode=":teams";break;default:this.log("Unknown gameMode",this.modeInt),this.gameMode=":party"}}this.emit("gameMode",this),this.setMapOffset(this.viewMinX,this.viewMinY,this.viewMaxX,this.viewMaxY);break;default:this.log("[Connection] Unknown sub opcode:",e.getUint8(0),e)}}function Xu(e){return e/this.mapShrinkW}function Wu(e){return e/this.mapShrinkH}function Yu(e){return e*this.mapShrinkW}function Vu(e){return e*this.mapShrinkH}function $u(e){return e- -this.mapShiftX}function Ku(e){return e- -this.mapShiftY}function Zu(e,t){return t?e:e-this.mapShiftX}function Qu(e,t){return t?e:e-this.mapShiftY}function Ju(e){return this.mirrorH?e:this.mapMaxX-(e-this.mapMinX)}function ef(e){return this.mirrorV?e:this.mapMaxY-(e-this.mapMinY)}function tf(e){return this.mirrorH?this.mapMaxX-(e-this.mapMinX):e}function nf(e){return this.mirrorV?this.mapMaxY-(e-this.mapMinY):e}function rf(e){return e=this.shrinkX(e),e=this.shiftX(e),e=this.flipX(e)}function of(e){return e=this.shrinkY(e),e=this.shiftY(e),e=this.flipY(e)}function af(e){return e=this.flipX(e),e=this.unshiftX(e),e=this.unshrinkX(e)}function sf(e){return e=this.flipY(e),e=this.unshiftY(e),e=this.unshrinkY(e)}function lf(e,t){if(0==this.ghostCellsStep)return this.error("Can't set quadrant","Connected",this.socketOpened,"estabilished",this.estabilished),!1;if(e!==this.quadrant){var n=!1,r=!1,o=this.realQuadrant;return 0==e&&(n=!1,r=!1),0==o?(n=2==e||3==e,r=1==e||2==e):1==o?(n=2==e||3==e,r=0==e||3==e):2==o?(n=1==e||0==e,r=0==e||3==e):3==o&&(n=1==e||0==e,r=1==e||2==e),this.flipCells(n,r),this.mirrorV=n,this.mirrorH=r,this.quadrant=e,!0}}function cf(e,t){for(var n in this.indexedCells){var r=this.indexedCells[n];r.x=t?this.invflipX(r.x):this.flipX(r.x),r.y=e?this.invflipY(r.y):this.flipY(r.y),r.targetX=t?this.invflipX(r.targetX):this.flipX(r.targetX),r.targetY=e?this.invflipY(r.targetY):this.flipY(r.targetY)}}function uf(e,t){void 0===e&&null==t&&(e=this.protocol_viewX,t=this.protocol_viewY);return e<this.mapMidX+5&&e>this.mapMidX-5||t<this.mapMidY+5&&t>this.mapMidY-5?4:e>=this.mapMidX&&t<this.mapMidY?0:e<this.mapMidX&&t<this.mapMidY?1:e<this.mapMidX&&t>=this.mapMidY?2:3}function ff(){this.playerMass=0,this.playerScore=0}function hf(){Object.assign(this.counter,{eatVirus:0,eatPellet:0,counterAll:0,counterShit:0,counterShit2:0,playerSpawnTime:0,counterScore:0})}function df(){for(var e in this.play&&(this.play=!1,this.emit("death",this)),this.ping=0,this.playerAID=0,this.player_protocol_skin="",this.estabilished=!1,this.isFreeSpectate=!1,this.isSpectateEnabled=!1,this.spectateTargetCell=null,this.quadrant=null,this.realQuadrant=null,this.mirrorH=!1,this.mirrorV=!1,this.ghostCellsStep=0,this.mapShrinkW=1,this.mapShrinkH=1,this.bound={left:0,right:0,top:0,bottom:0},this.gameMode=":party",this.modeInt=3,this.ghostCells=[],this.indexedCells){var t=this.indexedCells[e];this.removeCell(t,"delete")}}function pf(){for(var e in this.indexedCells){var t=this.indexedCells[e];this.removeCell(t,"delete")}}function mf(e,t,n,r){if(n-e>14e3&&r-t>14e3||!this.isAgario){if(this.mapOffsetFixed)return;if(this.isAgario){this.mapShrinkW=14142/(n-e),this.mapShrinkH=14142/(r-t),e=this.shrinkX(e,n-e,14142),t=this.shrinkY(t,r-t,14142),n=this.shrinkX(n,n-e,14142),r=this.shrinkY(r,r-t,14142)}this.mapShiftY=0,this.mapShiftX=0;var o=-(n-e)/2-e+0,i=-(r-t)/2-t+0;this.mapShiftX=0-o,this.mapShiftY=0-i,e=this.shiftX(e),t=this.shiftY(t),n=this.shiftX(n),r=this.shiftY(r),this.mapOffsetX=(n-e)/2-n,this.mapOffsetY=(r-t)/2-r,this.mapMinX=e,this.mapMinY=t,this.mapMaxX=n,this.mapMaxY=r,this.mapMidX=(this.mapMaxX+this.mapMinX)/2,this.mapMidY=(this.mapMaxY+this.mapMinY)/2,this.mapSizeH=this.mapMaxX-this.mapMinX,this.mapSizeV=this.mapMaxY-this.mapMinY,this.mapOffsetFixed||(this.viewX=(n+e)/2,this.viewY=(r+t)/2),this.mapOffsetFixed=!0,this.log("World size:",~~this.mapSizeH,"x",~~this.mapSizeV),this.emit("offset",this,this.gameMode,this.mapSizeH,this.mapSizeV,this.mapOffset,this.mapMinX,this.mapMinY,this.mapMaxX,this.mapMaxY,this.mapMidX,this.mapMidY)}else this.viewportMinX=this.receiveX(e),this.viewportMinY=this.receiveY(t),this.viewportMaxX=this.receiveX(n),this.viewportMaxY=this.receiveY(r)}function vf(){this.bound.left=Number.MAX_SAFE_INTEGER,this.bound.right=Number.MIN_SAFE_INTEGER,this.bound.top=Number.MAX_SAFE_INTEGER,this.bound.bottom=Number.MIN_SAFE_INTEGER}function yf(e){this.bound.left>e.targetX-0+e.size&&(this.bound.left=e.targetX-0+e.size),this.bound.right<e.targetX-0-e.size&&(this.bound.right=e.targetX-0-e.size),this.bound.top>e.targetY-0+e.size&&(this.bound.top=e.targetY-0+e.size),this.bound.bottom<e.targetY-0-e.size&&(this.bound.bottom=e.targetY-0-e.size)}function gf(e){var t=e.targetX,n=e.targetY,r=this.bound;return!(t+e.size<r.left||t-e.size>r.right||n+e.size<r.top||n-e.size>r.bottom)}function bf(e){var t=e.x,n=e.y,r=this.bound;return!(t+e.size<r.left||t-e.size>r.right||n+e.size<r.top||n-e.size>r.bottom)}function wf(e){var t=0,n=1,r=this.isAgario?.98:1;if(this.playerCells.length>0){for(var o=this.playerCells.length;o--;)t+=this.playerCells[o].size;n=Math.pow(Math.min(64/(t*r),1),.4000000059604645),this.protocol_spect_scale=n}else{var i=64/Math.pow(this.protocol_spect_scale,2.4999999627470975);n=Math.pow(Math.min(64/(i*r),1),.4000000059604645)}this.viewportW2s=1024/n/2*1.995,this.viewportH2s=600/n/2*1.995,e&&(this.bound.left=this.protocol_viewX-this.viewportW2s,this.bound.top=this.protocol_viewY-this.viewportH2s,this.bound.right=this.protocol_viewX+this.viewportW2s,this.bound.bottom=this.protocol_viewY+this.viewportH2s)}function kf(e,t,n){return!(e+n<this.protocol_viewX-this.viewportW2s||t+n<this.protocol_viewY-this.viewportH2s||e-n>this.protocol_viewX+this.viewportW2s||t-n>this.protocol_viewY+this.viewportH2s)}function _f(e){var t=e.targetX,n=e.targetY,r=e.size;return!(t+r<this.bound.left||n+r<this.bound.top||t-r>this.bound.right||n-r>this.bound.bottom)}function Sf(e,t,n){var r=drawRender.canvasWidth/2/this.scale,o=drawRender.canvasHeight/2/this.scale;return!(e+n<this.viewX-r||t+n<this.viewY-o||e-n>this.viewX+r||t-n>this.viewY+o)}function Cf(e){var t=e.match(/.{8}-.{4}-.{4}-.{4}-.{12}/);return t?t[0]:null}function Tf(e,t){e&&t?(t.targetX=e.x,t.targetY=e.y,t.targetSize=0,t.time=this.time,t.isEaten=!0,t.eatenBy=e,this.removeCell(t,"eat"),Ek.emit("eat",e,t),-1!==this.playerCellIDs.indexOf(e.id)&&(t.isVirus&&this.counter.eatVirus++,t.isFood&&this.counter.eatPellet++,t.isFood||t.isVirus||t.isPlayerFood||this.counter.counterAll++,t.isPlayerCell||t.isVirus||t.isPlayerFood||this.counter.counterShit++),t.isPlayerCell&&0===this.playerCells.length&&this.spectateTo(e),this.spectateTargetCell&&this.calcCellHash(this.spectateTargetCell)===this.calcCellHash(t)&&(this.lastSpectateTargetCellEater=e),t.isVirus&&(this.playerCellsLengthBeforeVirusEat>=16?this.emit("sfx","virusEat",t,this):e.isPlayerCell&&this.emit("sfx","virusPop",t,this))):(t.eatenBy=t,this.removeCell(t,"eat"))}function xf(){this.removePlayerCell=!1,this.playerCellsLengthBeforeVirusEat=this.playerCells.length}function Pf(){if(16===this.playerCellsLengthBeforeVirusEat&&this.playerCellIDs.length<16&&this.emit("sfx","non16",null,this),r.o.mergeIndicator&&1===this.playerCells.length&&(this.playerCells[0].cellTimeSplit=0),this.removePlayerCell&&!this.playerCells.length&&(this.play=!1,this.isSpectateEnabled=!1,this.emit("death",this)),this.isAgario&&!this.isRaga)this.calcViewport(!0);else{this.updateBound();for(var e=this.food.length;e--;)this.updateStaticBound(this.food[e]);for(var t=this.cells.length;t--;)this.updateStaticBound(this.cells[t])}this.compareCells(),0==this.play&&null!==this.spectateTargetCell&&this.calculateSpectateTarget()}function Mf(e){this.beforeUpdateCells();for(var t=e.readUInt16(),n=0;n<t;n++){var i=e.readUInt32(),a=this.indexedCells[i],s=e.readUInt32(),l=this.indexedCells[s];this.eatCellEvent(a,l)}for(;;){var c=e.readUInt32();if(0==c)break;var u=!1,f=null,h=null,d=null,p=null,m=null,v="",y=!1,g=!1,b=null,w=null,k=null,_=this.receiveX(e.readInt32()),S=this.receiveY(e.readInt32()),C=e.readUInt16(),T=e.readUInt8(),x=128&T?e.readUInt8():0;if(1&T&&(y=!0),2&T){var P=e.readUInt8(),M=e.readUInt8(),I=e.readUInt8();p=this.rgb2Hex(~~(.9*P),~~(.9*M),~~(.9*I)),d=this.colorParserAT(P<<16|M<<8|I)}4&T&&(m=e.readUTF8StringZero()),8&T&&(v=decodeURIComponent(escape(e.readUTF8StringZero()))),16&T&&this.log(T,"agitated"),32&T&&(b=!0),64&T&&(w=!0),1&x&&(g=!0),4&x&&(k=e.readUInt32(),3!==this.modeInt&&5!==this.modeInt&&(d=this.HSLToHex(Math.abs((k%360<<314159)%360),100,51),p=this.HSLToHex(Math.abs((k%360<<314159)%360),95,46)));var O=g?"food":y?"virus":"cell";this.isRaga&&v.indexOf("raga")>-1&&(v="Ɗxʟtᴀ⚡Ꮢᴀɢⱻ"),this.indexedCells[c]?f=this.indexedCells[c]:(u=!0,b&&!w&&(h=this.playerColor),(f=new Fc(this,O,c,_,S,C,d,p,g,y)).color=d,f.isPlayerFood=b,f.isOtherFood=w,f.cellTimeSplit=o.a.runtime,r.o.mergeIndicator&&0===this.playerCells.length&&(f.cellTimeSplit=0),g?(f.foodSize=f.size+r.t.foodSize,this.food.push(f)):(y&&r.o.virusesRange&&this.viruses.push(f),this.cells.push(f),b&&!w&&this.emit("sfx","myEject",f)),this.indexedCells[c]=f);//!isFood && isNewCell && console.log(flags&16,flags&32,flags&64,flags&128,flags&256,flags&512,flags&1024,'|',extendedFlags&1,extendedFlags&2,extendedFlags&4,extendedFlags&8,extendedFlags&16,extendedFlags&32,extendedFlags&64,extendedFlags&128,extendedFlags&256,extendedFlags&512)
var R=this.playerCellIDs.indexOf(c)>-1;if(R&&(f.isPlayerCellID=R),R&&-1==this.playerCells.indexOf(f)&&(f.isPlayerCell=!0,this.playerColor=h,this.secureColor=p,this.playerCells.push(f),this.emit("appearPlayerCell",f),!this.play)){this.resetCounter(),this.counter.playerSpawnTime=this.time,this.play=!0,this.emit("spawn:before",this);var U,A=lc(r.q);try{for(A.s();!(U=A.n()).done;){var E=U.value,L=this.profile.skinURL.match(E.regexp);L&&Texture.cacheKey(this.profile.nick+p,L[0])}}catch(e){A.e(e)}finally{A.f()}this.calculatePlayerMassAndPosition(),r.s.pause&&this.resetTargetPosition(),this.emit("spawn",this)}if(!f.isFood&&!f.isVirus&&null===f.playerOriginTab){var F=null!==k?this.parent.findPlayerOrigin(k,!0):this.parent.findPlayerOrigin(c,!1);null!==F&&(f.playerOriginTab=F)}k&&(f.accountID=k,f.isPlayerCell&&(m&&(this.player_protocol_skin=m),this.playerAID=k),this.cellAID.hasOwnProperty(k)?this.cellAID[k].push(c):this.cellAID[k]=[c]),f.isPlayerCell&&(v=this.playerNick),v&&(f.targetNick=v,f.nameSkin=v.toLowerCase(),f.hasVanillaNamedSkin=Texture.vanillaSkinMap.get(f.nameSkin)),f.targetX=_,f.targetY=S,f.isPlayerCell&&f.calcAnti(C),f.isVirus&&f.targetSize!=C&&f.size<148&&this.emit("sfx","virusFeed",f,this),f.targetSize=C,f.isFood=g,f.isVirus=y,m&&(f.hasVanillaCustomSkin=m.indexOf("%custom")>-1,f.skin=m.replace(/level_\d/,"level_1"),f.skinUserId=this.getCustomSkinId(m)),u&&this.emit("newCell",f)}var j=e.readUInt16();for(n=0;n<j;n++){var D=e.readUInt32(),B=this.indexedCells[D];B&&this.removeCell(B,"delete")}this.afterUpdateCells()}function If(e,t){e.removed=!0,e.fadeOutStartTime=o.a.runtime,o.a.runtime;var n=this.cells.indexOf(e);if(-1!=n){if(this.cells.splice(n,1),this.cellAID.hasOwnProperty(e.accountID)){var i=this.cellAID[e.accountID].indexOf(e.id);-1!=i&&(this.cellAID[e.accountID].splice(i,1),0==this.cellAID[e.accountID].length&&delete this.cellAID[e.accountID])}r.o.virusesRange&&-1!=(n=this.viruses.indexOf(e))&&this.viruses.splice(n,1)}else-1!=(n=this.food.indexOf(e))&&this.food.splice(n,1);-1!=(n=this.playerCells.indexOf(e))&&(this.removePlayerCell=!0,this.playerCells.splice(n,1),-1!=(n=this.playerCellIDs.indexOf(e.id))&&this.playerCellIDs.splice(n,1)),e.redrawed,e.onRemove(),this.emit("removeCell",e,t),delete this.indexedCells[e.id]}function Of(e){for(e=e.toString(16);e.length<6;)e="0"+e;return"#"+e}function Rf(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function Uf(e,t,n){return"#"+this.color2Hex(e)+this.color2Hex(t)+this.color2Hex(n)}function Af(e,t,n){t/=100,n/=100;var r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e/60%2-1)),i=n-r/2,a=0,s=0,l=0;return 0<=e&&e<60?(a=r,s=o,l=0):60<=e&&e<120?(a=o,s=r,l=0):120<=e&&e<180?(a=0,s=r,l=o):180<=e&&e<240?(a=0,s=o,l=r):240<=e&&e<300?(a=o,s=0,l=r):300<=e&&e<360&&(a=r,s=0,l=o),a=Math.round(255*(a+i)).toString(16),s=Math.round(255*(s+i)).toString(16),l=Math.round(255*(l+i)).toString(16),1==a.length&&(a="0"+a),1==s.length&&(s="0"+s),1==l.length&&(l="0"+l),"#"+a+s+l}function Ef(e,t){return e.size==t.size?e.id-t.id:e.size-t.size}function Lf(){this.cells.sort(Ef)}function Ff(e){return e.isVirus||e.isFood?e.protocol_color:this.isAgario?e.accountID:e.targetNick+e.protocol_color}function jf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.spectateTargetCell,t=this.calcCellHash(e),n=0,o=0,i=0,a=0,s=0,l=0,c=this.cells.length;c--;){var u=this.cells[c];t===this.calcCellHash(u)&&(l++,u.size,n+=u.targetSize,u.x,u.y,o+=u.targetX,i+=u.targetY,u.x*u.size,u.y*u.size,a+=u.targetX*u.targetSize,s+=u.targetY*u.targetSize)}l>0?(l,l,o/=l,i/=l,r.o.centerWeightCamera?(this.targetX=a/n,this.targetY=s/n):(this.targetX=o,this.targetY=i)):this.lastSpectateTargetCellEater&&this.spectateTo(this.lastSpectateTargetCellEater)}function Df(){for(var e=0,t=0,n=0,o=0,i=0,a=0,s=0,l=0,c=this.playerCells.length,u=c;u--;){var f=this.playerCells[u];e+=f.size,t+=f.targetSize*f.targetSize,n+=f.x,o+=f.y,i+=f.targetX,a+=f.targetY,s+=f.x*f.size,l+=f.y*f.size}n/=c,o/=c,i/=c,a/=c,r.o.centerWeightCamera?(this.viewX=s/e,this.viewY=l/e):(this.viewX=n,this.viewY=o),this.protocol_viewX=i,this.protocol_viewY=a,this.playerSize=e,this.playerMass=~~(t/100),this.recalculatePlayerMass()}function Bf(e,t){return e.size==t.size?e.id-t.id:e.size-t.size}function zf(){if(this.playerScore=this.counter.counterScore=Math.max(this.playerScore,this.playerMass),r.o.virColors||r.o.splitRange||r.o.oppColors||r.o.oppRings||r.o.showStatsSTE){var e=this.playerCells,t=this.playerCells.length;e.sort(Bf),this.playerMinMass=~~(e[0].size*e[0].size/100),this.playerMaxMass=~~(e[t-1].size*e[t-1].size/100),this.playerSplitCells=t}if(r.o.showStatsSTE){var n=r.s.selectBiggestCell?this.playerMaxMass:this.playerMinMass;this.STE=n>35?~~(n*(n<1e3?.35:.38)):null}}function Nf(){if(this.play&&(r.o.oppColors||r.o.oppRings||r.o.splitRange)){(r.o.oppRings||r.o.splitRange)&&(this.biggerHSTECellsCache=[],this.biggerDSTECellsCache=[],this.biggerSTECellsCache=[],this.biggerCellsCache=[],this.equalCellsCache=[],this.smallerCellsCache=[],this.smallerSTECellsCache=[],this.smallerDSTECellsCache=[],this.smallerHSTECellsCache=[]);var e,t=lc(this.cells);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!n.isVirus){var o=n.size*n.size/100/(r.s.selectBiggestCell?this.playerMaxMass:this.playerMinMass);r.o.oppColors&&!n.isPlayerCell&&(n.oppColor=this.setCellOppColor(n.isPlayerCell,o)),n.isPlayerCell||!r.o.splitRange&&!r.o.oppRings||this.cacheCells(n,o)}}}catch(e){t.e(e)}finally{t.f()}}}function Hf(e,t){return t>=4/3*8?this.biggerHSTECellsCache.push(e):t>=4/3*4?this.biggerDSTECellsCache.push(e):t>=4/3*2?this.biggerSTECellsCache.push(e):t>=4/3?this.biggerCellsCache.push(e):t<.75/8?this.smallerHSTECellsCache.push(e):t<.1875?this.smallerDSTECellsCache.push(e):t<.375?this.smallerSTECellsCache.push(e):t<.75?this.smallerCellsCache.push(e):this.equalCellsCache.push(e)}function Gf(e,t){return t>=4/3*8?r.t.bHSTEColor:t>=4/3*4?r.t.bDSTEColor:t>=4/3*2?r.t.bSTEColor:t>=4/3?r.t.bColor:t<.75/8?r.t.sHSTEColor:t<.1875?r.t.sDSTEColor:t<.375?r.t.sSTEColor:t<.75?r.t.sColor:r.t.eColor}function qf(e,t){this.targetX=e-this.mapOffsetX,this.targetY=t-this.mapOffsetY,this.targetDistance=Math.round(Math.sqrt(Math.pow(this.playerX-this.targetX,2)+Math.pow(this.playerY-this.targetY,2)))}function Xf(e,t){for(var n=this.cells.length;n--;){var r=this.cells[n],o=r.targetX,i=r.targetY,a=r.targetSize;if((e-o)*(e-o)+(t-i)*(t-i)<=a*a)return r}}function Wf(){if(this.protocol.hasPause)return this.protocol.sendPause(!0);this.targetX=this.protocol_viewX,this.targetY=this.protocol_viewY}function Yf(){this.emit("removeEvents")}function Vf(){return this.ws}var $f=function(e){uc(i,e);var t,n=hc(i);function i(e,t,a){var s;vc(this,i);(s=n.call(this)).tabName=a,s.ID=bc++,s.TYPE=t,s.indexPosition=null,s.parent=e,s.isDebug=!0,Object(r.a)(!0,pc(s),"[[35mClient "+s.ID+"[39m]:"),s.profile=new tu,s.mobileData=new lr(pc(s)),s.protocol=null,s.socket=null,s.socketOpened=!1,s.connectionTime=new Date,s.ws=null,s.time=o.a.runtime,s._mouseClientX=0,s._mouseClientY=0,s._scale=1,s._camX=0,s._camY=0,s.isAgario=!0,s.isFreeSpectate=!1,s.isSpectateEnabled=!1,s.spectateTargetCell=null,s.lastSpectateTargetCellEater=null,s.totalPps=0,s.ppsLastRequest=null,s.pps=0,s.ping=0,s.gameMode=null,s.modeInt=3,s.gotCaptcha=!1,s.gotCaptchа=!1,s.estabilished=!1,s.accessTokenSent=!1,s.loggedIn=!1,s.serverTime=0,s.serverTimeDiff=0,s.loggedInTime=0,s.quadrant=null,s.realQuadrant=null,s.quadrantPriorityFix=0,s.mirrorV=!1,s.mirrorH=!1,s.ghostCellsStep=0,s.mapSizeH=14142,s.mapSizeV=14142,s.mapOffset=7071,s.mapOffsetX=0,s.mapOffsetY=0,s.mapShiftX=0,s.mapShiftY=0,s.mapOffsetFixed=!1,s.mapMinX=-7071,s.mapMinY=-7071,s.mapMaxX=7071,s.mapMaxY=7071,s.mapShrinkW=1,s.mapShrinkH=1,s.mapMidX=0,s.mapMidY=0,s.viewMinX=0,s.viewMinY=0,s.viewMaxX=0,s.viewMaxY=0,s.camMaxX=0,s.camMaxY=0,s.camMinX=0,s.camMinY=0,s.staticX=0,s.staticY=0,s.bound={left:0,right:0,top:0,bottom:0},s.viewportW2s=0,s.viewportH2s=0,s.cellAID={},s.indexedCells={},s.cells=[],s.removedCells=[],s.food=[],s.viruses=[],s.playerCells=[],s.playerCellIDs=[],s.ghostCells=[],s.playerX=0,s.playerY=0,s.playerSize=0,s.playerMass=0,s.playerMaxMass=0,s.playerMinMass=0,s.playerScore=0,s.playerSplitCells=0,s.playerAID=0,s.player_protocol_skin="",s.playerColor=null,s.color=null,s.playerNick="",s.playerPosition=0,s.leaderboard=[],s.biggerHSTECellsCache=[],s.biggerDSTECellsCache=[],s.biggerSTECellsCache=[],s.biggerCellsCache=[],s.smallerCellsCache=[],s.smallerSTECellsCache=[],s.smallerDSTECellsCache=[],s.smallerHSTECellsCache=[],s.scale=1,s.viewX=0,s.viewY=0,s.protocol_spect_scale=1.995,s.protocol_viewX=0,s.protocol_viewY=0,s._danceTimer=0,s._danceStep=0,s._cursorLocked=!1,s.cursorX=0,s.cursorY=0,s.targeting=!1,s.targetX=0,s.targetY=0,s.targetDistance=0,s.battleRoyale={state:0,players:0,startTime:0,shrinkTime:0,timeLeft:0,x:0,y:0,radius:0,targetX:0,targetY:0,targetRadius:0,maxRadius:11313,rank:[],playerRank:0,joined:!1},s.play=!1,s.pause=!1,s.removePlayerCell=!1,s.playerCellsLengthBeforeVirusEat=0,s.splitCount=0;return s.counter=new r.c({eatVirus:0,eatPellet:0,counterAll:0,counterShit:0,counterShit2:0,playerSpawnTime:0,counterScore:0}),s.resetCounter(),s.on("death",(function(){s.resetPlayerStats(),s.protocol.onDeath(r.s)})),s.on("spawn",(function(){return s.protocol.onSpawn(r.s)})),s.initMainEvents(),s.initPlayerEvents(),s.on("removeEvents",(function(){s.unlisten(),clearInterval(s._danceTimer)})),s}return gc(i,[{key:"initMainEvents",value:nu},{key:"initPlayerEvents",value:ru},{key:"gPlayerX",value:ou},{key:"gPlayerY",value:iu},{key:"connect",value:lu()},{key:"disconnect",value:cu},{key:"onOpen",value:fu},{key:"sleep",value:hu},{key:"onError",value:du},{key:"onClose",value:pu},{key:"closeConnection",value:mu},{key:"isSocketOpen",value:vu},{key:"writeUint32",value:yu},{key:"createView",value:gu},{key:"sendBuffer",value:bu},{key:"sendMessage",value:wu},{key:"spectateTo",value:ku},{key:"spectatePoint",value:_u},{key:"sendSpectate",value:Su},{key:"sendFreeSpectate",value:Cu},{key:"sendMacro",value:Tu},{key:"sendBotMacro",value:xu},{key:"sendEject",value:Pu},{key:"sendSplit",value:Mu},{key:"sendNick",value:Iu},{key:"sendCursorPosition",value:Ou},{key:"sendAccessToken",value:(t=sc(regeneratorRuntime.mark(Ru)),function(e,n,r){return t.apply(this,arguments)})},{key:"sendFbToken",value:Uu},{key:"sendGplusToken",value:Au},{key:"sendRecaptcha",value:Eu},{key:"sendRecaptchа",value:Lu},{key:"sendFacebookData",value:Fu},{key:"proxyMobileData",value:ju},{key:"decompressMessage",value:Du},{key:"handleMessage",value:Nu},{key:"disconnectMessage",value:Hu},{key:"countPps",value:Gu},{key:"handleCompressedMessage",value:qu},{key:"unshrinkX",value:Xu},{key:"unshrinkY",value:Wu},{key:"shrinkX",value:Yu},{key:"shrinkY",value:Vu},{key:"unshiftX",value:$u},{key:"unshiftY",value:Ku},{key:"shiftX",value:Zu},{key:"shiftY",value:Qu},{key:"invflipX",value:Ju},{key:"invflipY",value:ef},{key:"flipX",value:tf},{key:"flipY",value:nf},{key:"receiveX",value:rf},{key:"receiveY",value:of},{key:"serverX",value:af},{key:"serverY",value:sf},{key:"setQuadrant",value:lf},{key:"flipCells",value:cf},{key:"calcQuadrant",value:uf},{key:"resetPlayerStats",value:ff},{key:"resetCounter",value:hf},{key:"flushGameData",value:df},{key:"flushCells",value:pf},{key:"setMapOffset",value:mf},{key:"updateBound",value:vf},{key:"updateStaticBound",value:yf},{key:"isInViewHSLO",value:gf},{key:"isInViewGhost",value:bf},{key:"calcViewport",value:wf},{key:"isInViewport",value:kf},{key:"isInViewport2",value:_f},{key:"isInView",value:Sf},{key:"getCustomSkinId",value:Cf},{key:"eatCellEvent",value:Tf},{key:"beforeUpdateCells",value:xf},{key:"afterUpdateCells",value:Pf},{key:"updateCells",value:Mf},{key:"removeCell",value:If},{key:"colorParserAT",value:Of},{key:"color2Hex",value:Rf},{key:"rgb2Hex",value:Uf},{key:"HSLToHex",value:Af},{key:"sortCellsBySize",value:Lf},{key:"calcCellHash",value:Ff},{key:"calculateSpectateTarget",value:jf},{key:"calculatePlayerMassAndPosition",value:Df},{key:"recalculatePlayerMass",value:zf},{key:"compareCells",value:Nf},{key:"cacheCells",value:Hf},{key:"setCellOppColor",value:Gf},{key:"setTargetPosition",value:qf},{key:"findCell",value:Xf},{key:"resetTargetPosition",value:Wf},{key:"removeEvents",value:Yf},{key:"lastws",get:Vf}]),i}(r.d);function Kf(e){if(0===r.t.cellBrightness&&0===r.t.cellSaturation)return e;if(this.cache.has(e))return(n=this.cache.get(e)).lastused=o.a.runtime,n.color;(t=tinycolor(e)).brighten(r.t.cellBrightness),t.saturate(r.t.cellSaturation);var t,n={color:t=t.toHexString(),lastused:o.a.runtime};return this.cache.set(e,n),t}function Zf(e,t){var n=null;if(this.cache.has(e+t))return(n=this.cache.get(e+t)).lastused=o.a.runtime,n.color;var r=tinycolor(e);switch(t){case"cellcolor":n={color:{r:r._r,g:r._g,b:r._b,alpha:r._a},lastused:o.a.runtime};break;case"cursor":n={color:{decimal:this.rgba2int(r._r,r._g,r._b,r._a),alpha:r._a},lastused:o.a.runtime};break;case"stroke":n={color:{string:r.darken(6).toHexString()},lastused:o.a.runtime}}return this.cache.set(e+t,n),n.color}function Qf(e,t,n,r){return(e<<16)+(t<<8)+n}function Jf(){this.cache.clear()}function eh(){var e=this;this.cache.forEach((function(t,n){o.a.runtime-t.lastused>e.cacheLife&&e.cache.delete(n)}))}var th=window.colorCache=new(function(){function e(){var t=this;vc(this,e),this.cacheLife=3e4,this.cache=new Map,setInterval((function(){t.cleaner()}),5e3)}return gc(e,[{key:"colorTransformCallBack",value:Kf},{key:"colorAnyTransformCallBack",value:Zf},{key:"rgba2int",value:Qf},{key:"clear",value:Jf},{key:"cleaner",value:eh}]),e}());function nh(e){return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rh=Symbol("target"),oh=Symbol("unsubscribe"),ih=function(e){return null===e||"object"!==nh(e)&&"function"!=typeof e},ah=function(e){return e instanceof RegExp||e instanceof Number},sh=function(e){return e instanceof Date},lh=function(e,t){return void 0!==e&&void 0!==t&&Object.is(e.value,t.value)&&(e.writable||!1)===(t.writable||!1)&&(e.enumerable||!1)===(t.enumerable||!1)&&(e.configurable||!1)===(t.configurable||!1)},ch=function(e,t){return t&&t.toString&&(e&&(e+="."),e+=t.toString()),e},uh=function(e,t){for(var n;e;)-1===(n=e.indexOf("."))&&(n=e.length),t(e.slice(0,n)),e=e.slice(n+1)},fh=function(e){return Array.isArray(e)?e.slice():Object.assign({},e)},hh=function(e,t){var n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Symbol("ProxyTarget"),s=!1,l=!1,c=!1,u=i.equals||Object.is,f=new WeakMap,h=new WeakMap,d=new WeakMap,p=function(e,r,i,a){if(!c)if(s){if(s&&o&&void 0!==i&&void 0!==a&&"length"!==r){var u=o;e!==n&&(e=e.replace(n,"").slice(1),uh(e,(function(e){u[e]=fh(u[e]),u=u[e]}))),u[r]=i}l=!0}else{var f=ch(e,r);t(f,a,i)}},m=function(e,t){var n=null!==f&&f.get(e);if(n&&(n=n.get(t)),n)return n;n=new Map,f.set(e,n);var r=n.get(t);return r||(r=Reflect.getOwnPropertyDescriptor(e,t),n.set(t,r)),r},v=function(e,t){var n=f?f.get(e):void 0;n&&n.delete(t)},y=function(e,t){if(c)return e;h.set(e,t);var n=d.get(e);return void 0===n&&(n=new Proxy(e,w),d.set(e,n)),n},g=function(e){return c=!0,f=null,h=null,d=null,e},b=function(e){return c||!0===i.ignoreSymbols&&"symbol"===nh(e)||!0===i.ignoreUnderscores&&"_"===e.charAt(0)||void 0!==i.ignoreKeys&&i.ignoreKeys.includes(e)},w={get:function(e,t,n){if(e.events||Object(r.l)(e),t===a||t===rh)return e;if(t===oh&&null!==h&&""===h.get(e))return g(e);var o=Reflect.get(e,t,n);if(ih(o)||ah(o)||"constructor"===t||!0===i.isShallow||b(t))return o;var s=m(e,t);if(s&&!s.configurable){if(!0===s.writable&&Object(r.l)(e),s.set&&!s.get)return;if(!1===s.writable)return o}return y(o,ch(h.get(e),t))},set:function(e,t,n,r){n&&void 0!==n[a]&&(n=n[a]);var o=b(t),i=o?null:Reflect.get(e,t,r),s=!0;return(!(t in e)||!u(i,n))&&(s=Reflect.set(e[a]||e,t,n),!o&&s&&p(h.get(e),t,i,n)),s},defineProperty:function(e,t,n){var r=!0;return lh(n,m(e,t))||!(r=Reflect.defineProperty(e,t,n))||b(t)||lh()||(v(e,t),p(h.get(e),t,void 0,n.value)),r},deleteProperty:function(e,t){if(!Reflect.has(e,t))return!0;var n=b(t),r=n?null:Reflect.get(e,t),o=Reflect.deleteProperty(e,t);return!n&&o&&(v(e,t),p(h.get(e),t,r)),o},apply:function(e,t,r){var i=sh(t);if(i&&(t=t[a]),!s){s=!0,i&&(o=t.valueOf()),(Array.isArray(t)||"[object Object]"===toString.call(t))&&(o=fh(t[a])),n=(n=h.get(e)).slice(0,Math.max(n.lastIndexOf("."),0));var c=Reflect.apply(e,t,r);return s=!1,(l||i&&!u(o,t.valueOf()))&&(p(n,"",o,t[a]||t),o=null,l=!1),c}return Reflect.apply(e,t,r)}},k=y(e,"");return t=t.bind(k),k};function dh(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ph(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dh(i,r,o,a,s,"next",e)}function s(e){dh(i,r,o,a,s,"throw",e)}a(void 0)}))}}function mh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vh(e){var t=e.ident,n=e.url;i.a.vanillaSkinMap.set("%"+t,n+"")}function yh(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.configLoaded){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.loadConfig();case 5:e=t.sent,e.skins.forEach(vh),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}}),yh,this,[[2,10]])}function gh(e){return e.json()}function bh(){}function wh(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://minions.raga.pw/ragamode/config",{cache:"no-store"}).then(gh).catch(bh);case 2:if(e=t.sent){t.next=7;break}return t.abrupt("return",Promise.reject());case 7:return this.configLoaded=!0,t.abrupt("return",{gameModes:e.gameModes,skins:e.skins,shops:e.shops});case 9:case"end":return t.stop()}}),wh,this)}function kh(){var e,t,n=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"ragaffa-16x",this.loadTextures(),r.next=4,fetch("https://minions.raga.pw/ragamode/findServer",{cache:"no-store",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"gameMode="+e});case 4:return t=r.sent,r.next=7,t.text();case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),kh,this)}hh.target=function(e){return e[rh]||e},hh.unsubscribe=function(e){return e[oh]||e};var _h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configLoaded=!1}var t,n,r,o,i,a;return t=e,(n=[{key:"loadTextures",value:(a=ph(regeneratorRuntime.mark(yh)),function(){return a.apply(this,arguments)})},{key:"loadConfig",value:(i=ph(regeneratorRuntime.mark(wh)),function(){return i.apply(this,arguments)})},{key:"findServer",value:(o=ph(regeneratorRuntime.mark(kh)),function(){return o.apply(this,arguments)})}])&&mh(t.prototype,n),r&&mh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Sh(e){return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ch(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Th(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ch(i,r,o,a,s,"next",e)}function s(e){Ch(i,r,o,a,s,"throw",e)}a(void 0)}))}}function xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rh(e);if(t){var o=Rh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ih(this,n)}}function Ih(e,t){if(t&&("object"===Sh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rh(e){return(Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uh(e){var t,n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(t=new Set,n=[],r=e.length;r--;)t.has(e[r].guid)||(n.push(e[r]),t.add(e[r].guid));return o.next=6,Parse.Cloud.run("processUserData",n);case 6:case"end":return o.stop()}}),Uh)}function Ah(e){return!(this.backend.storage[e]&&new Date-new Date(this.backend.storage[e])<this.backend.storage.processUserDataInterval)&&(this.backend.storage[e]=new Date,!0)}function Eh(e){return setTimeout(e,500)}function Lh(e){return setTimeout(e,500)}function Fh(){}function jh(){var e=this;this.app.on("initClient",(function(t){function n(r){var o,i;function a(e){for(var t=r[e].length,n=null;t--;)n=r[e][t],o.push({countryCode:n.countryCode,displayName:n.displayName,level:n.lvl,trophies:n.trophies,guid:n.userId,realm:n.realmInfo.realm,realmId:n.realmInfo.realmId,avatarUrl:n.realmInfo.avatarUrl})}return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=a,n.next=3,new Promise(Eh);case 3:if(e.syncPossible(t.mobileData.userInfo.userId+".LeaguesLastSync")){n.next=5;break}return n.abrupt("return");case 5:return e.log("Syncronization..."),o=[],i("country"),i("friends"),i("league"),i("world"),n.next=13,e.batchUpdateUsers(o);case 13:e.log("Syncronization done");case 14:case"end":return n.stop()}}),n)}function r(n){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.syncPossible(t.mobileData.userInfo.userId+".UserLastSync")){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,new Promise(Lh);case 4:o={countryCode:n.userInfo.latestCountryCode,displayName:n.userInfo.displayName,level:n.userInfo.level,accountAge:n.userInfo.accountAge,accountBirthDate:new Date,paying:n.userInfo.isPayingUser,potions:n.userInfo.actionCounters.potionsObtained,skins:n.userInfo.actionCounters.skinsCreated,quests:n.userInfo.actionCounters.questsCompleted,trophies:t.mobileData.UserWallet.amount("trophy"),guid:n.userInfo.userId,realm:n.userInfo.realmInfo.realm,realmId:n.userInfo.realmInfo.realmId,avatarUrl:n.userInfo.realmInfo.avatarUrl,score:n.userStats.allTimeScore,played:n.userStats.gamesPlayed,mass:n.userStats.highestMass,alive:n.userStats.longestTimeAlive,totalMass:n.userStats.massConsumed,cellsEaten:n.userStats.mostCellsEaten},e.batchUpdateUsers([o]);case 6:case"end":return r.stop()}}),r)}t.mobileData.once("userLeaguesInfoResponseField",function(){var e=Th(regeneratorRuntime.mark(n));return function(t){return e.apply(this,arguments)}}()),t.mobileData.once("loginResponseField",function(){var e=Th(regeneratorRuntime.mark(r));return function(t){return e.apply(this,arguments)}}()),t.on("removeEvents",Fh)}))}window.RagaApi=_h;var Dh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ph(e,t)}(s,e);var t,n,o,i,a=Mh(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).app=e.app,t.backend=e,t.isDebug=!0,Object(r.a)(!0,Oh(t),"[[96mBackend:LbSync[39m]:"),t.initEvents(),t}return t=s,(n=[{key:"batchUpdateUsers",value:(i=Th(regeneratorRuntime.mark(Uh)),function(e){return i.apply(this,arguments)})},{key:"syncPossible",value:Ah},{key:"initEvents",value:jh}])&&xh(t.prototype,n),o&&xh(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.d);function Bh(e){var t=Vh,n={ammoF:function(e,t){return e==t},BltAz:t(334),AIoPX:function(e,t){return e===t},InwwB:function(e,t){return e!==t},dIUjt:t(434),pdMDz:function(e,t){return e==t},avJrU:function(e,t){return e==t},fsptY:function(e,t){return e(t)}};return Bh=n[t(494)](n[t(383)],typeof Symbol)&&n[t(468)](n[t(423)],typeof Symbol[t(326)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(290)](n[r(383)],typeof Symbol)&&n[r(303)](e[r(465)+"r"],Symbol)&&n[r(361)](e,Symbol[r(470)])?n[r(423)]:typeof e},n[t(314)](Bh,e)}function zh(e,t){var n=Vh,r={FnyBD:function(e,t){return e instanceof t},LNBlr:n(373)+n(459)+n(357)+n(405)};if(!r[n(336)](e,t))throw new TypeError(r[n(395)])}function Nh(e,t){for(var n=Vh,r={KPtcx:function(e,t){return e<t},cBAJb:n(445),BjYPq:function(e,t){return e in t},VSRGC:n(312)},o=0;r[n(300)](o,t[n(291)]);o++)for(var i=r[n(329)][n(344)]("|"),a=0;;){switch(i[a++]){case"0":s[n(315)+"le"]=!0;continue;case"1":var s=t[o];continue;case"2":r[n(351)](r[n(490)],s)&&(s[n(487)]=!0);continue;case"3":s[n(370)]=s[n(370)]||!1;continue;case"4":Object[n(441)+n(325)](e,s[n(416)],s);continue}break}}function Hh(e,t,n){var r=Vh,o={AMmfy:function(e,t,n){return e(t,n)},HdbDZ:function(e,t,n){return e(t,n)},FcKIA:r(470)};return t&&o[r(360)](Nh,e[r(470)],t),n&&o[r(359)](Nh,e,n),Object[r(441)+r(325)](e,o[r(286)],{writable:!1}),e}function Gh(e,t){var n=Vh,r={REYCE:function(e,t){return e!==t},CGDAV:n(334),DaggD:n(474)+n(452)+n(338)+n(486)+n(403),HnRLa:n(470),jzpzf:function(e,t,n){return e(t,n)}};if(r[n(497)](typeof t,r[n(363)])&&r[n(497)](t,null))throw new TypeError(r[n(364)]);e[n(470)]=Object[n(297)](t&&t[n(470)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(441)+n(325)](e,r[n(327)],{writable:!1}),t&&r[n(404)](qh,e,t)}function qh(e,t){var n=Vh;return qh=Object[n(429)+n(489)]||function(e,t){return e[n(342)]=t,e},{iDdAn:function(e,t,n){return e(t,n)}}[n(414)](qh,e,t)}function Xh(e){var t=Vh,n={hcDjo:function(e,t){return e(t)},ydYQY:function(e,t){return e(t)},ZNCTv:function(e,t,n){return e(t,n)},CByjK:function(e){return e()}},r=n[t(479)]($h);return function(){var o,i=t,a=n[i(337)](Kh,e);if(r){var s=n[i(295)](Kh,this)[i(465)+"r"];o=Reflect[i(385)](a,arguments,s)}else o=a[i(451)](this,arguments);return n[i(377)](Wh,this,o)}}function Wh(e,t){var n=Vh,r={ffBnc:function(e,t){return e===t},WvoGb:function(e,t){return e(t)},gBNIp:n(353),Hfpgm:n(334),fuszo:function(e,t){return e!==t},vkfoB:n(316)+n(348)+n(362)+n(333)+n(332)+n(367)};if(t&&(r[n(340)](r[n(284)](Bh,t),r[n(368)])||r[n(340)](typeof t,r[n(415)])))return t;if(r[n(427)](t,void 0))throw new TypeError(r[n(350)]);return r[n(284)](Yh,e)}function Yh(e){var t=Vh,n={rUzEx:function(e,t){return e===t},YkjEZ:t(293)+t(418)+t(317)+t(409)+t(444)+t(447)};if(n[t(354)](e,void 0))throw new ReferenceError(n[t(369)]);return e}function Vh(e,t){var n=bd();return(Vh=function(e,t){return n[e-=276]})(e,t)}function $h(){var e=Vh,t={kgTeY:function(e,t){return e===t},bDLho:e(450),wfXHn:function(e,t){return e===t},wAOIl:e(334)};if(t[e(393)](typeof Reflect,t[e(341)])||!Reflect[e(385)])return!1;if(Reflect[e(385)][e(380)])return!1;if(t[e(424)](typeof Proxy,t[e(484)]))return!0;try{return Boolean[e(470)][e(428)][e(358)](Reflect[e(385)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kh(e){var t=Vh;return Kh=Object[t(429)+t(489)]?Object[t(306)+t(489)]:function(e){var n=t;return e[n(342)]||Object[n(306)+n(489)](e)},{NKKRu:function(e,t){return e(t)}}[t(376)](Kh,e)}function Zh(e,t,n){var r=Vh;return{zDVss:function(e,t){return e in t}}[r(339)](t,e)?Object[r(441)+r(325)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qh(e,t){var n=Vh,r={FmfDk:function(e,t,n,r){return e(t,n,r)},uwEJN:n(355),FRawe:function(e,t,n){return e(t,n)}},o=r[n(330)](td,e,t,r[n(457)]);return r[n(299)](Jh,e,o)}function Jh(e,t){var n=Vh;return t[n(355)]?t[n(355)][n(358)](e):t[n(312)]}function ed(e,t,n){var r=Vh,o={iCfgS:function(e,t,n,r){return e(t,n,r)},bGyAq:r(406)},i=o[r(426)](td,e,t,o[r(382)]);return o[r(426)](nd,e,i,n),n}function td(e,t,n){var r=Vh,o={xxMRi:function(e,t){return e+t},jJich:function(e,t){return e+t},kOZDX:r(485)+r(375),bMJjT:r(313)+r(277)+r(402)};if(!t[r(320)](e))throw new TypeError(o[r(453)](o[r(446)](o[r(475)],n),o[r(292)]));return t[r(355)](e)}function nd(e,t,n){var r=Vh,o={HbmRk:r(485)+r(472)+r(488)+r(407)};if(t[r(406)])t[r(406)][r(358)](e,n);else{if(!t[r(487)])throw new TypeError(o[r(439)]);t[r(312)]=n}}!function(e,t){for(var n=Vh,r=e();;)try{if(831470===parseInt(n(456))/1*(parseInt(n(386))/2)+parseInt(n(387))/3+parseInt(n(437))/4+parseInt(n(394))/5+parseInt(n(442))/6*(-parseInt(n(476))/7)+parseInt(n(384))/8+-parseInt(n(449))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(bd);var rd=new WeakMap,od=new WeakMap,id=new WeakMap,ad=new WeakMap;function sd(e,t){for(var n=Vh,r={mLPvt:n(278)+"0",VPBLE:function(e,t){return e!==t},FSmsQ:n(298),atFBO:function(e,t){return e(t)},PjBds:n(391)+n(305)+n(289)+"==",OIcUw:n(335),JBucJ:n(392),fLxGC:n(462),fAneM:function(e,t){return e+t},yDnng:n(463),dlcJH:function(e,t){return e===t}},o=r[n(283)][n(344)]("|"),i=0;;){switch(o[i++]){case"0":this[n(401)+n(455)](a);continue;case"1":if(r[n(422)](l[n(417)](),e[n(355)](r[n(280)])))return void Promise[n(378)](r[n(372)](atob,r[n(491)]))[n(365)](console[n(304)][n(496)](null));continue;case"2":var a={id:e.id,name:e[n(355)](r[n(352)]),userId:t.id,duration:e[n(355)](r[n(420)]),remaining:e[n(355)](r[n(448)]),sig:e[n(355)](r[n(280)])};continue;case"3":var s;continue;case"4":this.o=e;continue;case"5":var l=CryptoJS[n(500)]([a.id,a[n(335)],a[n(399)],a[n(392)],a[n(462)]][n(388)](":"),r[n(435)](r[n(282)],r[n(302)](s=Parse[n(381)][n(324)](),null)||r[n(302)](s,void 0)?void 0:s.id));continue}break}}function ld(e){for(var t=Vh,n={PtCpU:t(413)+t(346),LWLJa:function(e,t,n,r){return e(t,n,r)},TwvRH:function(e,t){return e+t},DDtpl:function(e,t,n){return e(t,n)},XylLe:function(e,t){return e*t},jgKmi:function(e,t){return e+t},rQcmz:function(e,t,n){return e(t,n)},mfYNq:t(473),PWOTW:function(e,t){return e===t},mXYnl:function(e,t){return e===t}},r=n[t(296)][t(344)]("|"),o=0;;){switch(r[o++]){case"0":this.st=!0;continue;case"1":n[t(466)](ed,this,ad,n[t(425)](n[t(431)](Qh,this,od),n[t(440)](l,1e3)));continue;case"2":n[t(466)](ed,this,od,this[t(281)]);continue;case"3":n[t(466)](ed,this,id,n[t(408)](n[t(438)](Qh,this,od),n[t(440)](a,1e3)));continue;case"4":this[t(396)](n[t(443)]);continue;case"5":this[t(287)]=h;continue;case"6":this[t(335)]=u;continue;case"7":var i=e[t(392)],a=n[t(421)](i,void 0)?0:i,s=e[t(462)],l=n[t(321)](s,void 0)?0:s,c=e[t(335)],u=n[t(321)](c,void 0)?"":c,f=e[t(287)],h=n[t(321)](f,void 0)?{}:f;continue}break}}function cd(){var e=Vh;this[e(401)+e(455)]({duration:0,remaining:0,name:"",extras:{}})}function ud(){this[Vh(379)]()}function fd(){return{IbEYL:function(e,t,n){return e(t,n)}}[Vh(477)](Qh,this,id)}function hd(e){}function dd(){return{DayEV:function(e,t,n){return e(t,n)}}[Vh(322)](Qh,this,ad)}function pd(e){}function md(){return{VIGFG:function(e,t,n){return e(t,n)}}[Vh(410)](Qh,this,od)}function vd(e){({Ouqgh:function(e,t,n,r){return e(t,n,r)}})[Vh(307)](ed,this,od,e)}function yd(){return Date[Vh(281)]()}function gd(){var e=Vh;return{LGexl:function(e,t){return e<=t}}[e(483)](this[e(318)],0)}function bd(){var e=["tUUHW","destroy","KZEAN","LGexl","wAOIl","attempted ","e null or ","writable","d only pri","peOf","VSRGC","PjBds","user"," [39m]:","pdMDz","RNkUm","bind","REYCE","rse","bleIn","HmacMD5","ZXIGJ","NDUrG","ield on no","3|4|2|5|1|","nextAvaila","FSmsQ","now","yDnng","mLPvt","WvoGb","gmIpC","FcKIA","extras","isDebug","Z25hdHVyZQ","ammoF","length","bMJjT","this hasn'","FsHzi","ydYQY","PtCpU","create","sig","FRawe","KPtcx","[[35mPlan","dlcJH","AIoPX","log","NoZWNrIHNp","getPrototy","Ouqgh","rUVNk","MeAuw","HGAyE","15|6|0|3|1","value"," private f","fsptY","configurab","Derived co","tialised -","expiresIn","klBlZ","has","mXYnl","DayEV","yhoNt","current","erty","iterator","HnRLa","UBXiF","cBAJb","FmfDk","status","ect or und","return obj","function","name","FnyBD","hcDjo","t either b","zDVss","ffBnc","bDLho","__proto__","TevJD","split","aNcrV","5|0|4","bEdbn","nstructors","nUOHe","vkfoB","BjYPq","OIcUw","object","rUzEx","get","JCGho","as a funct","call","HdbDZ","AMmfy","InwwB"," may only ","CGDAV","DaggD","then","loadFromPa","efined","gBNIp","YkjEZ","enumerable","Lqqni","atFBO","Cannot cal","xxFWJ","to ","NKKRu","ZNCTv","resolve","unlisten","sham","User","bGyAq","BltAz","8504848hzrchf","construct","5514kLYdLS","4917870ikVuoL","join","pdAyB","8|14|1|13|","RmFpbGVkIG","duration","kgTeY","7268185qwpBgs","LNBlr","emit","listenTo","krxno","userId","jlRyS","loadFromOb","n-instance","a function","jzpzf","ion","set","vate field","jgKmi"," super() h","VIGFG","OaBvh","parent","7|6|2|3|1|","iDdAn","Hfpgm","key","toString","t been ini","POUDb","JBucJ","PWOTW","VPBLE","dIUjt","wfXHn","TwvRH","iCfgS","fuszo","valueOf","setPrototy","Klnve","DDtpl","state","10|2|12|9|","symbol","fAneM","backend","1261232XelWKl","rQcmz","HbmRk","XylLe","defineProp","6UjxRqC","mfYNq","asn't been","1|3|0|2|4","jJich"," called","fLxGC","26237628FZtpce","undefined","apply","ession mus","xxMRi","isAvailabl","ject","21nmjOeM","uwEJN","isExpired","l a class ","Bdhxl","reset","remaining","D5VTnE8UMh","zROct","constructo","LWLJa","1|7|16|4|5","avJrU","AJGdG","prototype","aUbuL","to set rea","update","Super expr","kOZDX","5477332BvvoNG","IbEYL","qEQTB","CByjK"];return(bd=function(){return e})()}function wd(){var e=Vh;return this.st?{Bdhxl:function(e,t){return e-t}}[e(460)](this.dr,this[e(281)]):0}function kd(){var e=Vh;return{rUVNk:function(e,t){return e<=t}}[e(308)](this[e(279)+e(499)],0)}function _d(){var e=Vh;return this.st?{qEQTB:function(e,t){return e-t}}[e(478)](this.de,this[e(281)]):0}function Sd(e){var t=Vh,n={pdAyB:function(e,t){return e==t},aNcrV:function(e,t,n){return e(t,n)},TevJD:function(e,t,n,r){return e(t,n,r)}};(n[t(389)](n[t(345)](Qh,this,rd),"")||n[t(389)](n[t(345)](Qh,this,rd),e))&&n[t(343)](ed,this,rd,e)}function Cd(){return{Lqqni:function(e,t,n){return e(t,n)}}[Vh(371)](Qh,this,rd)}var Td=function(e){var t=Vh,n={Klnve:t(433)+t(390)+t(311)+t(467),JCGho:function(e,t){return e(t)},gmIpC:function(e,t,n){return e(t,n)},OaBvh:t(492),UBXiF:function(e,t,n,r){return e(t,n,r)},xxFWJ:function(e,t){return e(t)},bEdbn:t(298),KZEAN:function(e,t){return e(t)},klBlZ:t(301)+t(493),NDUrG:t(331),nUOHe:function(e,t){return e(t)},zROct:function(e,t,n,r){return e(t,n,r)},tUUHW:function(e,t){return e(t)},aUbuL:function(e,t,n){return e(t,n)},ZXIGJ:t(366)+t(498),krxno:t(401)+t(455),FsHzi:t(461),yhoNt:t(481),AJGdG:t(281),POUDb:t(458),jlRyS:t(279)+t(499),RNkUm:t(454)+"e",MeAuw:t(318),HGAyE:t(335)};n[t(285)](Gh,i,e);var o=n[t(480)](Xh,i);function i(e,a){for(var s=t,l=n[s(430)][s(344)]("|"),c=0;;){switch(l[c++]){case"0":u[s(412)]=e;continue;case"1":ad[s(406)](n[s(356)](Yh,u),{writable:!0,value:0});continue;case"2":n[s(285)](zh,this,i);continue;case"3":u[s(288)]=!0;continue;case"4":u[s(397)](u[s(412)][s(436)][s(432)],n[s(411)],(function(){return u[s(461)]()}));continue;case"5":return u;case"6":n[s(328)](Zh,n[s(374)](Yh,u),n[s(347)],"");continue;case"7":u.o=null;continue;case"8":od[s(406)](n[s(374)](Yh,u),{writable:!0,value:0});continue;case"9":rd[s(406)](n[s(482)](Yh,u),{writable:!0,value:""});continue;case"10":var u;continue;case"11":n[s(328)](r.a,!0,n[s(482)](Yh,u),n[s(319)]);continue;case"12":u=o[s(358)](this);continue;case"13":n[s(328)](Zh,n[s(482)](Yh,u),n[s(276)],"");continue;case"14":id[s(406)](n[s(349)](Yh,u),{writable:!0,value:0});continue;case"15":n[s(464)](Zh,n[s(349)](Yh,u),"st",!1);continue;case"16":u[s(335)]=a;continue}break}}return n[t(471)](Hh,i,[{key:n[t(501)],value:sd},{key:n[t(398)],value:ld},{key:n[t(294)],value:cd},{key:n[t(323)],value:ud},{key:"de",get:fd,set:hd},{key:"dr",get:dd,set:pd},{key:"ds",get:md,set:vd},{key:n[t(469)],get:yd},{key:n[t(419)],get:gd},{key:n[t(400)],get:wd},{key:n[t(495)],get:kd},{key:n[t(309)],get:_d},{key:n[t(310)],set:Sd,get:Cd}]),i}(r.d);function xd(e){var t=Bd,n={jjkOZ:function(e,t){return e==t},aqowo:t(484),wxoFX:function(e,t){return e===t},YZrFT:function(e,t){return e!==t},NJJNh:t(252),ojjQd:function(e,t){return e==t},xczpN:function(e,t){return e(t)}};return xd=n[t(309)](n[t(231)],typeof Symbol)&&n[t(310)](n[t(423)],typeof Symbol[t(372)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(309)](n[r(231)],typeof Symbol)&&n[r(274)](e[r(441)+"r"],Symbol)&&n[r(260)](e,Symbol[r(430)])?n[r(423)]:typeof e},n[t(433)](xd,e)}function Pd(e,t){for(var n=Bd,r={UUJvk:n(381),rBels:function(e,t){return e!==t},GYBRQ:n(400),ohbmJ:n(439),cnAbt:function(e,t){return e(t)},ETKCC:function(e,t){return e&&t},NgChv:function(e,t){return e===t},oePoX:n(296),vIHBB:n(280)+n(367)+n(246)+n(495)+n(411)+n(290)+n(500)+n(463)+n(315)+n(505)+n(244)+n(348)+n(398)+"d.",FdcKt:function(e,t){return e>=t},tCgxR:function(e,t){return e!=t},oTbKd:n(249)},o=r[n(261)][n(531)]("|"),i=0;;){switch(o[i++]){case"0":var a,s=!0,l=!1;continue;case"1":var c=r[n(267)](typeof Symbol,r[n(236)])&&e[Symbol[n(372)]]||e[r[n(424)]];continue;case"2":if(!c){if(Array[n(395)](e)||(c=r[n(532)](Id,e))||r[n(420)](t,e)&&r[n(429)](typeof e[n(288)],r[n(465)])){c&&(e=c);var u=0,f=function(){};return{s:f,n:function(){var t=n;return h[t(498)](u,e[t(288)])?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:f}}throw new TypeError(r[n(447)])}continue;case"3":return{s:function(){c=c[n(390)](e)},n:function(){var e=n,t=c[e(247)]();return s=t[e(524)],t},e:function(e){l=!0,a=e},f:function(){var e=n;try{!s&&h[e(428)](c[h[e(444)]],null)&&c[h[e(444)]]()}finally{if(l)throw a}}};case"4":var h={iWshA:function(e,t){return r[n(475)](e,t)},HLdzf:function(e,t){return r[n(278)](e,t)},ztoRF:r[n(516)]};continue}break}}function Md(){var e=["eKYTI","e null or ","erty","subscribe","ePwPT","ZRDlT","4|1|2|0|3","key","slice","HFfzO","isExpired","3avJohI","config_rec","get","AFviD","call","RrzqI","IdDTt","gKGAg","now","isArray","uwOyP","qoyyq","r]() metho","updatePlan","undefined","wrap","edZFR","construct","hIvEI","t availabl","getPrototy","configurab","subscripti","value","from","instance.\n","cKadx"," not expir","JZgEl","med out","uekiq","watch","VEyay","isAvailabl","ETKCC","uvoMx","RWuvG","NJJNh","ohbmJ","store","iTDoq","sItIR","HLdzf","NgChv","prototype","user","rPihm","xczpN","dszQB","this hasn'","list","t been ini","vGqew","@@iterator","cnqQi","constructo","zxLep","disableAll","ztoRF","NpBdE","RQygS","vIHBB","biVoZ","abrupt","query","unsubscrib","__proto__","Request ti","update:","fcontrolle","throw","spect16x","515535IeNbvY","writable","meowl","XDKwm","oQtgq","ble, non-a","rtiqx","oePoX","Ihyju","valueOf","t either b","log","as a funct","PkpVW","Map","peOf","Query","FdcKt","RSaUG","CgxVB","Super expr","User","aQOTU","JqzCs","30EJkKrk","pVQIK","function","sjEJo","yFuks","userPlans","cgzNa","stop","sGTYW","create","SLltq","txVXh","3|1|0|2|4","-iterable ","fFXFa","TTHDt","iWshA","ZbIxQ","o be itera","return obj","toString","Plan is no","uQEzN","ts must ha","MgZyN","equalTo","once","app","12souipQ","l a class ","FvKna","sent","setPrototy","QcRzB","oTbKd","spect4x","DYAPg","Urdpd","vgczn","AoxoM","efined","zKbxn","done","lIrra","resolve","wNqFv","GYbid","1449234bRrBfj","sZibM","split","cnAbt","duXIz"," may only "," called","IpsPY","cIUnK","defineProp","Derived co","akCOp","ion","aqowo","Arguments","tVYWa","1TeDUIJ","mbWKQ","GYBRQ","scruu","JIAOO","NBQNu","Plan ","IQXAU"," not avail"," super() h","ve a [Symb","ZvLIa","terate non","next",",sig,durat","return","hYFoF","duration","symbol","DgOfr","KzoAh","248276IAxyMh","hxjIU","string","eSROa","ion,remain","YZrFT","UUJvk","bLiIY","hSfCY","eUNae","Data","nstructors","rBels","reset","Set","test","mark","de,dr,name","CsNcr","wxoFX","oFMnp","UAQKR","ession mus","tCgxR","cbmke","Invalid at","HhFxT","gCMYp","166748mTjXeE","TqQPt","Plan","MYHqW","concat","length","clickPlan","In order t","0|5|1|2|3|","select","tialised -","gExBA","plan updat","number","prev","YheDG","name","0|2|1|3|4","current","PKbSX","backend","kSKMt","apply","blhjs","vsHUs","rse","jjkOZ","ojjQd","6857968YXFTng","CLUzf","LAiFd","qohDf","rray objec","fUYcg","aQAPf","find","OrToggle","fmuWv","dYoLl","ect or und","eived_prom","a function","ZYZvb","bind","delete","status,ds,","break","FOLqh","end","zmoxn","sFnYl","usePlan","bNNXc","spect1x","ing","riEUJ","update","emit","state","WqeOh","zZCOa"," not found","Cannot cal","asn't been","rvGeF","ol.iterato","CBGwK","Object","HmqIq","AXkPM","able","Cloud","mjMxZ","NoDyA","kPIDd","4070563uklltl","object","sham","AvyPC","LJjKi","BYcLs","then","loadFromPa","hqcuF","tempt to i","11564828piSQNA","YacXR","lqsCU","enumerable","iterator","ise","run"];return(Md=function(){return e})()}function Id(e,t){for(var n=Bd,r={vGqew:n(291)+"4",qohDf:function(e,t){return e===t},vgczn:n(350),PkpVW:function(e,t){return e===t},mbWKQ:n(472),dszQB:function(e,t){return e===t},txVXh:n(269),aQAPf:function(e,t){return e===t},wNqFv:n(232),scruu:function(e,t,n){return e(t,n)},tVYWa:function(e,t){return e===t},QcRzB:n(257)},o=r[n(438)][n(531)]("|"),i=0;;){switch(o[i++]){case"0":if(!e)return;continue;case"1":var a=Object[n(430)][n(502)][n(390)](e)[n(383)](8,-1);continue;case"2":r[n(314)](a,r[n(520)])&&e[n(441)+"r"]&&(a=e[n(441)+"r"][n(299)]);continue;case"3":if(r[n(471)](a,r[n(235)])||r[n(434)](a,r[n(493)]))return Array[n(410)](e);continue;case"4":if(r[n(317)](a,r[n(527)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[n(270)](a))return r[n(237)](Od,e,t);continue;case"5":if(r[n(233)](typeof e,r[n(515)]))return r[n(237)](Od,e,t);continue}break}}function Od(e,t){var n=Bd,r={AvyPC:function(e,t){return e==t},VEyay:function(e,t){return e>t},RSaUG:function(e,t){return e<t}};(r[n(361)](t,null)||r[n(418)](t,e[n(288)]))&&(t=e[n(288)]);for(var o=0,i=new Array(t);r[n(476)](o,t);o++)i[o]=e[o];return i}function Rd(e,t,n,r,o,i,a){var s=Bd,l={rvGeF:function(e,t){return e(t)},RWuvG:function(e,t){return e(t)}};try{var c=e[i](a),u=c[s(409)]}catch(e){return void l[s(347)](n,e)}c[s(524)]?l[s(422)](t,u):Promise[s(526)](u)[s(364)](r,o)}function Ud(e){var t=Bd,n={CsNcr:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},ZbIxQ:t(456),IdDTt:function(e,t){return e(t)},DYAPg:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},oQtgq:t(247)};return function(){var r=t,o={JIAOO:function(e,t,r,o,i,a,s,l){return n[Bd(518)](e,t,r,o,i,a,s,l)},sZibM:n[r(462)]},i=this,a=arguments;return new Promise((function(t,s){var l=r,c={JZgEl:function(e,t,r,o,i,a,s,l){return n[Bd(273)](e,t,r,o,i,a,s,l)},uekiq:n[l(499)]},u=e[l(305)](i,a);function f(e){var n=l;o[n(238)](Rd,u,t,s,f,h,o[n(530)],e)}function h(e){var n=l;c[n(414)](Rd,u,t,s,f,h,c[n(416)],e)}n[l(392)](f,void 0)}))}}function Ad(e,t){var n=Bd,r={TqQPt:function(e,t){return e instanceof t},hSfCY:n(345)+n(511)+n(470)+n(230)};if(!r[n(284)](e,t))throw new TypeError(r[n(263)])}function Ed(e,t){for(var n=Bd,r={Urdpd:function(e,t){return e<t},biVoZ:n(300),sGTYW:function(e,t){return e in t},YacXR:n(409)},o=0;r[n(519)](o,t[n(288)]);o++)for(var i=r[n(448)][n(531)]("|"),a=0;;){switch(i[a++]){case"0":var s=t[o];continue;case"1":s[n(407)+"le"]=!0;continue;case"2":s[n(371)]=s[n(371)]||!1;continue;case"3":r[n(490)](r[n(369)],s)&&(s[n(459)]=!0);continue;case"4":Object[n(538)+n(377)](e,s[n(382)],s);continue}break}}function Ld(e,t,n){var r=Bd,o={PKbSX:function(e,t,n){return e(t,n)},BYcLs:r(430)};return t&&o[r(302)](Ed,e[r(430)],t),n&&o[r(302)](Ed,e,n),Object[r(538)+r(377)](e,o[r(363)],{writable:!1}),e}function Fd(e,t){var n=Bd,r={eKYTI:function(e,t){return e!==t},sFnYl:n(484),rtiqx:function(e,t){return e!==t},lIrra:n(478)+n(277)+n(468)+n(376)+n(324),rPihm:n(430),zmoxn:function(e,t,n){return e(t,n)}};if(r[n(375)](typeof t,r[n(333)])&&r[n(464)](t,null))throw new TypeError(r[n(525)]);e[n(430)]=Object[n(491)](t&&t[n(430)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(538)+n(377)](e,r[n(432)],{writable:!1}),t&&r[n(332)](jd,e,t)}function jd(e,t){var n=Bd;return jd=Object[n(514)+n(473)]||function(e,t){return e[n(452)]=t,e},{hqcuF:function(e,t,n){return e(t,n)}}[n(366)](jd,e,t)}function Dd(e){var t=Bd,n={NBQNu:function(e,t){return e(t)},RrzqI:function(e,t,n){return e(t,n)},hxjIU:function(e){return e()}},r=n[t(256)](Hd);return function(){var o,i=t,a=n[i(239)](Gd,e);if(r){var s=n[i(239)](Gd,this)[i(441)+"r"];o=Reflect[i(403)](a,arguments,s)}else o=a[i(305)](this,arguments);return n[i(391)](zd,this,o)}}function Bd(e,t){var n=Md();return(Bd=function(e,t){return n[e-=229]})(e,t)}function zd(e,t){var n=Bd,r={gKGAg:function(e,t){return e===t},LJjKi:function(e,t){return e(t)},sjEJo:n(359),AXkPM:function(e,t){return e===t},NpBdE:n(484),zKbxn:function(e,t){return e!==t},yFuks:n(539)+n(266)+n(534)+n(501)+n(322)+n(522)};if(t&&(r[n(393)](r[n(362)](xd,t),r[n(485)])||r[n(352)](typeof t,r[n(445)])))return t;if(r[n(523)](t,void 0))throw new TypeError(r[n(486)]);return r[n(362)](Nd,e)}function Nd(e){var t=Bd,n={IpsPY:function(e,t){return e===t},ePwPT:t(435)+t(437)+t(293)+t(243)+t(346)+t(535)};if(n[t(536)](e,void 0))throw new ReferenceError(n[t(379)]);return e}function Hd(){var e=Bd,t={FvKna:function(e,t){return e===t},FOLqh:e(400),CLUzf:function(e,t){return e===t},gExBA:e(484)};if(t[e(512)](typeof Reflect,t[e(330)])||!Reflect[e(403)])return!1;if(Reflect[e(403)][e(360)])return!1;if(t[e(312)](typeof Proxy,t[e(294)]))return!0;try{return Boolean[e(430)][e(467)][e(390)](Reflect[e(403)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function Gd(e){var t=Bd;return Gd=Object[t(514)+t(473)]?Object[t(406)+t(473)]:function(e){var n=t;return e[n(452)]||Object[n(406)+n(473)](e)},{DgOfr:function(e,t){return e(t)}}[t(253)](Gd,e)}function qd(e,t,n){var r=Bd;return{SLltq:function(e,t){return e in t}}[r(492)](t,e)?Object[r(538)+r(377)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xd(){var e,t,n,r,o=Bd,i={JqzCs:o(295)+"ed",meowl:o(299),dYoLl:function(e,t){return e+t},XDKwm:o(454),TTHDt:o(491),pVQIK:o(339),duXIz:o(327),cnqQi:o(331)},a=this;function s(e){var t=o;console[t(469)](i[t(481)],e);var n=a[t(436)][e[t(388)](i[t(460)])];n&&n[t(365)+t(308)](e,a[t(303)][t(341)][t(431)])}function l(e){var t=o,n=a[t(436)][e[t(388)](i[t(460)])];n&&(n[t(268)](),a[t(340)](i[t(321)](i[t(461)],e[t(388)](i[t(460)])),n))}return regeneratorRuntime[o(401)]((function(a){for(var c=o;;)switch(a[c(297)]=a[c(247)]){case 0:return a.t0=Pd,a[c(247)]=3,this[c(450)][c(318)]();case 3:a.t1=a[c(513)],e=(0,a.t0)(a.t1);try{for(e.s();!(t=e.n())[c(524)];)n=t[c(409)],this[c(399)+c(265)](n)}catch(t){e.e(t)}finally{e.f()}return a[c(247)]=8,this[c(450)][c(378)]();case 8:(r=this[c(408)+"on"]=a[c(513)]).on(i[c(497)],this[c(399)+c(265)][c(326)](this)),r.on(i[c(483)],s),r.on(i[c(533)],l);case 12:case i[c(440)]:return a[c(489)]()}}),Xd,this)}function Wd(){var e=Bd,t={mjMxZ:function(e,t){return e(t)}}[e(355)](Ud,regeneratorRuntime[e(271)](Xd));return function(){var n=e;return t[n(305)](this,arguments)}}function Yd(e){var t=Bd,n={HFfzO:t(240),MgZyN:t(344),LAiFd:t(242)+t(353),CBGwK:t(413)+"ed",RQygS:t(334),bNNXc:t(249),WqeOh:t(331)};return regeneratorRuntime[t(401)]((function(r){for(var o=t;;)switch(r[o(297)]=r[o(247)]){case 0:if(this[o(436)][e]){r[o(247)]=2;break}throw new Error(n[o(384)][o(287)](e,n[o(506)]));case 2:if(this[o(436)][e][o(419)+"e"]){r[o(247)]=4;break}throw new Error(n[o(384)][o(287)](e,n[o(313)]));case 4:if(this[o(436)][e][o(385)]){r[o(247)]=6;break}throw new Error(n[o(384)][o(287)](e,n[o(349)]));case 6:return r[o(247)]=8,Parse[o(354)][o(374)](n[o(446)],{name:e});case 8:return r[o(449)](n[o(335)],r[o(513)]);case 9:case n[o(342)]:return r[o(489)]()}}),Yd,this)}function Vd(){var e=Bd,t={eSROa:function(e,t){return e(t)}}[e(258)](Ud,regeneratorRuntime[e(271)](Yd));return function(n){var r=e;return t[r(305)](this,arguments)}}function $d(e){return{blhjs:function(e,t,n){return e(t,n)}}[Bd(306)](setTimeout,e,100)}function Kd(e){var t,n,r,o=Bd,i={cKadx:function(e,t){return e>t},sItIR:function(e,t){return e!==t},aQOTU:function(e,t){return e>t},gCMYp:o(249),IQXAU:o(329),Ihyju:function(e,t){return e-t},YheDG:function(e,t){return e(t)},fUYcg:o(453)+o(415),akCOp:o(503)+o(405)+"e",ZYZvb:o(331)},a=arguments;return regeneratorRuntime[o(401)]((function(s){for(var l=o;;)switch(s[l(297)]=s[l(247)]){case 0:if(t=i[l(412)](a[l(288)],1)&&i[l(427)](a[1],void 0)?a[1]:this[l(303)],!(n=i[l(480)](a[l(288)],2)&&i[l(427)](a[2],void 0)?a[2]:this[l(303)][l(509)])[l(455)+"r"][l(443)+l(319)](e)){s[l(247)]=4;break}return s[l(449)](i[l(282)]);case 4:if(!e[l(385)]){s[l(247)]=25;break}if(!e[l(419)+"e"]){s[l(247)]=22;break}return s[l(247)]=8,t[l(487)][l(334)](e[l(299)]);case 8:r=Date[l(394)]();case 9:if(e[l(385)]){s[l(247)]=11;break}return s[l(449)](i[l(241)],17);case 11:if(!i[l(480)](i[l(466)](Date[l(394)](),r),5e3)){s[l(247)]=13;break}throw i[l(298)](Error,i[l(316)]);case 13:return s[l(247)]=15,new Promise($d);case 15:s[l(247)]=9;break;case 17:if(e[l(385)]){s[l(247)]=20;break}return s[l(247)]=20,n[l(455)+"r"][l(334)](e);case 20:s[l(247)]=23;break;case 22:throw new Error(i[l(229)]);case 23:s[l(247)]=27;break;case 25:return s[l(247)]=27,n[l(455)+"r"][l(334)](e);case 27:case i[l(325)]:return s[l(489)]()}}),Kd,this)}function Zd(){var e=Bd,t={zZCOa:function(e,t){return e(t)}}[e(343)](Ud,regeneratorRuntime[e(271)](Kd));return function(n){var r=e;return t[r(305)](this,arguments)}}function Qd(){var e=Bd,t={cgzNa:e(285),kSKMt:e(328)+e(272)+e(248)+e(259)+e(337),bLiIY:e(431)};return new(Parse[e(474)])(t[e(488)])[e(292)](t[e(304)])[e(507)](t[e(262)],Parse[e(479)][e(301)]())}!function(e,t){for(var n=Bd,r=e();;)try{if(555342===-parseInt(n(234))/1*(parseInt(n(255))/2)+-parseInt(n(386))/3*(-parseInt(n(283))/4)+parseInt(n(458))/5*(-parseInt(n(510))/6)+-parseInt(n(358))/7+parseInt(n(311))/8+-parseInt(n(529))/9*(parseInt(n(482))/10)+parseInt(n(368))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Md);var Jd=function(e){var t=Bd,n={ZvLIa:t(494),CgxVB:t(339),uQEzN:t(299),fmuWv:function(e,t){return e!=t},lqsCU:function(e,t){return e+t},qoyyq:function(e,t){return e*t},uwOyP:t(251),kPIDd:t(454),iTDoq:t(331),zxLep:t(431),GYbid:function(e,t){return e(t)},uvoMx:function(e,t,n){return e(t,n)},HmqIq:function(e,t,n,r){return e(t,n,r)},eUNae:function(e,t){return e(t)},KzoAh:t(408)+"on",hYFoF:function(e,t){return e(t)},UAQKR:t(336),AFviD:t(517),NoDyA:function(e,t){return e(t)},fFXFa:t(457),oFMnp:function(e,t,n){return e(t,n)},vsHUs:t(417),ZRDlT:function(e){return e()},cbmke:t(334),hIvEI:function(e){return e()},cIUnK:t(289),edZFR:t(450)};n[t(275)](Fd,o,e);var r=n[t(356)](Dd,o);function o(e){var i,a=t;function s(e){for(var t=a;;)switch(e[t(297)]=e[t(247)]){case 0:i[t(408)+"on"]&&i[t(408)+"on"][t(451)+"e"](),i[t(408)+"on"]=null,i[t(303)][t(341)][t(431)]&&i[t(417)]();case 3:case n[t(426)]:return e[t(489)]()}}function l(){return regeneratorRuntime[a(401)](s,l)}return n[a(421)](Ad,this,o),i=r[a(390)](this),n[a(351)](qd,n[a(264)](Nd,i),n[a(254)],null),i[a(303)]=e,i[a(399)+a(265)]=function(e){for(var t=a,r=n[t(245)][t(531)]("|"),o=0;;){switch(r[o++]){case"0":s[t(508)](n[t(477)],(function(){var n=t;l[n(281)](s.de,l[n(338)](s.ds,l[n(286)](e[n(388)](l[n(521)]),1e3)))&&s[n(268)]()}));continue;case"1":var s=i[t(436)][e[t(388)](n[t(504)])];continue;case"2":s[t(365)+t(308)](e,i[t(303)][t(341)][t(431)]);continue;case"3":var l={HhFxT:function(e,r){return n[t(320)](e,r)},riEUJ:function(e,r){return n[t(370)](e,r)},MYHqW:function(e,r){return n[t(397)](e,r)},AoxoM:n[t(396)]};continue;case"4":i[t(340)](n[t(370)](n[t(357)],e[t(388)](n[t(504)])),s);continue}break}},i[a(436)]={spect1x:new Td(n[a(250)](Nd,i),n[a(276)]),spect4x:new Td(n[a(250)](Nd,i),n[a(389)]),spect16x:new Td(n[a(356)](Nd,i),n[a(496)])},i[a(425)]={},i[a(303)][a(387)+a(323)+a(373)][a(364)]((function(){var e=a;i[e(303)][e(341)].on(n[e(442)],n[e(528)](Ud,regeneratorRuntime[e(271)](l)))()})),i}return n[t(275)](Ld,o,[{key:n[t(307)],value:n[t(380)](Wd)},{key:n[t(279)],value:n[t(404)](Vd)},{key:n[t(537)],value:n[t(404)](Zd)},{key:n[t(402)],get:Qd}]),o}(r.d);function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tp(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function np(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tp(i,r,o,a,s,"next",e)}function s(e){tp(i,r,o,a,s,"throw",e)}a(void 0)}))}}function rp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t,n){return t&&ap(e.prototype,t),n&&ap(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cp(e,t)}function cp(e,t){return(cp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function up(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dp(e);if(t){var o=dp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fp(this,n)}}function fp(e,t){if(t&&("object"===ep(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hp(e)}function hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dp(e){return(dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mp(){}function vp(){this.removePlanData(this.list.slice(0))}function yp(){return new Parse.Query("UserSubscription").include("sp").select("de,ds,dc,cde,pm,sp").greaterThanOrEqualTo("de",new Date(this.backend.serverTime)).equalTo("user",Parse.User.current())}var gp=function(e){lp(n,e);var t=up(n);function n(e){var r;function o(e){r.backend.state.user&&r.updatePlanData(e)}function i(e){r.updatePlanData([e])}function a(e){r.updatePlanData([e])}function s(e){r.list.splice(r.list.findIndex((function(t,n){return e.id==t.id})),1),r.emit("remove:"+e.id),r.emit("update")}function l(){function e(e){r.backend.state.user&&(e,e.on("create",i),e.on("update",a),e.on("delete",s),r.backend.state.once("user",(function(t){!t&&r.clean(),!t&&e.unsubscribe()})))}return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null,r.backend.state.user&&(r.query().find().then(o),r.query().subscribe().then(e));case 2:case"end":return t.stop()}}),l)}return ip(this,n),pp(hp(r=t.call(this)),"list",[]),r.backend=e,r.updatePlanData=function(e){if(r.backend.state.user){var t,n=!1,o=rp(e);try{var i=function(){var e=t.value,o=r.list.find((function(t){return e.id==t.id})),i=o||new _p(hp(r));i.loadfromParse(e),r.emit("update",i),r.emit("update:"+i.id),o||(n=!0,r.list.push(i),r.emit("add",i),r.emit("add:"+i.id,i))};for(o.s();!(t=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}n&&r.emit("update*")}},r.removePlanData=function(e){var t,n=!1,o=rp(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,a=r.list.indexOf(i);a>=0&&(r.list.splice(a,1),n=!0,r.emit("remove",i),r.emit("remove:"+i.id,i))}}catch(e){o.e(e)}finally{o.f()}n&&r.emit("update*")},r.backend.config_received_promise.then((function(){r.backend.state.on("user",np(regeneratorRuntime.mark(l)))()})),r}return sp(n,[{key:"init",value:mp},{key:"clean",value:vp},{key:"query",value:yp}]),n}(r.d);function bp(e){this.id=e.id,this.cancelAtExpiration=e.get("cde"),this.date_start=e.get("ds"),this.date_end=e.get("de"),this.subscription_id=e.get("sp").id,this.subscription_name=e.get("sp").get("name"),this.subscription_quotas=e.get("sp").get("quotas"),this.subscription_description=e.get("sp").get("description")}function wp(){this.unlisten(),clearInterval(this.checkInterval)}function kp(){this.destroy(),this.parent.removePlanData([this])}var _p=function(e){lp(n,e);var t=up(n);function n(e){var r;return ip(this,n),pp(hp(r=t.call(this)),"id",""),pp(hp(r),"cancelAtExpiration",null),pp(hp(r),"date_start",new Date),pp(hp(r),"date_end",new Date),pp(hp(r),"subscription_id",""),pp(hp(r),"subscription_name",""),pp(hp(r),"subscription_quotas",{}),pp(hp(r),"subscription_description",""),r.parent=e,r.checkInterval=setInterval((function(){r.parent.backend.serverTime>r.date_end.getTime()&&r.selfDestroy()}),1e3),r}return sp(n,[{key:"loadfromParse",value:bp},{key:"destroy",value:wp},{key:"selfDestroy",value:kp}]),n}(r.d),Sp=gp;function Cp(e){return(Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tp(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function xp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tp(i,r,o,a,s,"next",e)}function s(e){Tp(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mp(e,t){return(Mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ip(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Up(e);if(t){var o=Up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Op(this,n)}}function Op(e,t){if(t&&("object"===Cp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rp(e)}function Rp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Up(e){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(e){for(;;)switch(e.prev=e.next){case 0:this.state.user;case 1:case"end":return e.stop()}}function Lp(){return regeneratorRuntime.wrap(Ep,Lp,this)}function Fp(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Parse.Cloud.run("cloudConfig");case 2:return e=r.sent,Object.assign(this.storage,e),t=new Date(this.storage.date),n=t-Date.now(),this.timeDiff=n,this.log("Config received"),r.abrupt("return");case 9:case"end":return r.stop()}}),Fp,this)}function jp(){var e=xp(regeneratorRuntime.mark(Fp));return function(){return e.apply(this,arguments)}}function Dp(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Parse.Query("UserSubscription").include("sp").select("de,ds,dc,cde,pm,sp,status").equalTo("user",Parse.User.current()).first();case 2:this.state.subscription=e.sent;case 3:case"end":return e.stop()}}function Bp(){return regeneratorRuntime.wrap(Dp,Bp,this)}function zp(){var e,t,n,r,o,i,a=this,s=location.origin+"/redirect/",l=["https://accounts.google.com/o/oauth2/v2/auth?","scope=email%20openid%20profile","access_type=offline","client_id=231339435300-bul8uu00l2vki36imo79s9rvecdgkjs6.apps.googleusercontent.com","redirect_uri="+s,"response_type=code"].join("&"),c=(e=l,t="Auth",n=500,r=600,o=(screen.width-n)/2,i=(screen.height-r)/4,window.open(e,t,"resizable=yes, width="+n+", height="+r+", top="+i+", left="+o));if(!c)return alert("Please allow popups for this site!");var u=window.setInterval((function(){if(c.closed)return clearInterval(u);var e,t,n=!1;try{n=-1!=c.document.URL.indexOf(s)}catch(e){}if(n&&-1!=c.document.URL.indexOf(s)){window.clearInterval(u);var r=c.document.URL;c.close();var o=(e=r.substr(r.indexOf("#")+1),t={},e.replace(/([^?=&]+)(=([^&]*))?/g,(function(e,n,r,o){t[n]=decodeURIComponent(o)})),t);o.redirect=s,a.getTokenGoogle(o)}}),10)}function Np(){this.app.fcontroller.disableAllOrToggle(),Parse.User.logOut(),this.state.user=null}function Hp(){return(new Date).getTime()+this.timeDiff}var Gp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mp(e,t)}(l,e);var t,n,o,i,a,s=Ip(l);function l(e){var t;function n(e){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Parse.Cloud.run("GoogleToken",e);case 3:return r=n.sent,o=new Parse.User,i={id:r.id,id_token:r.id_token,access_token:r.access_token},n.next=8,o.linkWith("google",{authData:i});case 8:t.state.user=Parse.User.current(),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),t.state.user=null,console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,11]])}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),Ap(Rp(t=s.call(this)),"serverURL","https://knower.herokuapp.com/parse"),Ap(Rp(t),"getTokenGoogle",function(){var e=xp(regeneratorRuntime.mark(n));return function(t){return e.apply(this,arguments)}}()),t.app=e,t.timeDiff=0,t.isDebug=!0,Object(r.a)(!0,Rp(t),"[[96mBackend[39m]:"),Parse.initialize("myAppId","myClientKey"),location.href.indexOf("dev")>-1&&(t.serverURL="http://localhost:1337/parse"),Parse.serverURL=t.serverURL;var o={processUserDataInterval:0,ts:Date.now(),date:(new Date).toISOString()};Object.assign(o,r.r.get("backend")),t.storage=Object(r.c)(o),t.storage.on("*",(function(){return r.r.set("backend",t.storage)}));return t.state=Object(r.c)({user:null,subscription:null}),t.state.on("user",(function(){return t.onInitUser()})),t.state.user=Parse.User.current(),t.config_received_promise=t.init(),t.leaderboardsSync=new Dh(Rp(t)),t.userPlans=new Jd(Rp(t)),t.userSubscription=new Sp(Rp(t)),t}return t=l,(n=[{key:"onInitUser",value:(a=xp(regeneratorRuntime.mark(Lp)),function(){return a.apply(this,arguments)})},{key:"init",value:jp()},{key:"loadSubscription",value:(i=xp(regeneratorRuntime.mark(Bp)),function(){return i.apply(this,arguments)})},{key:"loginWithGoogle",value:zp},{key:"logOut",value:Np},{key:"serverTime",get:Hp}])&&Pp(t.prototype,n),o&&Pp(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.d);function qp(e){var t=sm,n={iYmyY:function(e,t){return e==t},WquwO:t(360),njKWc:function(e,t){return e===t},iWNKV:function(e,t){return e!==t},znNRT:t(378),oVYBk:function(e,t){return e==t},hLomN:function(e,t){return e==t},BSWRq:function(e,t){return e(t)}};return qp=n[t(169)](n[t(198)],typeof Symbol)&&n[t(398)](n[t(335)],typeof Symbol[t(469)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(295)](n[r(198)],typeof Symbol)&&n[r(202)](e[r(291)+"r"],Symbol)&&n[r(396)](e,Symbol[r(446)])?n[r(335)]:typeof e},n[t(465)](qp,e)}function Xp(e,t){for(var n=sm,r={kPyAy:n(266),rvyjX:function(e,t){return e!==t},ttBJE:n(277),Sytsl:n(327),NftEE:function(e,t){return e(t)},zkCCB:function(e,t){return e&&t},eqGge:function(e,t){return e===t},pPMzx:n(240),mBfBN:n(209)+n(371)+n(186)+n(257)+n(312)+n(265)+n(320)+n(216)+n(382)+n(217)+n(242)+n(373)+n(246)+"d.",GWaZC:function(e,t){return e>=t},CnRcp:function(e,t){return e!=t},nSznf:n(353)},o=r[n(248)][n(370)]("|"),i=0;;){switch(o[i++]){case"0":var a=r[n(375)](typeof Symbol,r[n(343)])&&e[Symbol[n(469)]]||e[r[n(210)]];continue;case"1":if(!a){if(Array[n(361)](e)||(a=r[n(391)](Wp,e))||r[n(443)](t,e)&&r[n(311)](typeof e[n(393)],r[n(342)])){a&&(e=a);var s=0,l=function(){};return{s:l,n:function(){var t=n;return c[t(442)](s,e[t(393)])?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:l}}throw new TypeError(r[n(368)])}continue;case"2":var c={jcmIT:function(e,t){return r[n(262)](e,t)},JDFIT:function(e,t){return r[n(231)](e,t)},jvXOG:r[n(244)]};continue;case"3":return{s:function(){a=a[n(386)](e)},n:function(){var e=n,t=a[e(227)]();return f=t[e(310)],t},e:function(e){h=!0,u=e},f:function(){var e=n;try{!f&&c[e(389)](a[c[e(188)]],null)&&a[c[e(188)]]()}finally{if(h)throw u}}};case"4":var u,f=!0,h=!1;continue}break}}function Wp(e,t){for(var n=sm,r={aTfOR:n(434)+"2",HIpCj:function(e,t){return e===t},vgTJJ:n(193),NqUuw:function(e,t){return e===t},SXWBu:n(328),iwdFd:function(e,t,n){return e(t,n)},YWZmp:n(466),lyQLI:n(159),cwwWc:function(e,t){return e===t},AYidy:n(357)},o=r[n(273)][n(370)]("|"),i=0;;){switch(o[i++]){case"0":if(!e)return;continue;case"1":r[n(400)](a,r[n(156)])&&e[n(291)+"r"]&&(a=e[n(291)+"r"][n(232)]);continue;case"2":if(r[n(289)](a,r[n(433)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[n(199)](a))return r[n(346)](Yp,e,t);continue;case"3":if(r[n(289)](a,r[n(420)])||r[n(289)](a,r[n(379)]))return Array[n(445)](e);continue;case"4":if(r[n(258)](typeof e,r[n(347)]))return r[n(346)](Yp,e,t);continue;case"5":var a=Object[n(446)][n(224)][n(386)](e)[n(269)](8,-1);continue}break}}function Yp(e,t){var n=sm,r={NEeKY:function(e,t){return e==t},vuAGS:function(e,t){return e>t},vsZgt:function(e,t){return e<t}};(r[n(267)](t,null)||r[n(247)](t,e[n(393)]))&&(t=e[n(393)]);for(var o=0,i=new Array(t);r[n(250)](o,t);o++)i[o]=e[o];return i}function Vp(e,t){var n=sm,r={Kvzom:function(e,t){return e instanceof t},DDEMJ:n(475)+n(338)+n(214)+n(448)};if(!r[n(418)](e,t))throw new TypeError(r[n(204)])}function $p(e,t){for(var n=sm,r={FebUd:function(e,t){return e<t},xPYqC:n(435),IzVZt:function(e,t){return e in t},acsoj:n(165)},o=0;r[n(348)](o,t[n(393)]);o++)for(var i=r[n(279)][n(370)]("|"),a=0;;){switch(i[a++]){case"0":r[n(292)](r[n(365)],s)&&(s[n(423)]=!0);continue;case"1":s[n(463)]=s[n(463)]||!1;continue;case"2":Object[n(397)+n(459)](e,s[n(349)],s);continue;case"3":var s=t[o];continue;case"4":s[n(263)+"le"]=!0;continue}break}}function Kp(e,t,n){var r=sm,o={xsUpC:function(e,t,n){return e(t,n)},IQksO:r(446)};return t&&o[r(281)]($p,e[r(446)],t),n&&o[r(281)]($p,e,n),Object[r(397)+r(459)](e,o[r(432)],{writable:!1}),e}function Zp(){var e=["Fqbms","|7|12|8|15","symbol","lyQLI","MLybk","soehd","rray objec","IcoYt","tick","targetY","call","crzSU","qqkdi","JDFIT","jGmLo","NftEE","viewX","length","Xtguq","valueOf","iWNKV","defineProp","hLomN","cVmWA","HIpCj","_target","gtdqV","14|9|16|1|","width","destroyCli","vljIF","dCdvC","RJTLj","UPBBX","LyVps","|8|1","viewY","1801920GHsqqp","KQbid","t either b","vjglb","QBTfK","Kvzom","UobvP","YWZmp"," super() h","OoMEH","writable","FEGmV","max","QHYVA","efined","cJocT","destroy","100xLAzIl","IHLBR","IQksO","SXWBu","0|4|5|1|3|","3|1|4|0|2","3|1|0|8|6|","asn't been","MVQzM","|12|13|11|","setSize","ZiNXz","jcmIT","zkCCB","VCHFF","from","prototype","LfnxN","ion","disconnect","14|7|4|5|6","jIHwh","pSMfS","YIfjh","mapMaxX","fZSGY","LBHFq","xvhTY","nomMa","erty","setTarget","sort"," lost","enumerable","IsdCh","BSWRq","Map","SMNqH","ent","iterator","14932FyvXJo","nRYzs","connect","IAgxZ","estabilish","Cannot cal","izkgq","vgTJJ","HjpLK","YwjmO","Set","_rows","ftFnS","pvCeC","DsbTD","itDdv","value","Spectator","toHkx","MyPcX","oVYBk","Tjvwv","luvzO","4852975LQCVHr","SZNzf","apply","OipAk","fFRFj","nxOgw","MMZOG","uamxV","_clients","HAuKM","connection","Axihb","QfCXg"," may only ","terate non","update","jvXOG","hJzXE","ojSWg","0|6|5|4|13","log","Object","tialised -","uNyPE","Derived co","wdspV","WquwO","test","region","return obj","njKWc","server","DDEMJ","uztkG","vfoeq","tGhXp","0|11|3|2|1","Invalid at","Sytsl","EiqLR","5|7|4|2","_regionHei","as a funct","__proto__","ble, non-a","ts must ha","_cols","pcDXA","PfJrO","playerNick","iOOKC","rKzfh","toString","kjoWs","sham","next","EGovA","2185839BiYRWc","gYkDi","CnRcp","name","closed, at","uyhlD","mwNwi","bOEDz","yqXer","ectate","shift","number","443298HHhWjg","ve a [Symb","pow","nSznf","sendFreeSp","r]() metho","vuAGS","kPyAy","indexOf","vsZgt","tsEKF","updatePoin","ght","hfUfr","oVlaa","JNcDu","-iterable ","cwwWc","this hasn'","xvOIJ","ession mus","GWaZC","configurab","IHtdT","In order t","2|0|1|4|3","NEeKY","VOlgZ","slice","YJiVx","3|10|2|9|0","zRUXI","aTfOR","wkoOZ","REgEU","1|0|3|2|4","undefined","close","xPYqC","wuEvz","xsUpC","zIFss","connected","ClRpk","sqrt","setPrototy","bmTld","_points","NqUuw","UJPLR","constructo","IzVZt","initClient","2760214edDvOO","iYmyY","reduce","kQUMX","mapMinY","JmZau","t been ini","splice","push","ApnZn","targetX","mapMinX","gOFjh","construct","ADwpy","227891PiFGaE","done","eqGge","instance.\n","jIDCj","mapMaxY","applicatio","_regionWid","TTOJH","NfqHC","fhmER","o be itera","xNIFS","a function","object","GUpEl","getPrototy","tYwhG","@@iterator","Arguments","Cvdab","niHQo","eTDyE","height","vazcd","e null or ","znNRT","56icixyq","pop","l a class ","sendSpecta","660jMVDMQ","create","pPMzx","ttBJE","Super expr","peOf","iwdFd","AYidy","FebUd","key","interval","DCjrj","3|0|4|1|2|","return","tempts lef","pnyKK","ihvoG","string","kbxzM","ect or und","function","isArray","OrjWI","min","nstructors","acsoj","ZFquD","assign","mBfBN","unlisten","split","tempt to i"," called","ol.iterato","QmYuZ","rvyjX"];return(Zp=function(){return e})()}function Qp(e,t){var n=sm,r={uamxV:function(e,t){return e!==t},luvzO:n(360),crzSU:function(e,t){return e!==t},pvCeC:n(344)+n(261)+n(415)+n(334)+n(322),toHkx:n(446),EiqLR:function(e,t,n){return e(t,n)}};if(r[n(179)](typeof t,r[n(171)])&&r[n(387)](t,null))throw new TypeError(r[n(162)]);e[n(446)]=Object[n(341)](t&&t[n(446)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(397)+n(459)](e,r[n(167)],{writable:!1}),t&&r[n(211)](Jp,e,t)}function Jp(e,t){var n=sm;return Jp=Object[n(286)+n(345)]||function(e,t){return e[n(215)]=t,e},{vfoeq:function(e,t,n){return e(t,n)}}[n(206)](Jp,e,t)}function em(e){var t=sm,n={bmTld:function(e,t){return e(t)},OoMEH:function(e,t){return e(t)},UJPLR:function(e,t,n){return e(t,n)},wdspV:function(e){return e()}},r=n[t(197)](rm);return function(){var o,i=t,a=n[i(287)](om,e);if(r){var s=n[i(422)](om,this)[i(291)+"r"];o=Reflect[i(307)](a,arguments,s)}else o=a[i(174)](this,arguments);return n[i(290)](tm,this,o)}}function tm(e,t){var n=sm,r={pSMfS:function(e,t){return e===t},NfqHC:function(e,t){return e(t)},ihvoG:n(323),pnyKK:n(360),JNcDu:function(e,t){return e!==t},LBHFq:n(196)+n(364)+n(185)+n(201)+n(359)+n(427),SMNqH:function(e,t){return e(t)}};if(t&&(r[n(452)](r[n(318)](qp,t),r[n(356)])||r[n(452)](typeof t,r[n(355)])))return t;if(r[n(256)](t,void 0))throw new TypeError(r[n(456)]);return r[n(467)](nm,e)}function nm(e){var t=sm,n={nxOgw:function(e,t){return e===t},ojSWg:t(259)+t(300)+t(194)+t(421)+t(437)+t(372)};if(n[t(177)](e,void 0))throw new ReferenceError(n[t(190)]);return e}function rm(){var e=sm,t={ApnZn:function(e,t){return e===t},tGhXp:e(277),xNIFS:e(360)};if(t[e(303)](typeof Reflect,t[e(207)])||!Reflect[e(307)])return!1;if(Reflect[e(307)][e(226)])return!1;if(t[e(303)](typeof Proxy,t[e(321)]))return!0;try{return Boolean[e(446)][e(395)][e(386)](Reflect[e(307)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function om(e){var t=sm;return om=Object[t(286)+t(345)]?Object[t(325)+t(345)]:function(e){var n=t;return e[n(215)]||Object[n(325)+n(345)](e)},{EGovA:function(e,t){return e(t)}}[t(228)](om,e)}function im(e,t,n){var r=sm;return{tsEKF:function(e,t){return e in t}}[r(251)](t,e)?Object[r(397)+r(459)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function am(){}function sm(e,t){var n=Zp();return(sm=function(e,t){return n[e-=155]})(e,t)}function lm(e,t){var n=sm;this[n(401)].x=e,this[n(401)].y=t}function cm(e,t){var n=sm;this[n(160)]=t,this[n(218)]=e,this[n(187)]()}function um(){var e,t=sm,n={nomMa:function(e,t){return e>t},kbxzM:function(e,t){return e!==t},izkgq:function(e,t){return e(t)}},r=n[t(458)](arguments[t(393)],0)&&n[t(358)](arguments[0],void 0)?arguments[0]:this[t(315)+"n"][t(203)].ws,o=n[t(155)](Xp,this[t(180)]);try{for(o.s();!(e=o.n())[t(310)];){var i=e[t(165)];i[t(472)](r)}}catch(e){o.e(e)}finally{o.f()}}function fm(){var e,t=sm,n={IcoYt:function(e,t){return e(t)}}[t(383)](Xp,this[t(180)]);try{for(n.s();!(e=n.n())[t(310)];){e[t(165)][t(449)]()}}catch(e){n.e(e)}finally{n.f()}}function hm(e,t,n,r){var o=sm,i={Fqbms:function(e,t){return e+t},IAgxZ:function(e,t){return e-t},MMZOG:function(e,t){return e-t}};return Math[o(285)](i[o(376)](Math[o(243)](i[o(473)](n,e),2),Math[o(243)](i[o(178)](r,t),2)))}function dm(e,t){var n=sm;return{mwNwi:function(e,t){return e!=t}}[n(235)](e[n(474)+"ed"],t[n(474)+"ed"])?-1:1}function pm(){for(var e=sm,t={TTOJH:e(436)+e(212),REgEU:e(278),hJzXE:function(e,t){return e>t},MLybk:e(200),uztkG:e(233)+e(354)+"t:",eTDyE:e(182)+e(462),OrjWI:e(474)+"ed",HAuKM:e(166),HjpLK:function(e,t){return e-t},MVQzM:function(e,t,n,r,o){return e(t,n,r,o)},uyhlD:function(e,t,n,r,o){return e(t,n,r,o)},GUpEl:function(e,t,n,r,o){return e(t,n,r,o)},cVmWA:function(e,t,n,r,o){return e(t,n,r,o)},YwjmO:e(276),ZiNXz:function(e,t){return e*t},qqkdi:function(e,t){return e>t},soehd:function(e,t){return e(t)},hfUfr:function(e){return e()}},n=this,r=t[e(441)](this[e(160)],this[e(218)]),o=function(r){for(var o=e,i=t[o(317)][o(370)]("|"),a=0;;){switch(i[a++]){case"0":var s=2;continue;case"1":n[o(288)][o(302)]({x:1,y:1});continue;case"2":c.on(t[o(275)],(function(){var e=o;l[e(264)](s,0)?(console[e(192)](l[e(280)],c,l[e(455)],s),s--,c[e(472)](n[e(315)+"n"][e(203)].ws)):console[e(192)](l[e(280)],c,l[e(306)])}));continue;case"3":var l={IHtdT:function(e,n){return t[o(189)](e,n)},wuEvz:t[o(380)],fZSGY:t[o(205)],gOFjh:t[o(331)]};continue;case"4":c.on(t[o(362)],(function(e){var t=o;s=2,e[t(245)+t(238)](),e[t(339)+"te"]()}));continue;case"5":c[o(221)]=t[o(181)];continue;case"6":n[o(180)][o(302)](c);continue;case"7":c[o(472)](n[o(315)+"n"][o(203)].ws);continue;case"8":var c=n[o(315)+"n"][o(293)](3);continue}break}},i=this[e(180)][e(393)];t[e(388)](r,i);i++)t[e(381)](o,i);for(var a=function(r,o){var i=e;return t[i(157)](t[i(438)](hm,r[i(392)],r[i(412)],n[i(401)].x,n[i(401)].y),t[i(234)](hm,o[i(392)],o[i(412)],n[i(401)].x,n[i(401)].y))},s=this[e(180)][e(269)]()[e(461)](a),l=this[e(180)][e(393)];t[e(388)](l--,r);){this[e(288)][e(337)]();var c=s[e(337)]();this[e(180)][e(301)](this[e(180)][e(249)](c),1),this[e(315)+"n"][e(405)+e(468)](c)}var u,f=this[e(288)][e(269)](),h=this[e(180)][e(269)]()[e(461)](dm),d=[],p=t[e(381)](Xp,this[e(180)]);try{var m=function(){for(var n=e,r=t[n(158)][n(370)]("|"),o=0;;){switch(r[o++]){case"0":var i=f[n(239)]();continue;case"1":u[n(165)];continue;case"2":h[n(301)](h[n(249)](a),1);continue;case"3":var a=h[n(296)]((function(e,r){var o=n;return t[o(157)](t[o(324)](hm,e[o(392)],e[o(412)],i.x,i.y),t[o(399)](hm,r[o(392)],r[o(412)],i.x,i.y))?e:r}));continue;case"4":d[n(302)](a);continue}break}};for(p.s();!(u=p.n())[e(310)];)t[e(254)](m)}catch(e){p.e(e)}finally{p.f()}this[e(180)]=d}function mm(e,t){var n=sm,r={kQUMX:function(e,t){return e%t},LfnxN:function(e,t){return e/t},QfCXg:function(e,t){return e-t}},o=r[n(297)](e,t);return{x:o,y:r[n(447)](r[n(184)](e,o),t)}}function vm(){for(var e=sm,t={IsdCh:e(403)+e(208)+e(191)+e(377),rKzfh:function(e,t){return e*t},cJocT:function(e,t){return e*t},xvhTY:function(e,t){return e-t},ADwpy:function(e,t){return e-t},Axihb:function(e,t){return e-t},MyPcX:function(e,t){return e/t},DsbTD:function(e,t){return e+t},tYwhG:function(e,t){return e&&t},dCdvC:function(e,t){return e+t},iOOKC:function(e,t){return e*t},VCHFF:function(e,t){return e+t},vazcd:function(e,t){return e&&t},jGmLo:function(e,t){return e-t},YIfjh:function(e,t){return e==t},yqXer:function(e,t){return e>t},vjglb:e(352)+"5",QHYVA:function(e,t){return e-t},VOlgZ:function(e,t){return e+t},itDdv:function(e,t,n){return e(t,n)},xvOIJ:function(e,t){return e*t},DCjrj:function(e,t){return e*t}},n=t[e(464)][e(370)]("|"),r=0;;){switch(n[r++]){case"0":var o=this[e(218)];continue;case"1":var i=this[e(160)];continue;case"2":var a=t[e(223)](i,x);continue;case"3":var s=t[e(428)](o,d);continue;case"4":var l=Math[e(425)](t[e(457)](this[e(315)+"n"][e(203)][e(298)],t[e(308)](this[e(401)].y,u)),0);continue;case"5":var c=Math[e(425)](t[e(183)](this[e(315)+"n"][e(203)][e(305)],t[e(183)](this[e(401)].x,p)),0);continue;case"6":var u=t[e(168)](a,2);continue;case"7":var f=Math[e(363)](t[e(183)](this[e(315)+"n"][e(203)][e(314)],t[e(163)](this[e(401)].y,u)),0);continue;case"8":var h=t[e(163)](this[e(401)].y,t[e(326)](l,f)?t[e(168)](t[e(163)](l,f),2):t[e(407)](l,f));continue;case"9":var d=this[e(316)+"th"];continue;case"10":var p=t[e(168)](s,2);continue;case"11":var m=new Array(t[e(222)](o,i));continue;case"12":var v=t[e(444)](this[e(401)].x,t[e(333)](c,y)?t[e(168)](t[e(444)](c,y),2):t[e(444)](c,y));continue;case"13":var y=Math[e(363)](t[e(390)](this[e(315)+"n"][e(203)][e(454)],t[e(444)](this[e(401)].x,p)),0);continue;case"14":if(t[e(453)](this[e(180)][e(393)],0))return;continue;case"15":for(var g=0;t[e(237)](m[e(393)],g);g++)for(var b=t[e(416)][e(370)]("|"),w=0;;){switch(b[w++]){case"0":var k=t[e(390)](t[e(222)](S,d),t[e(222)](t[e(168)](t[e(426)](o,1),2),d));continue;case"1":this[e(288)][g]={x:t[e(444)](k,v),y:t[e(268)](T,h)};continue;case"2":this[e(180)][g][e(304)]=this[e(288)][g].x;continue;case"3":var _=t[e(164)](mm,g,o),S=_.x,C=_.y;continue;case"4":var T=t[e(426)](t[e(260)](C,x),t[e(351)](t[e(168)](t[e(426)](i,1),2),x));continue;case"5":this[e(180)][g][e(385)]=this[e(288)][g].y;continue}break}continue;case"16":var x=this[e(213)+e(253)];continue}break}}function ym(){var e=sm;({gYkDi:function(e,t){return e(t)}})[e(230)](clearInterval,this[e(350)]),this[e(440)](0,0),this[e(369)]()}function gm(){var e,t=sm,n=0,r={QmYuZ:function(e,t){return e(t)}}[t(374)](Xp,this[t(180)]);try{for(r.s();!(e=r.n())[t(310)];){e[t(165)][t(474)+"ed"]&&n++}}catch(e){r.e(e)}finally{r.f()}return n}function bm(){var e=sm;return{bOEDz:function(e,t){return e*t}}[e(236)](this[e(218)],this[e(316)+"th"])}function wm(){var e=sm;return{Tjvwv:function(e,t){return e*t}}[e(170)](this[e(160)],this[e(213)+e(253)])}!function(e,t){for(var n=sm,r=e();;)try{if(972767===-parseInt(n(309))/1+parseInt(n(294))/2+-parseInt(n(340))/3*(parseInt(n(470))/4)+-parseInt(n(172))/5+-parseInt(n(241))/6*(parseInt(n(336))/7)+-parseInt(n(413))/8+-parseInt(n(229))/9*(-parseInt(n(430))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Zp);var km=function(e){var t=sm,n={OipAk:t(450)+t(439)+t(271)+t(411),niHQo:function(e,t,n,r){return e(t,n,r)},gtdqV:function(e,t){return e(t)},jIHwh:t(401),Xtguq:t(180),vljIF:function(e,t,n){return e(t,n)},fFRFj:t(316)+"th",wkoOZ:function(e,t){return e>t},UobvP:function(e,t){return e!==t},YJiVx:function(e,t,n){return e(t,n)},uNyPE:function(e,t){return e(t)},jIDCj:t(288),KQbid:function(e,t){return e(t)},QBTfK:t(218),ZFquD:function(e,t){return e(t)},zIFss:t(213)+t(253),zRUXI:function(e,t,n,r){return e(t,n,r)},SZNzf:function(e,t){return e(t)},UPBBX:t(160),ftFnS:function(e,t){return e(t)},pcDXA:function(e,t,n){return e(t,n)},nRYzs:t(460),JmZau:t(440),IHLBR:t(472),LyVps:t(449),ClRpk:t(187),Cvdab:t(252)+"ts",fhmER:t(429),RJTLj:t(283),kjoWs:t(404),FEGmV:t(332)};n[t(270)](Qp,o,e);var r=n[t(161)](em,o);function o(e){for(var i=t,a=n[i(175)][i(370)]("|"),s=0;;){switch(a[s++]){case"0":u[i(315)+"n"]=e;continue;case"1":return u;case"2":n[i(330)](im,n[i(402)](nm,u),n[i(451)],{x:0,y:0});continue;case"3":n[i(330)](im,n[i(402)](nm,u),n[i(394)],[]);continue;case"4":n[i(406)](Vp,this,o);continue;case"5":u=r[i(386)](this);continue;case"6":n[i(330)](im,n[i(402)](nm,u),n[i(176)],5066.0945289222045);continue;case"7":var l=n[i(274)](arguments[i(393)],1)&&n[i(419)](arguments[1],void 0)?arguments[1]:{};continue;case"8":u[i(350)]=n[i(270)](setInterval,(function(){var e=i;c[e(384)](),u[e(252)+"ts"]()}),c[i(350)]);continue;case"9":var c=Object[i(367)]({tick:am,interval:1e3},l);continue;case"10":n[i(330)](im,n[i(195)](nm,u),n[i(313)],[]);continue;case"11":n[i(330)](im,n[i(414)](nm,u),n[i(417)],0);continue;case"12":n[i(330)](im,n[i(366)](nm,u),n[i(282)],2968.414763040354);continue;case"13":n[i(272)](im,n[i(173)](nm,u),n[i(409)],0);continue;case"14":var u;continue}break}}return n[t(219)](Kp,o,[{key:n[t(471)],value:lm},{key:n[t(299)],value:cm},{key:n[t(431)],value:um},{key:n[t(410)],value:fm},{key:n[t(284)],value:pm},{key:n[t(329)],value:vm},{key:n[t(319)],value:ym},{key:n[t(408)],get:gm},{key:n[t(225)],get:bm},{key:n[t(424)],get:wm}]),o}(r.d);function _m(e){return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tm(e,t){return(Tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Im(e);if(t){var o=Im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){if(t&&("object"===_m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mm(e)}function Mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Im(e){return(Im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rm(e,t,n){this.name=e,this.ds=this.now,this.de=this.now+1e3*n,this.dr=this.now+1e3*t,this.st=!0}function Um(){this.ds=null,this.de=null,this.dr=null,this.name="",this.st=!1}function Am(){return Date.now()}function Em(){return this.st&&this.expiresIn<=0}function Lm(){return this.st?this.dr-this.now:1}function Fm(){return this.st&&this.nextAvailableIn<=0}function jm(){return this.st?this.de-this.now:1}var Dm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}(i,e);var t,n,r,o=xm(i);function i(){var e;Sm(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Om(Mm(e=o.call.apply(o,[this].concat(n))),"ds",null),Om(Mm(e),"de",null),Om(Mm(e),"dr",null),Om(Mm(e),"name",""),Om(Mm(e),"st",!1),e}return t=i,(n=[{key:"updateInfo",value:Rm},{key:"reset",value:Um},{key:"now",get:Am},{key:"isExpired",get:Em},{key:"nextAvailableIn",get:Lm},{key:"isAvailable",get:Fm},{key:"expiresIn",get:jm}])&&Cm(t.prototype,n),r&&Cm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.d);function Bm(e){var t=Gm,n={bgUql:function(e,t){return e==t},FTjzN:t(479),GBpgk:function(e,t){return e===t},syUvQ:function(e,t){return e!==t},vzPdf:t(452),GVNMA:function(e,t){return e(t)}};return Bm=n[t(490)](n[t(565)],typeof Symbol)&&n[t(490)](n[t(574)],typeof Symbol[t(457)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(490)](n[r(565)],typeof Symbol)&&n[r(449)](e[r(454)+"r"],Symbol)&&n[r(450)](e,Symbol[r(536)])?n[r(574)]:typeof e},n[t(517)](Bm,e)}function zm(e,t){var n=Gm,r={pvInu:function(e,t){return e instanceof t},vLQIC:n(554)+n(493)+n(477)+n(474)};if(!r[n(481)](e,t))throw new TypeError(r[n(569)])}function Nm(e,t){for(var n=Gm,r={VQekv:function(e,t){return e<t},SGfbF:n(445),jJCCE:function(e,t){return e in t},zDTSE:n(501)},o=0;r[n(538)](o,t[n(545)]);o++)for(var i=r[n(485)][n(531)]("|"),a=0;;){switch(i[a++]){case"0":r[n(506)](r[n(551)],s)&&(s[n(505)]=!0);continue;case"1":Object[n(498)+n(470)](e,s[n(500)],s);continue;case"2":s[n(567)+"le"]=!0;continue;case"3":s[n(566)]=s[n(566)]||!1;continue;case"4":var s=t[o];continue}break}}function Hm(e,t,n){var r=Gm,o={sixfb:function(e,t,n){return e(t,n)},Ooxxe:r(536)};return t&&o[r(496)](Nm,e[r(536)],t),n&&o[r(496)](Nm,e,n),Object[r(498)+r(470)](e,o[r(557)],{writable:!1}),e}function Gm(e,t){var n=rv();return(Gm=function(e,t){return n[e-=445]})(e,t)}function qm(e,t){var n=Gm,r={GYAqX:function(e,t){return e!==t},ZnlFY:n(479),SYoEI:n(471)+n(491)+n(459)+n(468)+n(555),TDcyK:n(536),VHOde:function(e,t,n){return e(t,n)}};if(r[n(453)](typeof t,r[n(466)])&&r[n(453)](t,null))throw new TypeError(r[n(478)]);e[n(536)]=Object[n(510)](t&&t[n(536)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(498)+n(470)](e,r[n(544)],{writable:!1}),t&&r[n(503)](Xm,e,t)}function Xm(e,t){var n=Gm;return Xm=Object[n(511)+n(562)]||function(e,t){return e[n(483)]=t,e},{tCOyH:function(e,t,n){return e(t,n)}}[n(520)](Xm,e,t)}function Wm(e){var t=Gm,n={FbZHv:function(e,t){return e(t)},ODJYI:function(e,t,n){return e(t,n)},ynEqp:function(e){return e()}},r=n[t(570)]($m);return function(){var o,i=t,a=n[i(519)](Km,e);if(r){var s=n[i(519)](Km,this)[i(454)+"r"];o=Reflect[i(550)](a,arguments,s)}else o=a[i(572)](this,arguments);return n[i(524)](Ym,this,o)}}function Ym(e,t){var n=Gm,r={KUAmk:function(e,t){return e===t},tXqNZ:function(e,t){return e(t)},mKuNi:n(525),YPTrq:n(479),oeftN:function(e,t){return e!==t},KpVxv:n(494)+n(535)+n(547)+n(465)+n(473)+n(472),uPijA:function(e,t){return e(t)}};if(t&&(r[n(475)](r[n(476)](Bm,t),r[n(533)])||r[n(475)](typeof t,r[n(504)])))return t;if(r[n(527)](t,void 0))throw new TypeError(r[n(495)]);return r[n(528)](Vm,e)}function Vm(e){var t=Gm,n={ESdew:function(e,t){return e===t},zIqvs:t(559)+t(509)+t(564)+t(534)+t(568)+t(537)};if(n[t(486)](e,void 0))throw new ReferenceError(n[t(480)]);return e}function $m(){var e=Gm,t={AQzqb:function(e,t){return e===t},RspeN:e(546),tdolC:e(479)};if(t[e(516)](typeof Reflect,t[e(446)])||!Reflect[e(550)])return!1;if(Reflect[e(550)][e(502)])return!1;if(t[e(516)](typeof Proxy,t[e(560)]))return!0;try{return Boolean[e(536)][e(492)][e(456)](Reflect[e(550)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function Km(e){var t=Gm;return Km=Object[t(511)+t(562)]?Object[t(561)+t(562)]:function(e){var n=t;return e[n(483)]||Object[n(561)+n(562)](e)},{HpdEK:function(e,t){return e(t)}}[t(540)](Km,e)}function Zm(e,t,n){var r=Gm;return{PIdNY:function(e,t){return e in t}}[r(573)](t,e)?Object[r(498)+r(470)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(){}function Jm(){var e=Gm;return this[e(447)+"n"][e(467)][e(464)]}function ev(){for(var e=Gm,t={LWWeG:e(499),QyPLU:e(543),MvKrF:e(542)},n=t[e(488)][e(531)]("|"),r=0;;){switch(n[r++]){case"0":this[e(469)]=!0;continue;case"1":this[e(523)](t[e(529)],this[e(469)]);continue;case"2":this[e(462)](3,5);continue;case"3":if(this[e(469)]&&!this[e(552)+"e"]())return;continue;case"4":this[e(523)](t[e(497)]);continue}break}}function tv(){for(var e=Gm,t={vcSVN:e(549),XsRLk:e(513),atOgd:e(543)},n=t[e(507)][e(531)]("|"),r=0;;){switch(n[r++]){case"0":if(!this[e(469)])return;continue;case"1":this[e(462)](0,0);continue;case"2":this[e(469)]=!1;continue;case"3":this[e(523)](t[e(541)]);continue;case"4":this[e(523)](t[e(515)],this[e(469)]);continue}break}}!function(e,t){for(var n=Gm,r=e();;)try{if(955959===parseInt(n(548))/1+-parseInt(n(518))/2*(-parseInt(n(532))/3)+parseInt(n(553))/4+-parseInt(n(458))/5+-parseInt(n(558))/6+parseInt(n(461))/7+-parseInt(n(512))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(rv);var nv=function(e){var t=Gm,n={DCEjB:t(455)+t(556),AFPFN:function(e,t,n,r){return e(t,n,r)},EssYC:function(e,t){return e(t)},GpSqE:t(469),nJRSl:function(e,t,n,r){return e(t,n,r)},xXkcJ:function(e,t){return e(t)},peKmc:t(448),MBwiB:t(539),ZLosa:function(e,t,n){return e(t,n)},NdeNU:t(526),nSzyN:t(552)+"e",rnEtU:t(542),lLgBg:t(513)};n[t(489)](qm,o,e);var r=n[t(451)](Wm,o);function o(e,i){for(var a=t,s=n[a(563)][a(531)]("|"),l=0;;){switch(s[l++]){case"0":n[a(463)](Zm,n[a(514)](Vm,c),n[a(482)],!1);continue;case"1":n[a(522)](Zm,n[a(451)](Vm,c),n[a(521)],new Dm);continue;case"2":c[a(487)](c[a(447)+"n"],n[a(508)],Qm);continue;case"3":c=r[a(456)](this,e);continue;case"4":n[a(489)](zm,this,o);continue;case"5":c[a(487)](c[a(447)+"n"],n[a(571)],(function(){c[a(513)]()}));continue;case"6":var c;continue;case"7":return c}break}}return n[t(489)](Hm,o,[{key:n[t(484)],value:Jm},{key:n[t(460)],value:ev},{key:n[t(530)],value:tv}]),o}(km);function rv(){var e=["writable","jJCCE","vcSVN","MBwiB","t been ini","create","setPrototy","8166584ejFWFC","disable","EssYC","atOgd","AQzqb","GVNMA","1685686oIbwdg","FbZHv","tCOyH","peKmc","nJRSl","emit","ODJYI","object","disconnect","oeftN","uPijA","QyPLU","lLgBg","split","6DxdRkt","mKuNi"," super() h","nstructors","prototype"," called","VQekv","connect","HpdEK","XsRLk","enable","toggle","TDcyK","length","undefined"," may only ","924885QuEknN","0|2|1|3|4","construct","zDTSE","isAvailabl","1666724WJNJLO","Cannot cal","a function","5|2|7","Ooxxe","7099326vjbpFO","this hasn'","tdolC","getPrototy","peOf","DCEjB","tialised -","FTjzN","enumerable","configurab","asn't been","vLQIC","ynEqp","NdeNU","apply","PIdNY","vzPdf","4|3|2|0|1","RspeN","applicatio","plan","GBpgk","syUvQ","xXkcJ","symbol","GYAqX","constructo","6|4|3|0|1|","call","iterator","4377075eiJeBT","t either b","rnEtU","7057162wEGNwW","setSize","AFPFN","isAgario","return obj","ZnlFY","server","e null or ","enabled","erty","Super expr","efined","ect or und","ion","KUAmk","tXqNZ","as a funct","SYoEI","function","zIqvs","pvInu","GpSqE","__proto__","nSzyN","SGfbF","ESdew","listenTo","LWWeG","ZLosa","bgUql","ession mus","valueOf","l a class ","Derived co","KpVxv","sixfb","MvKrF","defineProp","3|0|2|4|1","key","value","sham","VHOde","YPTrq"];return(rv=function(){return e})()}function ov(e){var t=Pv,n={bYyuw:function(e,t){return e==t},xTtpg:t(273),FAetu:function(e,t){return e===t},QoKlC:function(e,t){return e!==t},xipyz:t(526),XaTON:function(e,t){return e==t},iJSPF:function(e,t){return e(t)}};return ov=n[t(322)](n[t(514)],typeof Symbol)&&n[t(462)](n[t(373)],typeof Symbol[t(417)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(322)](n[r(514)],typeof Symbol)&&n[r(292)](e[r(291)+"r"],Symbol)&&n[r(454)](e,Symbol[r(466)])?n[r(373)]:typeof e},n[t(293)](ov,e)}function iv(e){var t=Pv,n={gdJtc:function(e,t){return e(t)},ZLDHX:function(e,t){return e(t)},GPPLZ:function(e){return e()}};return n[t(472)](lv,e)||n[t(479)](sv,e)||n[t(479)](uv,e)||n[t(511)](av)}function av(){var e=Pv,t={DPyCE:e(282)+e(332)+e(525)+e(389)+e(356)+e(405)+e(398)+e(314)+e(276)+e(313)+e(363)+e(374)+e(439)+"."};throw new TypeError(t[e(429)])}function sv(e){var t=Pv,n={KsKRv:function(e,t){return e!==t},VGXYs:t(286),AeapP:function(e,t){return e!=t},xmAeh:t(504)};if(n[t(388)](typeof Symbol,n[t(371)])&&n[t(476)](e[Symbol[t(417)]],null)||n[t(476)](e[n[t(457)]],null))return Array[t(372)](e)}function lv(e){var t=Pv;if(Array[t(488)](e))return{pUOpE:function(e,t){return e(t)}}[t(329)](fv,e)}function cv(e,t){for(var n=Pv,r={mcydU:n(360),xGonM:function(e,t){return e!==t},RgNTq:n(286),ZImKY:n(504),GtZWH:function(e,t){return e(t)},KGKME:function(e,t){return e&&t},BatDP:function(e,t){return e===t},enysX:n(411),FwKGJ:n(282)+n(347)+n(399)+n(498)+n(364)+n(424)+n(407)+n(384)+n(383)+n(515)+n(312)+n(519)+n(343)+"d.",RoDMp:function(e,t){return e>=t},DNaFu:function(e,t){return e!=t},fjwmK:n(450)},o=r[n(418)][n(400)]("|"),i=0;;){switch(o[i++]){case"0":return{s:function(){a=a[n(516)](e)},n:function(){var e=n,t=a[e(387)]();return u=t[e(435)],t},e:function(e){f=!0,c=e},f:function(){var e=n;try{!u&&h[e(468)](a[h[e(290)]],null)&&a[h[e(290)]]()}finally{if(f)throw c}}};case"1":var a=r[n(483)](typeof Symbol,r[n(297)])&&e[Symbol[n(417)]]||e[r[n(412)]];continue;case"2":if(!a){if(Array[n(488)](e)||(a=r[n(522)](uv,e))||r[n(469)](t,e)&&r[n(524)](typeof e[n(283)],r[n(353)])){a&&(e=a);var s=0,l=function(){};return{s:l,n:function(){var t=n;return h[t(279)](s,e[t(283)])?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:l}}throw new TypeError(r[n(464)])}continue;case"3":var c,u=!0,f=!1;continue;case"4":var h={eFxtI:function(e,t){return r[n(459)](e,t)},jWdJY:function(e,t){return r[n(506)](e,t)},MHUbQ:r[n(361)]};continue}break}}function uv(e,t){for(var n=Pv,r={yAMxd:n(326)+"4",ezvAn:function(e,t){return e===t},EfGJq:n(442),QWnKM:function(e,t,n){return e(t,n)},xzzxP:function(e,t){return e===t},sfSbp:n(465),bnREq:n(284),zZHcZ:n(377),srZAQ:n(447)},o=r[n(281)][n(400)]("|"),i=0;;){switch(o[i++]){case"0":if(!e)return;continue;case"1":if(r[n(527)](typeof e,r[n(376)]))return r[n(341)](fv,e,t);continue;case"2":if(r[n(306)](a,r[n(409)])||r[n(306)](a,r[n(275)]))return Array[n(372)](e);continue;case"3":var a=Object[n(466)][n(455)][n(516)](e)[n(416)](8,-1);continue;case"4":if(r[n(306)](a,r[n(339)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[n(490)](a))return r[n(341)](fv,e,t);continue;case"5":r[n(306)](a,r[n(331)])&&e[n(291)+"r"]&&(a=e[n(291)+"r"][n(473)]);continue}break}}function fv(e,t){var n=Pv,r={mxYPS:function(e,t){return e==t},NNrZe:function(e,t){return e>t},SXXRu:function(e,t){return e<t}};(r[n(436)](t,null)||r[n(510)](t,e[n(283)]))&&(t=e[n(283)]);for(var o=0,i=new Array(t);r[n(346)](o,t);o++)i[o]=e[o];return i}function hv(e,t){var n=Pv,r={WZIBu:function(e,t){return e instanceof t},hruzT:n(385)+n(499)+n(336)+n(380)};if(!r[n(445)](e,t))throw new TypeError(r[n(354)])}function dv(e,t){for(var n=Pv,r={xAtgv:function(e,t){return e<t},Vmzxe:n(487),TdhRk:function(e,t){return e in t},daieq:n(414)},o=0;r[n(335)](o,t[n(283)]);o++)for(var i=r[n(317)][n(400)]("|"),a=0;;){switch(i[a++]){case"0":s[n(471)+"le"]=!0;continue;case"1":var s=t[o];continue;case"2":Object[n(463)+n(320)](e,s[n(451)],s);continue;case"3":s[n(509)]=s[n(509)]||!1;continue;case"4":r[n(452)](r[n(440)],s)&&(s[n(428)]=!0);continue}break}}function pv(e,t,n){var r=Pv,o={IRyqz:function(e,t,n){return e(t,n)},CHMye:r(466)};return t&&o[r(437)](dv,e[r(466)],t),n&&o[r(437)](dv,e,n),Object[r(463)+r(320)](e,o[r(481)],{writable:!1}),e}function mv(e,t){var n=Pv,r={XrMef:function(e,t){return e!==t},IRtWg:n(273),jCYmg:function(e,t){return e!==t},LfCPr:n(285)+n(359)+n(420)+n(350)+n(334),frsXJ:n(466),yKJAf:function(e,t,n){return e(t,n)}};if(r[n(404)](typeof t,r[n(379)])&&r[n(521)](t,null))throw new TypeError(r[n(421)]);e[n(466)]=Object[n(287)](t&&t[n(466)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(463)+n(320)](e,r[n(443)],{writable:!1}),t&&r[n(415)](vv,e,t)}function vv(e,t){var n=Pv;return vv=Object[n(381)+n(494)]||function(e,t){return e[n(427)]=t,e},{clyAM:function(e,t,n){return e(t,n)}}[n(352)](vv,e,t)}function yv(e){var t=Pv,n={OitHO:function(e,t){return e(t)},XUiGW:function(e,t,n){return e(t,n)},hfTvr:function(e){return e()}},r=n[t(456)](wv);return function(){var o,i=t,a=n[i(474)](kv,e);if(r){var s=n[i(474)](kv,this)[i(291)+"r"];o=Reflect[i(340)](a,arguments,s)}else o=a[i(401)](this,arguments);return n[i(507)](gv,this,o)}}function gv(e,t){var n=Pv,r={kdNPQ:function(e,t){return e===t},bXBrx:function(e,t){return e(t)},ROCyr:n(330),OKBVq:function(e,t){return e===t},LbThO:n(273),trgFz:function(e,t){return e!==t},mTUvx:n(338)+n(274)+n(357)+n(365)+n(316)+n(508),iWBRg:function(e,t){return e(t)}};if(t&&(r[n(517)](r[n(310)](ov,t),r[n(337)])||r[n(422)](typeof t,r[n(453)])))return t;if(r[n(386)](t,void 0))throw new TypeError(r[n(321)]);return r[n(345)](bv,e)}function bv(e){var t=Pv,n={QhOwK:function(e,t){return e===t},Szfke:t(484)+t(304)+t(482)+t(298)+t(460)+t(315)};if(n[t(349)](e,void 0))throw new ReferenceError(n[t(375)]);return e}function wv(){var e=Pv,t={gYDJq:function(e,t){return e===t},ZtYMN:e(286),hkkpn:e(273)};if(t[e(319)](typeof Reflect,t[e(491)])||!Reflect[e(340)])return!1;if(Reflect[e(340)][e(348)])return!1;if(t[e(319)](typeof Proxy,t[e(391)]))return!0;try{return Boolean[e(466)][e(470)][e(516)](Reflect[e(340)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function kv(e){var t=Pv;return kv=Object[t(381)+t(494)]?Object[t(430)+t(494)]:function(e){var n=t;return e[n(427)]||Object[n(430)+n(494)](e)},{lwGtq:function(e,t){return e(t)}}[t(449)](kv,e)}function _v(e,t,n){var r=Pv;return{undvY:function(e,t){return e in t}}[r(368)](t,e)?Object[r(463)+r(320)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sv(){var e=["valueOf","configurab","gdJtc","name","OitHO","CCsIb","AeapP","OYMvd","BZMCW","ZLDHX","FJKBw","CHMye","tialised -","xGonM","this hasn'","430yqlZhp","shed","1|3|0|4|2","isArray","server","test","ZtYMN","t_handler","mrTVU","peOf","4414068zzIdlk","CiJDP","removeEven","-iterable ","l a class ","296rhOjQS","10510UXvzGN","listenTo","setSize","@@iterator","1|3|5","DNaFu","XUiGW","efined","enumerable","NNrZe","GPPLZ","TYPE","play","xTtpg","ts must ha","call","kdNPQ","emit","ol.iterato","qMdir","jCYmg","GtZWH","svBTd","BatDP","pread non-","symbol","ezvAn","death","function","nstructors","bnREq","ray object","size","cMXbj","eFxtI","player","yAMxd","Invalid at","length","Set","Super expr","undefined","create","unestabili","137BLdblR","MHUbQ","constructo","FAetu","iJSPF","cxgBa","6785nPVyco","iewX","RgNTq"," super() h","QlhNW","RaRHP","CYLhN","rnNnc","isAgario","t been ini","7|0|3","xzzxP","removeList","RwSez","153230WlxfVV","bXBrx","bsgpL","ve a [Symb","s must hav","le, non-ar"," called","ect or und","Vmzxe","destroy","gYDJq","erty","mTUvx","bYyuw","LMZIb","enabled","MyFZf","0|1|3|5|2|","UrVWm","KgFae","pUOpE","object","srZAQ","tempt to s","xEzZh","a function","xAtgv","as a funct","ROCyr","Derived co","zZHcZ","construct","QWnKM","controller","r]() metho","spawn","iWBRg","SXXRu","tempt to i","sham","QhOwK","e null or ","1782IcPYgL","clyAM","enysX","hruzT","setTarget","nstance.\nI"," may only ","clients","ession mus","4|1|2|3|0","fjwmK","sYWoF","e a [Symbo","instance.\n","return obj","plan","9|5|10|2|1","undvY","aYybm","CTWwl","VGXYs","from","xipyz","l.iterator","Szfke","EfGJq","Arguments","PuNYr","IRtWg","ion","setPrototy","XwpDj","rray objec","ble, non-a","Cannot cal","trgFz","next","KsKRv","iterable i","rGzIB","hkkpn","initClient","disable","protocol_v","splice","hookEvents","DxSbc"," be iterab","terate non","split","apply","iewY","vrMvc","XrMef","n order to","indexOf","o be itera","KwLqV","sfSbp","qPEsP","number","ZImKY","itpuv","value","yKJAf","slice","iterator","mcydU","ener","t either b","LfCPr","OKBVq","VGDac","In order t","uhsST","|4|6|11|8|","__proto__","writable","DPyCE","getPrototy","6|0|2|4|7|","1726842BrxeRn","_initClien","toggle","done","mxYPS","IRyqz","10283634lacOYB","]() method","daieq","push","string","frsXJ","56936DXwULI","WZIBu","IBSFh","Object","applicatio","lwGtq","return","key","TdhRk","LbThO","QoKlC","toString","hfTvr","xmAeh","MihJF","RoDMp","asn't been","enable","XaTON","defineProp","FwKGJ","Map","prototype","4|2|0|5|3|","jWdJY","KGKME"];return(Sv=function(){return e})()}function Cv(){for(var e=Pv,t={QlhNW:e(431)+e(505),XwpDj:e(392),RwSez:e(461),svBTd:function(e,t){return e(t)},IBSFh:e(434)},n=t[e(299)][e(400)]("|"),r=0;;){switch(n[r++]){case"0":if(this[e(324)])return;continue;case"1":this[e(448)+"n"].on(t[e(382)],this[e(433)+e(492)]=function(t){a[e(396)](t)});continue;case"2":this[e(324)]=!0;continue;case"3":this[e(518)](t[e(308)]);continue;case"4":var o,i=t[e(523)](cv,this[e(448)+"n"][e(358)][e(280)]);continue;case"5":this[e(518)](t[e(446)],this[e(324)]);continue;case"6":var a=this;continue;case"7":try{for(i.s();!(o=i.n())[e(435)];){var s=o[e(414)];this[e(396)](s)}}catch(e){i.e(e)}finally{i.f()}continue}break}}function Tv(){for(var e=Pv,t={VGDac:e(467)+"1",qPEsP:e(434),sYWoF:function(e,t){return e(t)},MihJF:e(393),CiJDP:e(392)},n=t[e(423)][e(400)]("|"),r=0;;){switch(n[r++]){case"0":try{for(a.s();!(i=a.n())[e(435)];){var o=i[e(414)];this[e(342)+"s"][e(395)](this[e(342)+"s"][e(406)](o),1),o[e(318)]()}}catch(e){a.e(e)}finally{a.f()}continue;case"1":this[e(518)](t[e(410)],this[e(324)]);continue;case"2":var i,a=t[e(362)](cv,this[e(342)+"s"]);continue;case"3":this[e(518)](t[e(458)]);continue;case"4":this[e(448)+"n"][e(307)+e(419)](t[e(496)],this[e(433)+e(492)]);continue;case"5":this[e(324)]=!1;continue}break}}function xv(e){var t=Pv,n={DxSbc:function(e){return e()},FJKBw:function(e,t){return e(t)},rGzIB:function(e,t,n){return e(t,n)},CCsIb:function(e,t){return e!=t},UrVWm:function(e,t){return e(t)},uhsST:t(344),KgFae:t(272),xEzZh:t(288)+t(486),CYLhN:t(497)+"ts"},r=this;if(!n[t(475)](e[t(512)],0)){var o=new km(this[t(448)+"n"],{tick:function(){var n=t;return o[n(355)](e[n(394)+n(296)],e[n(394)+n(402)])},interval:40}),i=function(){var n=t;return r[n(448)+"n"][n(489)][n(303)]&&e[n(513)]};this[t(342)+"s"][t(441)](o),n[t(397)](i)&&o[t(503)][t(401)](o,n[t(327)](iv,this[t(277)])),o[t(502)](e,n[t(425)],(function(){var e=t;return n[e(397)](i)&&o[e(503)][e(401)](o,n[e(480)](iv,r[e(277)]))})),o[t(502)](e,n[t(328)],(function(){return n[t(390)](setTimeout,a,5e3)})),o[t(502)](e,n[t(333)],(function(){return o[t(503)](0,0)})),o[t(502)](e,n[t(301)],(function(){var e=t;o[e(318)](),r[e(342)+"s"][e(395)](r[e(342)+"s"][e(406)](o),1)}))}function a(){var n=t;e[n(513)]||o[n(503)](0,0)}}function Pv(e,t){var n=Sv();return(Pv=function(e,t){return n[e-=272]})(e,t)}!function(e,t){for(var n=Pv,r=e();;)try{if(766261===-parseInt(n(289))/1*(parseInt(n(501))/2)+-parseInt(n(432))/3+parseInt(n(495))/4+parseInt(n(295))/5*(parseInt(n(351))/6)+parseInt(n(309))/7*(-parseInt(n(500))/8)+parseInt(n(438))/9+parseInt(n(485))/10*(parseInt(n(444))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Sv);var Mv=function(e){var t=Pv,n={OYMvd:t(367)+t(426)+t(305),itpuv:function(e,t,n,r){return e(t,n,r)},mrTVU:function(e,t){return e(t)},RaRHP:t(324),LMZIb:t(277),MyFZf:function(e,t){return e>t},cMXbj:function(e,t){return e!==t},cxgBa:function(e,t,n,r){return e(t,n,r)},rnNnc:function(e,t){return e(t)},KwLqV:t(366),vrMvc:function(e,t,n){return e(t,n)},PuNYr:function(e,t){return e(t)},bsgpL:t(342)+"s",aYybm:function(e,t,n){return e(t,n)},BZMCW:t(461),qMdir:t(393),CTWwl:t(396)};n[t(403)](mv,o,e);var r=n[t(378)](yv,o);function o(e){for(var i=t,a=n[i(477)][i(400)]("|"),s=0;;){switch(a[s++]){case"0":c[i(433)+i(492)]=null;continue;case"1":n[i(413)](_v,n[i(493)](bv,c),n[i(300)],!1);continue;case"2":c=r[i(516)](this);continue;case"3":return c;case"4":n[i(413)](_v,n[i(493)](bv,c),n[i(323)],[0,0]);continue;case"5":var l=n[i(325)](arguments[i(283)],1)&&n[i(278)](arguments[1],void 0)?arguments[1]:[0,0];continue;case"6":n[i(294)](_v,n[i(302)](bv,c),n[i(408)],new Dm);continue;case"7":c[i(277)]=l;continue;case"8":c[i(448)+"n"]=e;continue;case"9":var c;continue;case"10":n[i(403)](hv,this,o);continue;case"11":n[i(294)](_v,n[i(378)](bv,c),n[i(311)],[]);continue}break}}return n[t(369)](pv,o,[{key:n[t(478)],value:Cv},{key:n[t(520)],value:Tv},{key:n[t(370)],value:xv}]),o}(r.d);function Iv(e){var t=Rv,n={tSwyf:function(e,t){return e==t},mdezG:t(397),qzNyI:function(e,t){return e===t},scWTt:function(e,t){return e!==t},pbgOt:t(318),eltUj:function(e,t){return e==t},lWrko:function(e,t){return e(t)}};return Iv=n[t(434)](n[t(336)],typeof Symbol)&&n[t(434)](n[t(281)],typeof Symbol[t(394)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(288)](n[r(336)],typeof Symbol)&&n[r(348)](e[r(377)+"r"],Symbol)&&n[r(311)](e,Symbol[r(352)])?n[r(281)]:typeof e},n[t(340)](Iv,e)}function Ov(e,t,n,r,o,i,a){var s=Rv,l={afoMe:function(e,t){return e(t)}};try{var c=e[i](a),u=c[s(387)]}catch(e){return void l[s(319)](n,e)}c[s(358)]?l[s(319)](t,u):Promise[s(363)](u)[s(411)](r,o)}function Rv(e,t){var n=Ev();return(Rv=function(e,t){return n[e-=274]})(e,t)}function Uv(e){var t=Rv,n={soIVH:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},SsHuw:t(402),QYAWa:function(e,t){return e(t)},MzPte:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},zWrwL:t(345)};return function(){var r=t,o={WdVDi:function(e,t,r,o,i,a,s,l){return n[Rv(421)](e,t,r,o,i,a,s,l)},XfUdT:n[r(286)]},i=this,a=arguments;return new Promise((function(t,s){var l=r,c={ZRVOa:function(e,t,r,o,i,a,s,l){return n[Rv(356)](e,t,r,o,i,a,s,l)},QPHih:n[l(317)]},u=e[l(381)](i,a);function f(e){var n=l;c[n(343)](Ov,u,t,s,f,h,c[n(314)],e)}function h(e){var n=l;o[n(428)](Ov,u,t,s,f,h,o[n(289)],e)}n[l(393)](f,void 0)}))}}function Av(e,t){var n=Rv,r={LPWee:function(e,t){return e instanceof t},oexvv:n(380)+n(383)+n(419)+n(328)};if(!r[n(354)](e,t))throw new TypeError(r[n(282)])}function Ev(){var e=["ccKKk","disableAll","4|3|7|2|5|","aqdIu","BlpbN","as a funct","split","MzPte","erty","fkrqy","end","ZubPw","BqRsT","rYSpp","WdVDi","applicatio","JeSmM","16daBbjd","TfPIW","setPrototy","eltUj","BzVwu","construct","t been ini","22bfzdus","yrraI","controller","abrupt","pbgOt","oexvv","13916IjNMqJ","NFwAY","4|1|3|0|2","zWrwL","key","tSwyf","XfUdT","gEELP","enumerable","enable","eZOcD","toggle","Derived co","ect or und","ZRHyR","Super expr"," super() h","removeList","length","defineProp","dBcLT","disable","wCWqZ","undefined","LMnGw","call","GFzjw","writable","scWTt","prev","Jkboj","QPHih","a function","AUrus","SsHuw","symbol","afoMe","GdlYu","khmnF","enabled","getPrototy","ener","CAMuO","10169236mhuWaA","vAHVP","ion","backend","OrToggle","LKijE","ession mus","mNiKB","UIrNn","BDYnd","mdezG","rlfJl","wrap","t either b","lWrko","once","toggle:","ZRVOa","EKwAp","throw","lLLTh","efined","qzNyI","cHLGV","listenTo","valueOf","prototype","4077798XOyKWu","LPWee"," called","soIVH","__proto__","done","sham","1|6|0","gvDVJ","tSUEo","resolve","vZSJW","emit","pNZvx","nstructors","845230hvBMEo","mark","qBggY","name","asn't been","return","67782CFdWMS","9Vsjvoz","Yjlgl","constructo","return obj","545ymWvUi","Cannot cal","apply","WYNpe","l a class ","tialised -","bHcae","bekND","value","iZvKc"," may only ","LPEpA","object","serverTime","QYAWa","iterator","usePlan","create","function","QauGD","dhrTq","fhSPN","this hasn'","next","e null or ","454652mUTIaj","1315237wQdvTe","stop","uLSkV","vKooA","configurab","HjlHs","then","JNtuX","peOf"];return(Ev=function(){return e})()}function Lv(e,t){for(var n=Rv,r={bekND:function(e,t){return e<t},HjlHs:n(285),JeSmM:function(e,t){return e in t},TfPIW:n(387)},o=0;r[n(386)](o,t[n(301)]);o++)for(var i=r[n(410)][n(420)]("|"),a=0;;){switch(i[a++]){case"0":r[n(430)](r[n(432)],s)&&(s[n(310)]=!0);continue;case"1":s[n(291)]=s[n(291)]||!1;continue;case"2":Object[n(302)+n(422)](e,s[n(287)],s);continue;case"3":s[n(409)+"le"]=!0;continue;case"4":var s=t[o];continue}break}}function Fv(e,t,n){var r=Rv,o={khmnF:function(e,t,n){return e(t,n)},AUrus:function(e,t,n){return e(t,n)},UIrNn:r(352)};return t&&o[r(321)](Lv,e[r(352)],t),n&&o[r(316)](Lv,e,n),Object[r(302)+r(422)](e,o[r(334)],{writable:!1}),e}function jv(e,t){var n=Rv,r={ccKKk:function(e,t){return e!==t},rlfJl:n(397),Yjlgl:function(e,t){return e!==t},LKijE:n(298)+n(332)+n(339)+n(403)+n(315),dhrTq:n(352),gvDVJ:function(e,t,n){return e(t,n)}};if(r[n(414)](typeof t,r[n(337)])&&r[n(376)](t,null))throw new TypeError(r[n(331)]);e[n(352)]=Object[n(396)](t&&t[n(352)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(302)+n(422)](e,r[n(399)],{writable:!1}),t&&r[n(361)](Dv,e,t)}function Dv(e,t){var n=Rv;return Dv=Object[n(433)+n(413)]||function(e,t){return e[n(357)]=t,e},{GFzjw:function(e,t,n){return e(t,n)}}[n(309)](Dv,e,t)}function Bv(e){var t=Rv,n={ZRHyR:function(e,t){return e(t)},NFwAY:function(e,t,n){return e(t,n)},fhSPN:function(e){return e()}},r=n[t(400)](Hv);return function(){var o,i=t,a=n[i(297)](Gv,e);if(r){var s=n[i(297)](Gv,this)[i(377)+"r"];o=Reflect[i(275)](a,arguments,s)}else o=a[i(381)](this,arguments);return n[i(284)](zv,this,o)}}function zv(e,t){var n=Rv,r={uLSkV:function(e,t){return e===t},vAHVP:function(e,t){return e(t)},EKwAp:n(391),WYNpe:n(397),JNtuX:function(e,t){return e!==t},Jkboj:n(295)+n(367)+n(389)+n(378)+n(296)+n(347),eZOcD:function(e,t){return e(t)}};if(t&&(r[n(407)](r[n(327)](Iv,t),r[n(344)])||r[n(407)](typeof t,r[n(382)])))return t;if(r[n(412)](t,void 0))throw new TypeError(r[n(313)]);return r[n(293)](Nv,e)}function Nv(e){var t=Rv,n={rYSpp:function(e,t){return e===t},bHcae:t(401)+t(276)+t(384)+t(299)+t(372)+t(355)};if(n[t(427)](e,void 0))throw new ReferenceError(n[t(385)]);return e}function Hv(){var e=Rv,t={gEELP:function(e,t){return e===t},iZvKc:e(306),GdlYu:e(397)};if(t[e(290)](typeof Reflect,t[e(388)])||!Reflect[e(275)])return!1;if(Reflect[e(275)][e(359)])return!1;if(t[e(290)](typeof Proxy,t[e(320)]))return!0;try{return Boolean[e(352)][e(351)][e(308)](Reflect[e(275)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function Gv(e){var t=Rv;return Gv=Object[t(433)+t(413)]?Object[t(323)+t(413)]:function(e){var n=t;return e[n(357)]||Object[n(323)+n(413)](e)},{QauGD:function(e,t){return e(t)}}[t(398)](Gv,e)}function qv(e){var t=Rv,n={mNiKB:function(e,t){return e==t}},r=!1;for(var o in this[t(279)+"s"])e&&this[t(279)+"s"][o][t(322)]&&n[t(333)](o,e[t(371)])&&(r=!0),this[t(279)+"s"][o][t(304)]();return r}function Xv(e){var t,n,r=Rv,o={aqdIu:function(e,t){return e>t},vKooA:function(e,t){return e(t)},fkrqy:r(373),yrraI:function(e,t){return e<t},LPEpA:function(e,t,n){return e(t,n)},tSUEo:r(304),cHLGV:r(424)},i=this;function a(){var n=r;o[n(417)](i[n(429)+"n"][n(329)][n(392)],e.de)&&t[n(304)]()}function s(){o[r(408)](clearInterval,n)}return regeneratorRuntime[r(338)]((function(i){for(var l=r;;)switch(i[l(312)]=i[l(402)]){case 0:if(!(e.on&&e.ev&&e[l(300)+l(324)])){i[l(402)]=3;break}if(!this[l(415)+l(330)](e)){i[l(402)]=3;break}return i[l(280)](o[l(423)]);case 3:o[l(278)](this[l(429)+"n"][l(329)][l(392)],e.de)&&((t=this[l(279)+"s"][e[l(371)]])&&(t[l(292)](),n=o[l(390)](setInterval,a,1e3),t[l(341)](o[l(362)],s)));case 4:case o[l(349)]:return i[l(406)]()}}),Xv,this)}function Wv(){var e=Rv,t={wCWqZ:function(e,t){return e(t)}}[e(305)](Uv,regeneratorRuntime[e(369)](Xv));return function(n){var r=e;return t[r(381)](this,arguments)}}!function(e,t){for(var n=Rv,r=e();;)try{if(381173===-parseInt(n(404))/1+-parseInt(n(277))/2*(parseInt(n(374))/3)+-parseInt(n(283))/4*(-parseInt(n(379))/5)+-parseInt(n(353))/6+-parseInt(n(405))/7*(-parseInt(n(431))/8)+-parseInt(n(375))/9*(-parseInt(n(368))/10)+parseInt(n(326))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Ev);var Yv=function(e){var t=Rv,n={BDYnd:function(e,t){return e+t},qBggY:t(342),BqRsT:t(294),lLLTh:t(416)+t(360),BlpbN:function(e,t,n){return e(t,n)},CAMuO:function(e,t){return e(t)},LMnGw:function(e,t,n){return e(t,n)},dBcLT:t(415)+t(330),vZSJW:t(395),ZubPw:function(e){return e()}};n[t(307)](jv,o,e);var r=n[t(325)](Bv,o);function o(e){for(var i=t,a=n[i(346)][i(420)]("|"),s=0;;){switch(a[s++]){case"0":return c;case"1":var l=function(e){var t=i,r={BzVwu:function(e,t){return n[Rv(335)](e,t)},pNZvx:n[t(370)]};c[t(350)](c[t(279)+"s"][e],n[t(426)],(function(){var n=t;c[n(365)](r[n(274)](r[n(366)],e),c[n(279)+"s"][e][n(322)])}))};continue;case"2":c[i(429)+"n"]=e;continue;case"3":n[i(418)](Av,this,o);continue;case"4":var c;continue;case"5":c[i(279)+"s"]={spect16x:new nv(c[i(429)+"n"]),spect4x:new Mv(c[i(429)+"n"],[2,2]),spect1x:new Mv(c[i(429)+"n"],[1,1])};continue;case"6":for(var u in c[i(279)+"s"])n[i(325)](l,u);continue;case"7":c=r[i(308)](this);continue}break}}return n[t(307)](Fv,o,[{key:n[t(303)],value:qv},{key:n[t(364)],value:n[t(425)](Wv)}]),o}(r.d);function Vv(e){return(Vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $v(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Kv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jv(e,t,n){return t&&Qv(e.prototype,t),n&&Qv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ey(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}function ty(e,t){return(ty=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ny(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iy(e);if(t){var o=iy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ry(this,n)}}function ry(e,t){if(t&&("object"===Vv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oy(e)}function oy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iy(e){return(iy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}qt.Component,qt.render,qt.h,Xt.useState;var ay=Xt.useEffect;Xt.useRef;function sy(e){e.target.select()}function ly(){var e=this,t=Ek.backend;function n(){t.state.user?(e.state.user=Parse.User.current(),e.setState({signedIn:!0})):(e.state.user=null,e.setState({signedIn:!1}))}function r(){e.setState({})}return ay((function(){var e=t.state.on("user",n);t.state.on("subscription",r);return function(){t.state.removeListener("user",e)}}),[]),this.state.signedIn?qt.h("div",{class:"row"},qt.h("div",{class:"col-auto gy-1"},qt.h("img",{style:"width:2.1em; height: 2.1em",src:this.state.user.get("picture")})),qt.h("div",{class:"col",style:"padding: 0.2em 0.2em"},qt.h("div",{style:"font-size:80%"},"Welcome"),qt.h("div",{style:"font-size:60%; display: flex;"},"ID: ",qt.h("input",{value:this.state.user.id,onmouseup:sy}))),qt.h("div",{class:"col-auto gy-1"},qt.h("div",{class:"btn size-small",onclick:function(){return t.logOut()}},qt.h("div",{class:"btn-layer",role:"tooltip","data-microtip-position":"right"},qt.h("tty",null,"Logout"),qt.h("div",{class:"btn-logo"},qt.h("div",{class:"btn-icon fas fa-sign-out-alt"}))))),qt.h("div",{class:"col-fit gy-1"},qt.h(fy,null))):qt.h("div",{class:"row"},qt.h("div",{class:"col gy-1"},qt.h("div",{class:"btn btn-colored size-medium",onclick:function(){return t.loginWithGoogle()},style:"--data-background:#DB4437; width: 20%"},qt.h("div",{class:"btn-layer",role:"tooltip","data-microtip-position":"top"},qt.h("tty",null,"Login to Delta Networks with Google"),qt.h("div",{class:"btn-logo"},qt.h("div",{class:"btn-icon fab fa-google"}))))))}var cy=function(e){ey(n,e);var t=ny(n);function n(){var e;return Zv(this,n),(e=t.call(this)).state={signedIn:!!Parse.User.current(),user:Parse.User.current()},e}return Jv(n,[{key:"render",value:ly}]),n}(O);function uy(e){var t=Ek.backend;return qt.h("div",{class:"row"},qt.h("div",{class:"col-4"},qt.h(vy,{plan:t.userPlans.list.spect1x,onclick:function(){return t.userPlans.usePlan("spect1x")}},"1x")),qt.h("div",{class:"col-4"},qt.h(vy,{plan:t.userPlans.list.spect4x,onclick:function(){return t.userPlans.usePlan("spect4x")}},"4x")),qt.h("div",{class:"col-4"},qt.h(vy,{plan:t.userPlans.list.spect16x,onclick:function(){return t.userPlans.usePlan("spect16x")}},"16x")))}var fy=function(e){ey(n,e);var t=ny(n);function n(){return Zv(this,n),t.apply(this,arguments)}return Jv(n,[{key:"render",value:uy}]),n}(O);function hy(e){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.o.menuSounds&&k.play("button-change"),t=Ek.backend,e.prev=2,e.next=5,t.userPlans.clickPlan(this.props.plan);case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),r.o.menuSounds&&k.play("button-disabled"),toastr.error(e.t0.message),Promise.resolve(e.t0.message).then(console.log.bind(null));case 12:case"end":return e.stop()}}),hy,this,[[2,7]])}function dy(){var e,t=(e=regeneratorRuntime.mark(hy),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$v(i,r,o,a,s,"next",e)}function s(e){$v(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}function py(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Ge(new Date(Date.now()+Math.max(0,e)));return"".concat(t.hours,":").concat(t.minutes,":").concat(t.seconds)}function my(e){var t,n=this,r=e.plan,o=(null===(t=Ek.backend.userSubscription.list[0])||void 0===t?void 0:t.subscription_quotas)||{};function i(e){n.setState({enabled:e})}function a(){Ek.state.menuShow&&n.setState({r:Math.random()})}return ay((function(){n.listenTo(Ek.fcontroller,"toggle:"+r.name,i);var e=setInterval(a,1e3);return function(){clearInterval(e)}}),[]),qt.h("div",{class:"plan-item "+(this.state.enabled?"enabled":"")+" "+(o[r.name]&&r.isAvailable||!r.isExpired?"available":"")+" mx-auto",onclick:function(e){return n.click(e)},style:"font-size: 100%"},qt.h("div",{class:"plan-item-icon"},qt.h("i",{class:"fa fa-map","aria-hidden":"true"})),qt.h("div",{class:"plan-item-text"},e.children),qt.h("div",{class:"plan-item-time"},o[r.name]?r.isExpired?r.isAvailable?"FREE":""+this.getTime(r.nextAvailableIn):0==r.expiresIn?null:this.getTime(r.expiresIn):""))}var vy=function(e){ey(n,e);var t=ny(n);function n(){var e;Zv(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Kv(oy(e=t.call.apply(t,[this].concat(o))),"props",{plan:null}),Kv(oy(e),"state",{enabled:!1}),e}return Jv(n,[{key:"click",value:dy()},{key:"getTime",value:py},{key:"render",value:my}]),n}(O);function yy(e){return(yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function by(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ky(e,t,n){return t&&wy(e.prototype,t),n&&wy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}function Sy(e,t){return(Sy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xy(e);if(t){var o=xy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ty(this,n)}}function Ty(e,t){if(t&&("object"===yy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xy(e){return(xy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Py=preact.Component;preact.render,htm.bind(preact.h);function My(e,t){return e.lastChecked<t.lastChecked?1:e.lastChecked>t.lastChecked?-1:void 0}function Iy(e,t){return preact.h("div",{class:Ek.server.ws===e.ws?"active":"",onClick:function(){return Ek.connect(e.ws)}},e.lastCheckedTime," ",e.token)}function Oy(e,t){if(this.state.indexed[this.state.data.selector1]&&this.state.indexed[this.state.data.selector1][this.state.data.selector2]){var n=Object.values(this.state.indexed[this.state.data.selector1][this.state.data.selector2]).sort(My);return this.state.list=n,preact.h("div",{class:"fcols grow hinherit list-style"+(settings.hideUserForms?" hide":""),style:"font-size:80%;overflow: auto;height: 0;"},0===t.list.length?preact.h("div",null,"Servers not found"):"",t.list.map(Iy))}}var Ry=function(e){_y(n,e);var t=Cy(n);function n(){var e;return by(this,n),(e=t.call(this)).state=Wk._agRegions,Wk.agRegions.on("data.selector1","data.selector2",(function(t){e.setState(e.state)})),Ek.server.on("ws",(function(){e.setState(e.state)})),settings.on("hideUserForms",(function(){e.setState(e.state)})),e}return ky(n,[{key:"render",value:Oy}]),n}(Py);function Uy(e){var t=e.name,n=e.val,r=e.numPlayers;return preact.h("option",{value:n},t+(null!==r?" ("+r+")":""))}function Ay(e){return Ek.connect(e)}function Ey(){Ek.disconnect(),Wk.getServer(Ay)}function Ly(){var e=this;return preact.h("div",{class:"content fcols grow hinherit gamemode-selector-box",style:"overflow: hidden;"},preact.h("div",null,preact.h("div",{class:"region size-medium"+(settings.hideUserForms?" hide":"")},preact.h("div",{class:"icon fas fa-globe-europe"}),preact.h("select",{required:!0,onchange:function(t){Ek.disconnect(),e.state.agRegions.data.selector1=t.srcElement.value,e.state.data.tabMode=e.tabMode},value:this.state.agRegions.data.selector1},preact.h("optgroup",{label:"Agar.io servers"},this.state.agRegions.values.map(Uy)))),preact.h("div",{class:"gamemode size-medium"+(settings.hideUserForms?" hide":"")},preact.h("div",{class:"icon fas fa-arrows-alt"}),preact.h("select",{onchange:function(t){Ek.disconnect(),e.state.agRegions.data.selector2=t.srcElement.value,e.state.data.tabMode=e.tabMode},value:this.state.agRegions.data.selector2,required:!0},preact.h("optgroup",{label:"Select game mode"},preact.h("option",{value:":ffa"},"FFA"),preact.h("option",{value:":experimental"},"Experimental"),preact.h("option",{value:":teams"},"Teams"),preact.h("option",{value:":battleroyale"},"Battleroyale"),preact.h("option",{value:":party"},"Party"))),preact.h("div",{onClick:Ey,class:"btn mr0",style:"width:40px;flex: 1 0 auto;"},preact.h("div",{class:"btn-layer"},preact.h("span",{class:"fas fa-dice"}))))),preact.h(Ry,null))}var Fy=function(e){_y(n,e);var t=Cy(n);function n(e){var r;return by(this,n),(r=t.call(this)).tabMode=e.tabMode,r.state=Wk,r.state.agRegions.on("*",(function(){r.setState(r.state)})),settings.on("hideUserForms",(function(){r.setState(r.state)})),r}return ky(n,[{key:"render",value:Ly}]),n}(Py);function jy(){var e=this;return preact.h("div",{class:"fcols grow hinherit list-style"+(settings.hideUserForms?" hide":""),style:"font-size:80%; height: 0;"},this.state.myRegions.values.map((function(t){var n=t.name,r=t.val;t.numPlayers;function o(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fb.getWs(r);case 2:return t.abrupt("return",e.state.myRegions.data.selector1=t.sent);case 3:case"end":return t.stop()}}function i(){return regeneratorRuntime.wrap(o,i)}return preact.h("div",{class:e.state.myRegions.data.selector1===r?"active":"","data-token":r,onClick:function(){var e,t=(e=regeneratorRuntime.mark(i),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gy(i,r,o,a,s,"next",e)}function s(e){gy(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}()},n)})))}var Dy=function(e){_y(n,e);var t=Cy(n);function n(e){var r;return by(this,n),(r=t.call(this)).tabMode=e.tabMode,r.state=Wk,r.state.myRegions.on("*",(function(){r.setState(r.state)})),settings.on("hideUserForms",(function(){r.setState(r.state)})),r}return ky(n,[{key:"render",value:jy}]),n}(Py);function By(e,t){return preact.h("div",{onClick:function(e){return Wk.data.tabMode=t},class:"tab-button "+(Wk.data.tabMode===t?"active":"")},preact.h("span",null,e.name))}function zy(e,t){return preact.h("div",{class:"tab-content grow "+(Wk.data.tabMode===t?"active":"")},preact.h(e.tab,{tabMode:t}))}function Ny(e,t){return[preact.h("section",{class:"tabs big size-medium"},t.tabs.map(By)),preact.h("section",{class:"tabs-content w100 height-100"},t.tabs.map(zy))]}var Hy=function(e){_y(n,e);var t=Cy(n);function n(){var e;return by(this,n),(e=t.call(this)).state={tabs:[{name:"Agar.io",tab:Fy},{name:"Private",tab:Dy}]},e}return ky(n,[{key:"render",value:Ny}]),n}(Py);function Gy(e){return(Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wy(e,t,n){return t&&Xy(e.prototype,t),n&&Xy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return(Vy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zy(e);if(t){var o=Zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ky(this,n)}}function Ky(e,t){if(t&&("object"===Gy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zy(e){return(Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qy=preact.Component,Jy=(preact.render,preactHooks),eg=Jy.useState;Jy.useEffect,Jy.useRef,htm.bind(preact.h);function tg(e){Math.max(Math.ceil((e-Date.now())/1e3),0)}function ng(e){var t=this,n=e.client;function r(){t.setState(t.state)}function o(){t.setState(t.state)}function i(){t.setState(t.state)}function a(){n.isRaga&&(t.time(n.protocol.expiration)<=0&&n.protocol.sendLoop(),t.setState(t.state))}return eg((function(){var e=n.on("estabilished",r),t=n.on("unestabilished",o),s=n.on("raga-update",i),l=setInterval(a,1e3);return function(){n.removeListener("estabilished",e),n.removeListener("unestabilished",t),n.removeListener("raga-update",s),clearInterval(l)}}),[n]),n.isRaga&&n.estabilished?preact.h("div",{class:"frows"},preact.h("div",{class:"fcols mr4"},preact.h("div",null,n.protocol.minions.loaded,"/",n.protocol.minions.amount))):null}var rg=function(e){Yy(n,e);var t=$y(n);function n(e){var r;return qy(this,n),(r=t.call(this)).state={clients:[]},r}return Wy(n,[{key:"time",value:tg},{key:"render",value:ng}]),n}(Qy);function og(e){return preact.h(rg,{client:e})}function ig(e,t){var n=this;function r(e){n.setState({clients:n.state.clients.concat(e)})}function o(e){n.setState({clients:n.state.clients.filter((function(t){return t!==e}))})}return eg((function(){var e=Ek.on("initClient",r),t=Ek.on("removeClient",o);return function(){Ek.removeListener("initClient",e),Ek.removeListener("removeClient",t)}})),t.clients.map(og)}var ag=function(e){Yy(n,e);var t=$y(n);function n(e){var r;return qy(this,n),(r=t.call(this)).state={clients:[]},r}return Wy(n,[{key:"render",value:ig}]),n}(Qy);n(7),n(11);function sg(e){return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cg(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fg(e,t){return(fg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mg(e);if(t){var o=mg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dg(this,n)}}function dg(e,t){if(t&&("object"===sg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pg(e)}function pg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mg(e){return(mg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vg(e){this.delta=e,this.now=o.a.runtime,this.updateObjects(),this.render&&this.render.render(e),this.setView(),this.calcCameraBounds(),this.setCursorPosition(Ek.getActiveTab())}function yg(){this.cellsFrame=[],this.foodFrame=[],this.virusesFrame=[]}function gg(e){var t=this.mouseClientX,n=this.mouseClientY;if(this._scantrickEnabled){var r=Math.atan2(this.mouseClientY-this.canvasHeight/2,this.mouseClientX-this.canvasWidth/2);t=1e7*Math.cos(r),n=1e7*Math.sin(r)}this.mouseServerX=e.cursorX=(t-this.canvasWidth/2)/this.scale+this.camX,this.mouseServerY=e.cursorY=(n-this.canvasHeight/2)/this.scale+this.camY}function bg(e){e.cursorX=(e._mouseClientX-this.canvasWidth/2)/e._scale+e._camX,e.cursorY=(e._mouseClientY-this.canvasHeight/2)/e._scale+e._camY}function wg(e){var t=this.zoomValue;t=2<(t=this.zoomValue*Math.pow(r.g.zoomSpeedValue,e.wheelDelta/-120||e.detail||0))?2:.02>t?.02:t,this.zoomValue=t}function kg(){var e=this.zoomValue;return Math.max(this.canvasWidth/1920,this.canvasHeight/1080)*e}function _g(){var e,t=0,n=0,o=0,i=lg(Ek.clients.player);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.playerCells.length&&(o++,a.calculatePlayerMassAndPosition(),t+=a.viewX,n+=a.viewY)}}catch(e){i.e(e)}finally{i.f()}if(t/=o,n/=o,r.g.autoZoom?Ek.multiboxEnabled&&Ek.clients.player[1].playerSize>Ek.clients.player[0].playerSize?this.calcAutoScale(Ek.clients.player[1]):this.calcAutoScale(Ek.clients.player[0]):this.calcScale(),(!r.g.mbCenterCamera||0===o&&Ek.clients.player[0])&&(t=Ek.clients.player[0].viewX,n=Ek.clients.player[0].viewY),Ek.play)if(!1===this.skipCameraAnimation)if(0===r.g.cameraDelay)this.camX=(this.camX+t)/2,this.camY=(this.camY+n)/2;else{var s=r.g.cameraDelay,l=r.g.cameraDelay-1;this.camX=(l*this.camX+t)/s,this.camY=(l*this.camY+n)/s}else this.skipCameraAnimation=!1,this.camX=t,this.camY=n;else this.camX=(29*this.camX+t)/30,this.camY=(29*this.camY+n)/30}function Sg(){var e=this.canvasWidth/2/this.scale,t=this.canvasHeight/2/this.scale;this.cameraBounds.left=this.camX-e,this.cameraBounds.right=this.camX+e,this.cameraBounds.top=this.camY-t,this.cameraBounds.bottom=this.camY+t}function Cg(){var e=r.g.zoomSmoothness,t=e-1;this.scale=(t*this.scale+this.getZoom())/e,this.scale=Math.round(1e5*this.scale)/1e5}function Tg(e){var t,n=r.g.zoomSmoothness,o=n-1;e.play?t=Math.pow(Math.min(64/e.playerSize,1),.2)*this.getZoom():t=e.protocol_spect_scale*this.getZoom();this.scale=(o*this.scale+t)/n}function xg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,n=r.o.canvasScale*window.devicePixelRatio;this.canvasWidth=Math.round((e||window.innerWidth)*n),this.canvasHeight=Math.round((t||window.innerHeight)*n),this.canvasStyleWidth=Math.round(e||window.innerWidth),this.canvasStyleHeight=Math.round(t||window.innerHeight),this.emit("resize")}function Pg(){var e=this;r.n.on("hk-resetZoom:down",(function(){e.zoomValue=.25})),r.n.on("hk-zoom1:down",(function(){e.zoomValue=.5})),r.n.on("hk-zoom2:down",(function(){e.zoomValue=.25})),r.n.on("hk-zoom3:down",(function(){e.zoomValue=.125})),r.n.on("hk-zoom4:down",(function(){e.zoomValue=.075})),r.n.on("hk-zoom5:down",(function(){e.zoomValue=.035})),r.n.on("hk-undefined:down",(function(){e.scantrickEnabled=!0})),r.n.on("hk-undefined:up",(function(){e.scantrickEnabled=!1})),r.n.on("hk-switchPlayer:down",(function(){!r.o.mbCenterCamera&&r.o.mbSkipCameraScroll&&(e.skipCameraAnimation=!0)})),r.n.on("hk-customMapTexture:down",(function(){e.hkTexture=!e.hkTexture}))}function Mg(e,t,n){return!(e+n<this.cameraBounds.left||t-n>this.cameraBounds.bottom||e-n>this.cameraBounds.right||t+n<this.cameraBounds.top)}function Ig(e,t,n,r,o,i,a,s){return e<this.cameraBounds.right&&e+n>this.cameraBounds.left&&t<this.cameraBounds.bottom&&t+r>this.cameraBounds.top}function Og(){var e=this;/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",this.setZoom.bind(this)):window.addEventListener("wheel",this.setZoom.bind(this));window.addEventListener("mousemove",(function(t){e.mouseClientX=t.clientX*(window.devicePixelRatio*r.o.canvasScale),e.mouseClientY=t.clientY*(window.devicePixelRatio*r.o.canvasScale);var n=Ek.getActiveTab();n&&e.setCursorPosition(n)}))}var Rg,Ug;r.d;function Ag(e){return(Ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Eg=Symbol("_destroySpectate"),Lg=Symbol("_initSpectate");function Fg(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function jg(e){return function(e){if(Array.isArray(e))return Gg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dg(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Bg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dg(i,r,o,a,s,"next",e)}function s(e){Dg(i,r,o,a,s,"throw",e)}a(void 0)}))}}function zg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Hg(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ng(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Hg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hg(e,t){if(e){if("string"==typeof e)return Gg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gg(e,t):void 0}}function Gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wg(e,t,n){return t&&Xg(e.prototype,t),n&&Xg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return(Vg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qg(e);if(t){var o=Qg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kg(this,n)}}function Kg(e,t){if(t&&("object"===Ag(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zg(e)}function Zg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qg(e){return(Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}preact.h,preact.Component;var Jg=preact.render;htm.bind(preact.h);function eb(){return this._nick}function tb(e){var t=this._nick!==e,n=this._nick;this._nick=e,t&&(this.emit("nick",n),this.emit("*"))}function nb(){return this._clanTag}function rb(e){var t=this._clanTag!==e,n=this._clanTag;this._clanTag=e,t&&(this.emit("clanTag",n),this.emit("*"))}function ob(){return this._skinURL}function ib(e){var t=this._skinURL!==e,n=this._skinURL;this._skinURL=e,t&&(this.emit("skinURL",n),this.emit("*"))}function ab(){return this._color}function sb(e){var t=this._color!==e,n=this._color;this._color=e,t&&(this.emit("color",n),this.emit("*"))}toastr.options={newestOnTop:!1,positionClass:"toast-bottom-left",timeOut:15e3};var lb=function(e){Yg(n,e);var t=$g(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Empty",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tag",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://i.imgur.com/dwGdLsr.jpg",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#3633A5";return qg(this,n),(e=t.call(this))._nick=r,e._clanTag=o,e._skinURL=i,e._color=a,Object.defineProperties(Zg(e),{id:{writable:!0,enumerable:!1,value:null}}),e}return Wg(n,[{key:"nick",get:eb,set:tb},{key:"clanTag",get:nb,set:rb},{key:"skinURL",get:ob,set:ib},{key:"color",get:ab,set:sb}]),n}(r.d);function cb(){for(var e="",t=0;t++<36;){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],r=16*Math.random()|0;e+="-"==n||"4"==n?n:("x"==n?r:3&r|8).toString(16)}return e}function ub(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Empty",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#3633A5";qg(this,e),t||(t=this.profileid),this.nick=n,this.clanTag=r,this.skinURL=o,this.color=i,Object.defineProperties(this,{deletionHighlight:{writable:!0,enumerable:!1,value:!1}}),this.id=t}return Wg(e,[{key:"profileid",get:cb}]),e}function fb(e){}function hb(e){}function db(){}function pb(e){this.store.has(this.selected[0])&&this.assign2(this.store.get(this.selected[0]),this.mainProfile,!0),this.store.has(this.selected[1])&&this.assign2(this.store.get(this.selected[1]),this.profileB),this.saveToMemory()}function mb(e,t,n){n&&(e.clanTag=t.clanTag),e.nick=t.nick,e.skinURL=t.skinURL,e.color=t.color}function vb(e,t,n){n&&this.store.set(e,"clanTag",t.clanTag),this.store.set(e,"nick",t.nick),this.store.set(e,"skinURL",t.skinURL),this.store.set(e,"color",t.color)}function yb(){var e=this;Ek.on("initClient",(function(t){var n,r;t.TYPE!==xw.REGION&&("master"==t.tabName?(e.mainProfile.on("*",n=function(){Object.assign(t.profile,e.mainProfile)})(),t.once("removeEvents",(function(){e.mainProfile.removeListener("*",n)}))):(e.profileB.on("*",r=function(){Object.assign(t.profile,e.profileB)})(),t.once("removeEvents",(function(){e.profileB.removeListener("*",r)}))))})),this.loadFromStorage(),this.selected.emit(0),this.selected.emit(1)}function gb(e){this.store.has(this.selected[0])||(this.selected[0]=e.id),this.store.has(this.selected[1])||(this.selected[1]=e.id)}function bb(){for(var e=0,t=Object.entries(this.store.all);e<t.length;e++){var n=Ng(t[e],2),r=n[0];n[1];this.store.rem(r)}}function wb(){var e=new this.classProfile(null,"Anonym #"+this.getNum());this.store.add(e),this.setSelected(e),this.saveToMemory()}function kb(){if(!(Object.keys(this.store.all).length<2)){var e=this.state.deletion;if(this.store.has(e)){var t=this.findClosest(e);this.store.rem(e),this.state.deletion=t,this.selected[0]==e&&(this.selected[0]=t),this.selected[1]==e&&(this.selected[1]=t),this.saveToMemory()}}}function _b(e){for(var t,n,r=Object.entries(Ob.store.all),o=0;r.length>o;o++){var i=Ng(r[o],2),a=i[0];i[1];if(a,e==a){var s,l;n=null===(s=r[o-1])||void 0===s?void 0:s[0],t=null===(l=r[o+1])||void 0===l?void 0:l[0];break}}return n||t||"err"}function Sb(){return this.counter++}function Cb(){for(var e=0;e<10;e++){var t=new this.classProfile(null,"Anonym #"+this.getNum());this.store.add(t)}var n=Object.values(this.store.all)[0];this.setSelected(n)}function Tb(){var e=r.r.get("ogarioPlayerProfiles","");if(!e)return this.loadDefaultProfiles();this.import(e)}function xb(){this.flushStorage(),this.loadDefaultProfiles(),this.saveToMemory()}function Pb(e){if(e&&0!=e.length){this.flushStorage();for(var t=0;t<e.length;t++){var n=new this.classProfile(this.profileid);Object.assign(n,e[t]),this.store.add(n),this.getNum()}var r=Object.values(this.store.all)[0];this.setSelected(r)}}function Mb(e){var t,n=e.split("‍"),r=0,o=zg(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;r+=Array.from(i.split(/[\ufe00-\ufe0f]/).join("")).length}}catch(e){o.e(e)}finally{o.f()}return r/n.length}function Ib(){return Object.values(this.store.all)}var Ob=window.profiles=new(function(){function e(){var t,n,o,i=this;qg(this,e),o=0,(n="counter")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o;this.saveToMemory=Ne((function(){r.r.set("ogarioPlayerProfiles",i.export(),"")}),100),this.classProfile=ub(),this.store=new r.e("id",[]),this.store.on("change",(function(e,t){e.id==i.selected[0]&&Object.assign(i.mainProfile,e),e.id==i.selected[1]&&Object.assign(i.profileB,e)})),this.mainProfile=new lb,this.profileB=new lb,this.state=new r.c({deletion:0}),this.state.on("deletion",fb);var a=this._selected={0:"",1:""};this.selected=new r.c(a),Object.assign(a,r.r.get("selectedProfiles5")),this.selected.on("*",(function(e){r.r.set("selectedProfiles5",i.selected)})),this.mainProfile.on("*",hb),this.profileB.on("*",db),this.selected.on(0,(function(e,t){i.store.has(i.selected[0])?Object.assign(i.mainProfile,i.store.get(i.selected[0])):console.error("cant merge profile")})),this.selected.on(1,(function(e,t){i.store.has(i.selected[1])?Object.assign(i.profileB,i.store.get(i.selected[1])):console.error("cant merge profile")}))}return Wg(e,[{key:"formToStore",value:pb},{key:"assign",value:mb},{key:"assign2",value:vb},{key:"init",value:yb},{key:"setSelected",value:gb},{key:"flushStorage",value:bb},{key:"addProfile",value:wb},{key:"remProfile",value:kb},{key:"findClosest",value:_b},{key:"getNum",value:Sb},{key:"loadDefaultProfiles",value:Cb},{key:"loadFromStorage",value:Tb},{key:"restore",value:xb},{key:"import",value:Pb},{key:"getfancyLength",value:Mb},{key:"export",value:Ib}]),e}());function Rb(e){if(!e)throw Error("Cant convert:",e);return this.regex.tokenAgar.test(e)?"wss://live-arena-"+e+".agar.io:443":this.regex.tokenUniversal.test(e)?"wss://"+atob(e):""}function Ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(this.regex.wsAgar);if(t)return t[1];var n=e.match(this.regex.wsUniversal);return n&&n[1]&&n[1].indexOf("raga")>-1||n&&n[1]?btoa(n[1]):""}function Ab(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(this.regex.tokenParty);return t&&t[1]?t[1]:""}function Eb(e){var t,n,r,o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=this.tokenToWs(e))){a.next=3;break}return a.abrupt("return",t);case 3:if(!(n=e.match(this.regex.tokenRaga))||!n[1]){a.next=8;break}return a.next=7,this.RagaApi.findServer(n[1]);case 7:return a.abrupt("return",a.sent);case 8:if(!(r=e.match(this.regex.wsUniversal))||!r[1]){a.next=11;break}return a.abrupt("return",r[0]);case 11:if(!(o=e.match(this.regex.tokenParty))||!o[1]){a.next=16;break}return a.next=15,this.MCAPI.getPartyServer(o[1]);case 15:return a.abrupt("return",a.sent);case 16:if(!(i=e.match(this.regex.anyUniversal))||!i[0]){a.next=19;break}return a.abrupt("return",i[0]);case 19:throw Error("Cant convert",e);case 20:case"end":return a.stop()}}),Eb,this)}function Lb(){this.wsToToken("wss://live-arena-1n2ac4v.agar.io:443"),this.wsToToken("wss://delta-ffa.glitch.me"),this.tokenToWs("1n2ac4v"),this.tokenToWs("ZGVsdGEtZmZhLmdsaXRjaC5tZQ==")}var Fb=window.tokensUtil=new(function(){function e(){qg(this,e),this.regex={wsAgar:/live-arena-([\w\d]+(\.tech)?)\.agar\.io/,wsUniversal:/wss?:\/\/(.+)/,anyUniversal:/^(.+)$/,tokenAgar:/^[a-z0-9]{5,}(\.tech)?$/,tokenUniversal:/^[a-zA-Z0-9=+/]{12,}$/,tokenParty:/([A-Z0-9]{6})/,tokenRaga:/^srv:\/\/(.+?)$/},this.RagaApi=_h,this.MCAPI=fr.a}var t;return Wg(e,[{key:"tokenToWs",value:Rb},{key:"wsToToken",value:Ub},{key:"extractTokenParty",value:Ab},{key:"getWs",value:(t=Bg(regeneratorRuntime.mark(Eb)),function(e){return t.apply(this,arguments)})},{key:"test",value:Lb}]),e}()),jb=null;function Db(){this.logout(),this.connect()}function Bb(){localStorage.GlAccount="yes",jb.signIn(),jb.currentUser.get(),!jb.isSignedIn.get()&&jb.signIn()}function zb(e){if(e&&jb&&localStorage.GlAccount&&jb.isSignedIn.get()){var t=e.getAuthResponse(),n=e.getBasicProfile();this.expirationDate=t.expires_at,this.token=t.id_token,this.user.picture=n.getImageUrl(),this.user.first_name=n.getGivenName(),this.user.last_name=n.getFamilyName(),this.user.id=n.getId(),this.emit("user",this),this.emit("login",this)}}function Nb(){}function Hb(){localStorage.GlAccount&&this.connect()}function Gb(){delete localStorage.GlAccount,this.logout()}function qb(){this.token=null,this.user={},this.tries=0,this.emit("logout",this)}function Xb(e){Kb.readUser(e)}function Wb(){return Kb.start}function Yb(){(jb=window.gapi.auth2.init({client_id:"686981379285-oroivr8u2ag1dtm3ntcs6vi05i3cpv0j.apps.googleusercontent.com",cookie_policy:"single_host_origin",cookiepolicy:"single_host_origin",scope:"profile",app_package_name:"com.miniclip.agar.io"})).currentUser.listen(Xb),jb.then(Wb),jb.isSignedIn.get()&&jb.signIn()}function Vb(){window.gapi.load("auth2",Yb)}function $b(){var e,t,n,r,o;e=document,t="script",n="GAPI",o=e.getElementsByTagName(t)[0],e.getElementById(n)||((r=e.createElement(t)).id=n,r.src="https://apis.google.com/js/client:platform.js?onload=gapiAsyncInit",o.parentNode.insertBefore(r,o)),window.gapiAsyncInit=Vb}var Kb=window.GlAccount=new(function(){function e(){qg(this,e),Object(r.l)(this),this.name="Google",this.typeId=4,this.token=null,this.user={},this.tries=0,this.isLoggedIn=!1}return Wg(e,[{key:"reconnect",value:Db},{key:"connect",value:Bb},{key:"readUser",value:zb},{key:"read",value:Nb},{key:"start",value:Hb},{key:"setLogout",value:Gb},{key:"logout",value:qb},{key:"init",value:$b}]),e}());function Zb(){this.logout(),this.start()}function Qb(){localStorage.FbAccount="yes",window.FB?window.FB.login(this.loginHandler.bind(this),{scope:"public_profile, email"}):alert("You seem to have something blocking Facebook on your browser, please check for any extensions")}function Jb(e){"connected"===e.status&&(this.lastTok=this.token=e.authResponse.accessToken,this.token?(this.expirationDate=Date.now()+1e3*e.expiresIn,this.readUser(),this.emit("login",this)):this.tries<3&&(this.tries++,this.connect(),this.logout()))}function ew(){var e=this;this.token&&window.FB.api("/me/?fields=picture.width(128),first_name,last_name&width=280&height=280",(function(t){t&&(t.picture&&t.picture.data&&t.picture.data.url&&(e.user.picture=t.picture.data.url),e.user.first_name=t.first_name,e.user.last_name=t.last_name,e.user.id=t.id,e.emit("user",e))}))}function tw(){var e=this;this.token&&window.FB.api("/me/friends?fields=name,id,picture.width(128),canReceiveGift&limit=5000",(function(t){e.friends=t.friends,e.emit("friends"),console.log("readFriendsFB",t)}))}function nw(e){localStorage.FbAccount&&this.loginHandler(e)}function rw(){delete localStorage.FbAccount,this.logout()}function ow(){this.token=null,this.user={},this.tries=0,this.emit("logout",this)}function iw(e){"connected"===e.status&&e.authResponse?cw.start(e):cw.logout()}function aw(){window.FB.getLoginStatus(iw)}function sw(){window.FB.init({appId:677505792353827,cookie:!0,xfbml:!1,status:!0,version:"v3.2"}),setTimeout(aw,0),window.facebookRelogin=this.reconnect,window.facebookLogin=this.reconnect}function lw(){var e,t,n,r,o;e=document,t="script",n="facebook-jssdk",o=e.getElementsByTagName(t)[0],e.getElementById(n)||((r=e.createElement(t)).id=n,r.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(r,o)),window.fbAsyncInit=sw}var cw=window.FbAccount=new(function(){function e(){qg(this,e),Object(r.l)(this),this.name="Facebook",this.typeId=2,this.token=null,this.lastTok=null,this.expirationDate=0,this.user={},this.tries=0,this.isLoggedIn=!1}return Wg(e,[{key:"reconnect",value:Zb},{key:"connect",value:Qb},{key:"loginHandler",value:Jb},{key:"readUser",value:ew},{key:"readFriends",value:tw},{key:"start",value:nw},{key:"setLogout",value:rw},{key:"logout",value:ow},{key:"init",value:lw}]),e}());cw.init(),Kb.init();function uw(){r.r.set("deltaAccs",this.storage)}function fw(e,t){$('[data-auth-button="'.concat(e.name,'"]')).addClass("active"),this.setAuthButtons()}function hw(e,t){$('[data-auth-button="'.concat(e.name,'"]')).removeClass("active"),this.setAuthButtons()}function dw(){cw.token||Kb.token?($(".unauthorized").hide(),$(".authorized").show()):($(".unauthorized").show(),$(".authorized").hide())}function pw(e){e=e[0],cw.token||Kb.token||(this.storage.realmpriority=e,console.log(e),$("#realms").css("flex-direction","Google"===this.storage.realmpriority?"row-reverse":"row"))}function mw(e){}function vw(e,t){if("master"!==t.tabName&&"slave"!==t.tabName)return!1;var n,r,o,i,a,s;t.on("estabilished",n=function(n){e.token&&t.sendAccessToken(e.token,e.typeId)}),t.on("spawn",r=function(n){t.isLoggedIn&&e.token&&sendAccessToken(e.token,e.typeId)}),t.on("logout",o=function(t){switch(t){case 3:case 6:case 7:case 8:case 12:case 15:break;default:e.logout(),e.connect()}}),t.on("112",n),e.on("login",s=function(n){t.estabilished&&e.token&&t.sendAccessToken(e.token,e.typeId)}),e.on("logout",a=mw),t.on("removeEvents","removeRealmEvents",i=function(l){console.log("removeRealmEvents"),e.removeListener("login",s),e.removeListener("login",a),t.removeListener("estabilished",n),t.removeListener("112",n),t.removeListener("spawn",r),t.removeListener("logout",o),t.removeListener("removeRealmEvents",i)})}function yw(e){e.emit("removeRealmEvents")}function gw(){var e=this;function t(t){var n="Facebook"==e.storage.realmpriority&&"master"==t.tabName||"Facebook"!=e.storage.realmpriority&&"slave"==t.tabName?cw:Kb;e.initClientEvents(n,t)}this.$el=$("#accounts"),$("#realms").css("flex-direction","Google"===this.storage.realmpriority?"row-reverse":"row"),$("#primaryAccount").on("click",(function(n){e.storage.realmpriority="Facebook"===e.storage.realmpriority?"Google":"Facebook",console.log(e.storage.realmpriority,"Google"===e.storage.realmpriority?"Facebook":"Google"),$("#realms").css("flex-direction","Google"===e.storage.realmpriority?"row-reverse":"row"),Ek.clients.render.forEach(yw),Ek.clients.render.forEach(t),Ek.reconnect()})),$(document.body).on("click","[data-auth-button]",(function(t){var n=[t.currentTarget.getAttribute("data-auth-button")];e.realms[n].token?(Ct.displayChatInfo(null,"Please, refresh server"),e.realms[n].logout()):(e.setFirstPriority(n),e.realms[n].once("login",(function(){Ct.displayChatInfo(null,n+" login successfully")})),e.realms[n].connect())})),Ek.on("initClient",(function(t){var n="Facebook"==e.storage.realmpriority&&"master"==t.tabName||"Facebook"!=e.storage.realmpriority&&"slave"==t.tabName?cw:Kb;e.initClientEvents(n,t)}))}var bw=window.accs=new(function(){function e(){var t=this;qg(this,e),Object(r.l)(this),this.realms={Facebook:cw,Google:Kb},this.tabsPriority=["master","slave"];var n={instances:[],realmpriority:"Facebook",isInverted:!0};Object.assign(n,r.r.get("deltaAccs")),this.storage=new r.c(n),this.storage.on("*",(function(e){r.r.set("deltaAccs",t.storage)})),cw.on("login",(function(e){t.onLogin(e)})),cw.on("logout",(function(e){t.onLogout(e)})),Kb.on("login",(function(e){t.onLogin(e)})),Kb.on("logout",(function(e){t.onLogout(e)}))}return Wg(e,[{key:"saveStorage",value:uw},{key:"onLogin",value:fw},{key:"onLogout",value:hw},{key:"setAuthButtons",value:dw},{key:"setFirstPriority",value:pw},{key:"initClientEvents",value:vw},{key:"init",value:gw}]),e}());function ww(){var e=this;clearTimeout(this.receiveTimeout),clearTimeout(this.calcTimeout),this.calcTimeout=null,this.receiveTimeout=null,this.sc=[0,0,0,0],this.scLock=!1,this.receiveTimeout=setTimeout((function(){e.log("No received signals"),e.scLock=!0}),1e3),this.log("Receiving unlocked")}function kw(e,t){var n=this;this.sc[e]++,!1===this.scLock&&(this.scLock=!0,clearTimeout(this.receiveTimeout),this.calcTimeout=setTimeout((function(){var e=n.calcMostLikeQuadrant(n.sc);Ek.setQuadrant(e,2),n.log("Received",e,"[".concat(n.sc.join(", "),"]"))}),900)),null==this.calcTimeout&&this.log("User quadrant (".concat(t,"-").concat(e,") not received because timeout expired"))}function _w(e){return e.indexOf(Math.max.apply(Math,jg(e.slice(0,4))))}function Sw(e){var t,n=0,r=[0,0,0,0],o=zg(Ek.clients.render);try{for(o.s();!(t=o.n()).done;){var i=t.value;null!==i.quadrant&&(e!==i&&(n++,r[i.quadrant]++))}}catch(e){o.e(e)}finally{o.f()}return 0===n?(this.log("No local quadrant"),null):this.calcMostLikeQuadrant(r)}function Cw(){var e=[0,0,0,0],t=[0];e.null=0;var n,r=zg(Ek.clients.render);try{for(r.s();!(n=r.n()).done;){e[n.value.quadrant]++}}catch(e){r.e(e)}finally{r.f()}for(var o=0,i=e;o<i.length;o++){t[i[o]]++}return 3!=t[0]}var Tw=window.QServer=new(function(){function e(){qg(this,e),this.isDebug=!0,Object(r.a)(!0,this,"[[36mQServer[39m]:"),this.sc=[0,0,0,0,0,0],this.scLock=!1,this.receiveTimeout=null,this.calcTimeout=null}return Wg(e,[{key:"reset",value:ww},{key:"receiveUsersQuadtant",value:kw},{key:"calcMostLikeQuadrant",value:_w},{key:"calcLocalQuadrant",value:Sw},{key:"hasWrongQuadrant",value:Cw}]),e}()),xw={DEFAULT:9,PLAYER:0,BOT:1,SPECTATE:2,REGION:3,9:"DEFAULT",0:"PLAYER",1:"BOT",2:"SPECTATE",3:"REGION"};function Pw(){this.delta=o.a.runtime-this.time;var e=this.r*this.delta/this.duration;this.alpha=333<e?(this.r-e)/this.fadeTime:1,this.animSize=e}function Mw(){Ek.waves.splice(Ek.waves.indexOf(this),1)}var Iw=function(){function e(t,n,i,a,s){qg(this,e),this.animSize=null,this.x=t,this.y=n,this.color=i||r.t.splitRangeColor,this.r=a||1e3,this.duration=s||1250,this.fadeTime=800,this.time=o.a.runtime,this.alpha=1,this.animSize=this.r,this.move()}return Wg(e,[{key:"move",value:Pw},{key:"remove",value:Mw}]),e}();function Ow(e){e.default}function Rw(e){var t=e;t&&((this.serverHistory.length>0&&this.serverHistory[this.serverHistory.length-1]!==t||0===this.serverHistory.length)&&this.serverHistory.push(t),this.serverHistoryIndex=1,this.serverHistory.length>50&&this.serverHistory.shift())}function Uw(){if(console.log("has prev",this.serverHistory.length-this.serverHistoryIndex>0),this.serverHistory.length-this.serverHistoryIndex>0){this.serverHistoryIndex++;var e=this.serverHistory[this.serverHistory.length-this.serverHistoryIndex];console.log("prev index",this.serverHistoryIndex,e),this.connect(e,!0,!0)}}function Aw(e){return Ek.connect(e)}function Ew(){if(this.serverHistory.length-this.serverHistoryIndex<this.serverHistory.length){if(this.serverHistoryIndex-1==0)return Wk.getServer(Aw);this.serverHistoryIndex--;var e=this.serverHistory[this.serverHistory.length-this.serverHistoryIndex];this.connect(e,!0,!0)}}function Lw(e,t,n,r,o){var i=new Iw(e,t,n,r,o);this.waves.length>10||(this.waves.push(i),this.emit("newWave",i))}function Fw(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!xw.hasOwnProperty(e))return console.error("Not defined tab type"),!1;var o=new $f(this,e,n);return"master"==n&&(this.master=o),this.clients.indexed[o.ID]=o,e==xw.PLAYER&&this.clients.player.push(o),xw.DEFAULT,e==xw.REGION&&this.clients.region.push(o),e==xw.SPECTATE&&this.clients.spectate.push(o),this.clients.render.push(o),this.recreateRenderQueue(),o.on("offset",(function(){return t.updateServerData(o)})),o.on("requestQuadrant",(function(){o.setQuadrant(Tw.calcLocalQuadrant(o))})),o.on("sfx",this.sfx.bind(this)),o.on("spawn",(function(){r.o.spawnWaveEffect&&t.addWave(o.playerCells[0].targetX,o.playerCells[0].targetY,o.secureColor,1500)})),this.emit("initClient",o),o}function jw(e){if(!(e instanceof $f))return console.error(e,"Not a client"),!1;var t=e.TYPE,n=e.ID;if(!e)return console.log("Not defined tab type"),!1;if(this.emit("destroyClient",e),e.closeConnection("noevent"),e.removeEvents(),t==xw.PLAYER){var r=this.clients.player.indexOf(e);~r&&this.clients.player.splice(r,1)}if(xw.DEFAULT,t==xw.REGION){var o=this.clients.region.indexOf(e);~o&&this.clients.region.splice(o,1)}if(t==xw.SPECTATE){var i=this.clients.spectate.indexOf(e);~i&&this.clients.spectate.splice(i,1)}var a=this.clients.render.indexOf(e);return~a&&this.clients.render.splice(a,1),this.recreateRenderQueue(),e.indexPosition=null,this.clients.indexed[n]=null,delete this.clients.indexed[n],!0}function Dw(){}function Bw(e){var t=this.initClient(xw.PLAYER,e);function n(){t.cells[0]&&(t.spectateTo(t.cells[0]),t.sendFreeSpectate(),t.sendSpectate())}return t.on("close",this.reconnectTimeout.bind(this)),t.on("requestQuadrant",Dw),this.server.isAgario&&t.once("estabilished",(function(){setTimeout(n,1e3)})),t}function zw(e,t){return e.ID-t.ID}function Nw(){this.clients.player.sort(zw),this.recreateRenderQueue()}function Hw(){this.moveInArray(this.clients.player,0,1%this.clients.player.length),this.emit("swapEvent"),this.recreateRenderQueue()}function Gw(){this.clients.render=[];var e,t=zg(this.clients.player);try{for(t.s();!(e=t.n()).done;){(a=e.value).indexPosition=this.clients.render.push(a)-1}}catch(e){t.e(e)}finally{t.f()}var n,r=zg(this.clients.spectate);try{for(r.s();!(n=r.n()).done;){(a=n.value).indexPosition=this.clients.render.push(a)-1}}catch(e){r.e(e)}finally{r.f()}var o,i=zg(this.clients.region);try{for(i.s();!(o=i.n()).done;){var a;(a=o.value).indexPosition=this.clients.render.push(a)-1}}catch(e){i.e(e)}finally{i.f()}}function qw(e){var t=this,n=this.clients.player[1%this.clients.player.length];if("hotkey"==e&&n==this.getActiveTab()&&this.swapPlayers(),"deathAllPlayers"!=e&&"deathSomePlayer"!=e){if(Wk.getServerConfig(this.server.ws)){if(n==this.getActiveTab()){var r=this.initPlayer("slave");return r.connect(Ek.server.ws),void r.once("estabilished",(function(n){t.switchTab(e)}))}if(!n.isSocketOpen())return n.connect(Ek.server.ws),void n.once("estabilished",(function(n){t.switchTab(e)}));n.play?this.swapPlayers(e):(n.sendNick(),n.once("spawn:before",(function(){t.switchTab(e)})))}}else n.play&&this.swapPlayers(e)}function Xw(e,t,n){var r=e.splice(t,1);if(!r.length)throw new Error("There is no item in the array at index "+t);e.splice(n,0,r[0])}function Ww(e){e.sendSpectate()}function Yw(){var e=this.initClient(xw.SPECTATE);e.connect(this.server.ws),e.on("estabilished",Ww)}function Vw(){for(var e=0;this.clients.spectate.length>e;e++)this.destroyClient(this.clients.spectate[e])}function $w(e){var t=this,n=this.initClient(xw.REGION),r=2;return n.connect(this.server.ws),n.on("estabilished",(function(o){r=2,o.sendFreeSpectate(),o.sendSpectate(),o.isRaga&&setTimeout((function(){return o.sendFreeSpectate()}),1e3),n.targetX=t.spectatePoints[e].x,n.targetY=t.spectatePoints[e].y})),n.on("close",(function(){new Date-n.connectionTime<2e3&&r>0&&(console.log("region",e,"closed, attempts left:",r),r--,n.connect(t.server.ws))})),n}function Kw(e,t){if(t){for(var n=0;n<this.clients.render.length;n++)if(this.clients.render[n].playerAID===e)return this.clients.render[n].ID}else for(var r=0;r<this.clients.render.length;r++)if(this.clients.render[r].playerCellIDs.indexOf(e)>-1)return this.clients.render[r].ID;return null}function Zw(e,t){for(var n=t-1;-1<n;n--)if(this.clients.render[n].isInViewHSLO(e))return!0;return!1}function Qw(){this.state.play||(this.setMasterAtStart(),this.getActiveTab().sendNick())}function Jw(){return this.clients.player[0]}function ek(e){return this.getActiveTab()===e}function tk(){this.master.sendFreeSpectate()}function nk(){this.master.sendSpectate()}function rk(){var e=this.getActiveTab();null==e||e.apiOgar.sendWave(e.cursorX,e.cursorY)}function ok(){this.getActiveTab().sendEject()}function ik(e){this.state.macro=e,this.getActiveTab().sendMacro(e)}function ak(e){this.getActiveTab().sendBotMacro(e)}function sk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.getActiveTab().sendSplit(e)}function lk(){this.getActiveTab().protocol.popSplit()}function ck(e){this.getActiveTab().protocol.sendBotSplit(e)}function uk(){this.getActiveTab().protocol.sendBotEject()}function fk(){this.getActiveTab().protocol.sendBotToggle()}function hk(e){var t=this;function n(){t.state.isWaitingForRespawn=!1,t.switchTab()}e.once("estabilished",(function(){e.sendNick(),t.clients.player.length>1&&e.once("spawn",n)}))}function dk(){var e=this.getActiveTab();this.getActiveTab().connect(this.server.ws),this.clients.player.length>1&&this.switchTab(),this.state.menuShow=!1,this.state.isWaitingForRespawn=!0,this.respawnClient(e)}function pk(){r.o.autoResp&&!this.state.menuShow&&$("#play").click()}function mk(e,t){for(var n in this.clients.indexed){this.clients.indexed[n].setQuadrant(e)}}function vk(){}function yk(e){if(this.pause=void 0!==e?e:!this.pause,r.s.pause=this.pause,this.pause){$("#pause-hud").show();var t,n=zg(this.clients.player);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.resetTargetPosition(),o.protocol.sendPause(!0)}}catch(e){n.e(e)}finally{n.f()}}else{$("#pause-hud").hide();var i,a=zg(this.clients.player);try{for(a.s();!(i=a.n()).done;){i.value.protocol.sendPause(!1)}}catch(e){a.e(e)}finally{a.f()}}}function gk(e,t,n,r){for(var o=r-1;-1<o;o--)if(this.clients.render[o].isInViewport(e,t,n))return!0;return!1}function bk(e,t,n){switch(e){case"virusFeed":if(!r.o[e+"Sound"])return;if(this.reverseCheckView(t,this.clients.render.indexOf(n)))return;var o=["shoot_v31","shoot_v32","shoot_v33","shoot_v34"];k.play(o[Math.floor(Math.random()*o.length)]);break;case"myEject":break;default:r.o[e+"Sound"]&&k.once(e)}}function wk(){var e=this;this.state.on("menuShow",(function(){e.state.menuShow?$("#overlays").show():$("#overlays").hide()})),$("#spectate").on("click",(function(){!e.master.isFreeSpectate&&e.sendSpectate(),e.state.menuShow=!1,e.emit("spectatePressed")})),$("#play").on("click",(function(){e.state.menuShow=!1,e.doPlay(),e.emit("playPressed")}))}function kk(){this.connect(this.server.ws,!0)}function _k(e,t,n){if(Wk.getServerConfig(e)||(this.clients.player.length>1&&this.destroyClient(this.clients.player[1]),Fg(this,Ug,Fk).call(this)),n||this.pushServerHistory(e),!e)return this.disconnect();if(e===this.server.ws&&!t)return this.getActiveTab().connect(e);this.disconnect(),console.log("Connect starting:",e),this.server.ws=e,this.emit("connect");var r,o=zg(this.clients.player);try{for(o.s();!(r=o.n()).done;){r.value.connect(e)}}catch(e){o.e(e)}finally{o.f()}}function Sk(){this.emit("disconnect"),this.flushServerConfigs();var e,t=zg(this.clients.player);try{for(t.s();!(e=t.n()).done;){e.value.closeConnection("noevent")}}catch(e){t.e(e)}finally{t.f()}}function Ck(e){var t=this;if(this.reconnectTimeoutStarted)return!1;function n(e){t.connect(e)}this.reconnectTimeoutStarted=!0,setTimeout((function(){var r,o=!1,i=zg(t.clients.render);try{for(i.s();!(r=i.n()).done;){r.value.isSocketOpen()&&(o=!0)}}catch(e){i.e(e)}finally{i.f()}o?e.connect(t.server.ws):Wk.getServer(n),t.reconnectTimeoutStarted=!1}),1e3)}function Tk(){this.updateServerData({},!0)}function xk(e,t){var n=e.gameMode,r=e.mapSizeH,o=e.mapSizeV,i=e.mapOffset,a=e.mapMinX,s=e.mapMinY,l=e.mapMaxX,c=e.mapMaxY,u=e.mapMidX,f=e.mapMidY,h=e.isAgario,d=e.mapOffsetFixed;t&&(this.server.region="",this.server.partyToken="",this.server.ws="",this.server.serverToken=""),this.server.isAgario=!t&&h,this.server.mapOffsetFixed=!t&&d,this.server.gameMode=t?":ffa":n,this.server.mapSizeH=t?14142:r,this.server.mapSizeV=t?14142:o,this.server.mapOffset=t?7071:i,this.server.mapMinX=t?7071:a,this.server.mapMinY=t?7071:s,this.server.mapMaxX=t?7071:l,this.server.mapMaxY=t?7071:c,this.server.mapMidX=t?0:u,this.server.mapMidY=t?0:f,this.server.estabilished=!t}function Pk(){var e=this,t=$("#server-name");$("#server-name-btn").on("click",Bg(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fb.getWs(t.val().trim());case 2:r=n.sent,e.connect(r);case 4:case"end":return n.stop()}}),n)})))),$("#server-share-btn").on("click",Bg(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fb.getWs(t.val().trim());case 2:return n=e.sent,e.prev=3,e.next=6,window.navigator.share({title:"",text:n,url:location.href+"#"+n});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))),t.on("click",(function(){t[0].select()})),this.server.on("userFriendlyToken",(function(){t.val(e.server.userFriendlyToken)}))()}function Mk(e,t){for(var n=t.length,r=0;n--;){var o=t[n];if(e==(r+=o^t.length-n+r<<o))return!0}return!1}function Ik(e){return e.replace(/^\s+at\s+(\<?[\w.]+\>?).*/,"$1")}function Ok(){var e=this;function t(){var t=0;e.multiboxEnabled=!1;var n,r=zg(e.clients.player);try{for(r.s();!(n=r.n()).done;){n.value.play&&t++}}catch(e){r.e(e)}finally{r.f()}t>1&&(e.multiboxEnabled=!0),t>0&&0==e.state.play&&(e.state.play=!0,e.emit("spawn",e.clients.player[0]))}function n(){e.state.isWaitingForRespawn||(e.state.menuShow=!0)}bw.init(),this.on("initClient",(function(n){n.TYPE===xw.PLAYER&&(n.on("spawn",t),n.on("death",(function(){var t=0;e.multiboxEnabled=!1;var r,o=zg(e.clients.player);try{for(o.s();!(r=o.n()).done;)(n=r.value).play&&t++}catch(e){o.e(e)}finally{o.f()}1===t?e.multiboxEnabled=!1:t>1&&(e.multiboxEnabled=!0),t>0&&e.switchTab("deathSomePlayer"),0==t&&1==e.state.play&&(e.state.play=!1,e.emit("death",e.clients.player[0]),e.switchTab("deathAllPlayers"))})))})),this.on("death",(function(t){r.o.autoResp||setTimeout(n,300),e.autoResp(),e.setMasterAtStart()})),this.setUI();var o=this.initPlayer("master");function i(t){e.connect(t)}setInterval((function(){for(var t=0;t<e.clients.render.length;t++)e.clients.render[t].sendCursorPosition()}),40),Wk.on("change",(function(){Wk.getServer(i)}))(),window.addEventListener("online",(function(){toastr.info("Online"),e.online=navigator.onLine;var t=navigator.onLine?"online":"offline";console.log("Internet is:",t);var n,r=zg(e.clients.render);try{for(r.s();!(n=r.n()).done;){n.value.connect(e.server.ws)}}catch(e){r.e(e)}finally{r.f()}})),window.addEventListener("offline",(function(){toastr.warning("Offline"),e.online=navigator.onLine;var t=navigator.onLine?"online":"offline";console.log("Internet is:",t)})),window.onbeforeunload=function(t){return e.state.play?Object(r.j)("exit"):void 0},k.load("virusEat","https://freesound.org/data/previews/269/269583_3854053-lq.mp3"),k.load("virusPop","https://freesound.org/data/previews/168/168312_599528-lq.mp3"),k.load("x16","https://freesound.org/data/previews/427/427995_4067257-lq.mp3"),k.load("non16","https://freesound.org/data/previews/50/50559_594303-lq.mp3"),k.load("intro","https://freesound.org/data/previews/244/244527_4157918-lq.mp3"),k.load("shoot_v31","assets/shoot_v31.mp3"),k.load("shoot_v32","assets/shoot_v32.mp3"),k.load("shoot_v33","assets/shoot_v33.mp3"),k.load("shoot_v34","assets/shoot_v34.mp3"),k.load("cheat","assets/notification_sa.mp3"),r.n.on("hk-feed:down",(function(t){e.feed()})),r.n.on("hk-macroFeed:down",(function(t){e.macroFeed(!0)})),r.n.on("hk-macroFeed:up",(function(t){e.macroFeed(!1)})),r.n.on("hk-split:down",(function(t){e.split(1)})),r.n.on("hk-doubleSplit:down",(function(t){e.split(2)})),r.n.on("hk-popSplit:down",(function(t){e.popSplit()})),r.n.on("hk-tripleSplit:down",(function(t){e.split(8)})),r.n.on("hk-split16:down",(function(t){e.split(4)})),r.n.on("hk-pause:down",(function(t){e.setPause()})),r.n.on("hk-switchPlayer:down",(function(t){e.switchTab("hotkey")})),r.n.on("hk-bots-split:down",(function(){return e.bot_split(1)})),r.n.on("hk-bots-macroFeed:down",(function(){return e.bot_macroFeed(!0)})),r.n.on("hk-bots-macroFeed:up",(function(){return e.bot_macroFeed(!1)})),r.n.on("hk-bots-ai:down",(function(){return e.bot_toggle()})),r.n.on("hk-bots-split-x2:down",(function(){return e.bot_split(2)})),r.n.on("hk-bots-split-x3:down",(function(){return e.bot_split(3)})),r.n.on("hk-bots-split-x4:down",(function(){return e.bot_split(4)})),r.n.on("hk-bots-split-x5:down",(function(){return e.bot_split(5)})),r.n.on("hk-quickResp:down",(function(){return e.quickResp()})),r.n.on("hk-wave:down",(function(t){e.sendWave()})),r.n.on("ESC:down",(function(t){e.state.menuShow=!e.state.menuShow}));var a=new Date,s=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());function l(){0==e.clients.region.length&&Fg(e,Rg,Lk).call(e)}try{var c=location.pathname.split("/").reverse()[0],u=xc.decode("хуй",c).split(":");switch(u[0]){case"tf":Number(u[1])>s&&o.on("estabilished",(function(t){!1!==t.isAgario&&(3!==t.modeInt?o.once("requestQuadrant",l):0==e.clients.region.length&&Fg(e,Rg,Lk).call(e))}))}}catch(e){}function f(){e.clients.spectate.length?e[Eg]():e[Lg]()}function h(){e.fcontroller.controllers.spect16x.enabled?e.fcontroller.controllers.spect16x.disable():e.fcontroller.controllers.spect16x.enable()}var d,p;d=[[962178012,f],[-442623544,h]],p=[],document.addEventListener("keydown",(function(e){if("INPUT"!=e.target.tagName){p.push(e.keyCode),p.length>11&&p.shift();var t,n=zg(d);try{for(n.s();!(t=n.n()).done;){var r=Ng(t.value,2),o=r[0],i=r[1];if(Mk(o,p)){i(),Ct.displayChatInfo("","Activated"),k.once("cheat"),p=[];break}}}catch(e){n.e(e)}finally{n.f()}}})),this.initInputs(),this.on("fmap",(function(){console.log("fmap",(new Error).stack.split(/\n/).slice(2).map(Ik)),e.fcontroller.map._clients.length>0?Fg(e,Ug,Fk).call(e):Fg(e,Rg,Lk).call(e)}))}function Rk(){return this._state.play}function Uk(){var e,t=zg(this.clients.player);try{for(t.s();!(e=t.n()).done;){if(e.value.estabilished)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}function Ak(){var e,t=zg(this.clients.player);try{for(t.s();!(e=t.n()).done;){if(e.value.estabilished)return!0}}catch(e){t.e(e)}finally{t.f()}var n,r=zg(this.clients.region);try{for(r.s();!(n=r.n()).done;){if(n.value.estabilished)return!0}}catch(e){r.e(e)}finally{r.f()}var o,i=zg(this.clients.spectate);try{for(i.s();!(o=i.n()).done;){if(o.value.estabilished)return!0}}catch(e){i.e(e)}finally{i.f()}return!1}var Ek=window.application=new(Rg=new WeakSet,Ug=new WeakSet,function(e){Yg(n,e);var t=$g(n);function n(){var e;qg(this,n),e=t.call(this),Ug.add(Zg(e)),Rg.add(Zg(e)),e.master=null,e.online=!0,e.quadrant=-1,e.waves=[],e.multiboxEnabled=!1,e.clients={indexed:{},render:[],region:[],spectate:[],player:[],bot:[]},e.reconnectTimeoutStarted=!1;var o=e._state={connected:!0,spectate:!1,macro:!1,play:!1,menuShow:!0,isWaitingForRespawn:!1};e.state=new r.c(o);var i=e._server={gameMode:":ffa",region:"",ws:"",partyToken:"",serverToken:"",userFriendlyToken:"",isAgario:!1,mapOffsetFixed:!1,mapSizeV:14142,mapSizeH:14142,mapOffset:7071,mapMinX:-7071,mapMinY:-7071,mapMaxX:7071,mapMaxY:7071,mapMidX:0,mapMidY:0,estabilished:!1,get now(){return Date.now()}};e.server=new r.c(i),e.server.on("ws",(function(){e.server.serverToken=Fb.wsToToken(e.server.ws),e.server.partyToken=Fb.extractTokenParty(e.server.ws);var t="";t=e.server.partyToken?e.server.partyToken:Fb.regex.tokenAgar.test(e.server.serverToken)?e.server.serverToken:e.server.ws,e.server.userFriendlyToken=t})),e.pause=!1,e.serverHistory=[],e.serverHistoryIndex=1,e.server.on("ws",(function(){e.server.ws.indexOf("raga")>-1&&_h.loadTextures()})),e.fcontroller=new Yv(Zg(e)),e.backend=new Gp(Zg(e));var a=URL.createObjectURL(new Blob(['export default function hello() { console.log("Hello World"); }'],{type:"text/javascript"}));return import(a).then(Ow),e}return Wg(n,[{key:"pushServerHistory",value:Rw},{key:"prevServer",value:Uw},{key:"nextServer",value:Ew},{key:"addWave",value:Lw},{key:"initClient",value:Fw},{key:"destroyClient",value:jw},{key:"initPlayer",value:Bw},{key:"setMasterAtStart",value:Nw},{key:"swapPlayers",value:Hw},{key:"recreateRenderQueue",value:Gw},{key:"switchTab",value:qw},{key:"moveInArray",value:Xw},{key:Lg,value:Yw},{key:Eg,value:Vw},{key:"initRegion",value:$w},{key:"findPlayerOrigin",value:Kw},{key:"reverseCheckView",value:Zw},{key:"doPlay",value:Qw},{key:"getActiveTab",value:Jw},{key:"isActiveTab",value:ek},{key:"sendFreeSpectate",value:tk},{key:"sendSpectate",value:nk},{key:"sendWave",value:rk},{key:"feed",value:ok},{key:"macroFeed",value:ik},{key:"bot_macroFeed",value:ak},{key:"split",value:sk},{key:"popSplit",value:lk},{key:"bot_split",value:ck},{key:"bot_feed",value:uk},{key:"bot_toggle",value:fk},{key:"respawnClient",value:hk},{key:"quickResp",value:dk},{key:"autoResp",value:pk},{key:"setQuadrant",value:mk},{key:"getQuadrant",value:vk},{key:"setPause",value:yk},{key:"reverseCheckGhost",value:gk},{key:"sfx",value:bk},{key:"setUI",value:wk},{key:"reconnect",value:kk},{key:"connect",value:_k},{key:"disconnect",value:Sk},{key:"reconnectTimeout",value:Ck},{key:"flushServerConfigs",value:Tk},{key:"updateServerData",value:xk},{key:"initInputs",value:Pk},{key:"init",value:Ok},{key:"play",get:Rk},{key:"isAnyPlayerEstablished",get:Uk},{key:"isAnyEstablished",get:Ak}]),n}(r.d));function Lk(e){}function Fk(){}function jk(){return new Date(this.lastChecked).toTimeString().replace(/^(\d{2}:\d{2}).*/,"$1")}function Dk(){var e=new Date(this.lastChecked);return((new Date).getTime()-e)/1e3/60<5}function Bk(){function e(){qg(this,e),this.token="",this.ws="",this.lastChecked=0}return Wg(e,[{key:"lastCheckedTime",get:jk},{key:"isFresh",get:Dk}]),e}function zk(){var e,t,n,r,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fr.a.makeMasterSimpleRequest("info");case 2:if(e=i.sent){t=JSON.parse(e),n=zg(this.agRegions.values);try{for(n.s();!(r=n.n()).done;)(o=r.value).numPlayers=t.regions[o.val].numPlayers}catch(e){n.e(e)}finally{n.f()}}case 4:case"end":return i.stop()}}),zk,this)}function Nk(e,t){var n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(fr.a.isAgarioHost||1===this.data.tabMode||(this.data.tabMode=1),1!==this.data.tabMode){o.next=4;break}return e(this.myRegions.data.selector1),o.abrupt("return");case 4:if(""!==this.agRegions.data.selector1){o.next=10;break}return o.next=7,fr.a.getRegionCode();case 7:n=o.sent,r=n.country,this.agRegions.data.selector1=fr.a.langCodes[r];case 10:fr.a.isAgarioHost&&fr.a.getServer(this.agRegions.data.selector1,this.agRegions.data.selector2,e,t);case 11:case"end":return o.stop()}}),Nk,this)}function Hk(){var e,t,n,r,o,i=arguments;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=!(i.length>0&&void 0!==i[0])||i[0],t=this.agRegions.data.selector1,n=this.agRegions.data.selector2,r=5,this.agRegions.indexed[this.agRegions.data.selector1]&&this.agRegions.indexed[this.agRegions.data.selector1][this.agRegions.data.selector2]&&Object.values(this.agRegions.indexed[this.agRegions.data.selector1][this.agRegions.data.selector2]).length<2&&(r=10),o=0;case 6:if(!(r>o)){a.next=15;break}if(!e){a.next=10;break}if(t===this.agRegions.data.selector1&&n===this.agRegions.data.selector2){a.next=10;break}return a.abrupt("break",15);case 10:return a.next=12,fr.a.findEndpointAsync(this.agRegions.data.selector1,this.agRegions.data.selector2,this.processRandomServer.bind(this));case 12:o++,a.next=6;break;case 15:case"end":return a.stop()}}),Hk,this)}function Gk(){fr.a.findEndpoint(this.agRegions.data.selector1,this.agRegions.data.selector2,this.processRandomServer.bind(this))}function qk(e){var t,n,r,o,i,a="wss://".concat(e.endpoints.https).concat(e.token?"/?party_id="+e.token:""),s=Fb.wsToToken(a),l=null!==(r=(t=this.agRegions.indexed)[n=e.region])&&void 0!==r?r:t[n]={},c=null!==(i=l[o=e.gamemode])&&void 0!==i?i:l[o]={},u=c[s];u||((u=c[s]=new this.serverInstance).ws=a,u.token=s,u.lastChecked=Date.now())}function Xk(e){return!this.myRegions.indexed[e]||!1!==this.myRegions.indexed[e].m}Jg(preact.h(cy,null),document.getElementById("backend-auth"));var Wk=window.ServerSelectorModel=new(function(){function e(){var t=this;qg(this,e),Object(r.l)(this);var n={tabMode:fr.a.isAgarioHost?0:1};Object.assign(n,r.r.get("delta_McMaster4")),this.data=new r.c(n),this.data.on("*",(function(e){r.r.set("delta_McMaster4",t.data)}));var o,i={data:{selector1:"",selector2:":ffa"},values:[{numPlayers:null,name:"North America",val:"US-Atlanta"},{numPlayers:null,name:"South America",val:"BR-Brazil"},{numPlayers:null,name:"Europe",val:"EU-London"},{numPlayers:null,name:"Ukraine",val:"RU-Russia"},{numPlayers:null,name:"Turkey",val:"TK-Turkey"},{numPlayers:null,name:"East Asia",val:"JP-Tokyo"},{numPlayers:null,name:"China",val:"CN-China"},{numPlayers:null,name:"Oceania",val:"SG-Singapore"}],indexed:{}},a=zg(i.values);try{var s=function(){var e=o.value;i.indexed[e.val]=e,["ffa","experimental","teams","battleroyal","party"].forEach((function(t){return e[":"+t]={}}))};for(a.s();!(o=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}Object.assign(i.data,r.r.get("myRegions")),this._agRegions=i,this.agRegions=hh(i,(function(e,t,n){this.emit("*",e,t,n),this.emit(e,t,n),r.r.set("myRegions",i.data)}));var l,c={data:{selector1:"wss://imsolo.pro:2109/"},values:[{numPlayers:null,m:!0,name:"Delta FFA",val:"wss://delta-ffa.glitch.me"},{numPlayers:null,m:!1,name:"EU - Delta FFA 2",val:"wss://eu.mi.com:2001"},{numPlayers:null,m:!1,name:"EU - Delta GigaSplit",val:"wss://eu.mi.com:9998"},{numPlayers:null,m:!1,name:"EU - Delta Crazy",val:"wss://eu.mi.com:5021"},{numPlayers:null,m:!1,name:"EU - Delta Instant",val:"wss://eu.mi.com:3001"},{numPlayers:null,m:!1,name:"NA - Delta FFA",val:"wss://us.mi.com:2001"},{numPlayers:null,m:!1,name:"NA - Delta Crazy",val:"wss://us.mi.com:5011"},{numPlayers:null,m:!1,name:"NA - Delta Instant",val:"wss://us.mi.com:3001"},{numPlayers:null,m:!0,name:"Hyper Party 1",val:"srv://ragaffa-32x"},{numPlayers:null,m:!0,name:"Hyper Party 2",val:"srv://ragaffa-16x"},{numPlayers:null,m:!0,name:"FeelForeverAlone",val:"wss://imsolo.pro:2102"},{numPlayers:null,m:!0,name:"Arctida",val:"wss://imsolo.pro:2109/"},{numPlayers:null,m:!0,name:"Antarctic",val:"wss://deltastan.herokuapp.com/selfeed?ogarx"},{numPlayers:null,m:!0,name:"Dagestan",val:"wss://imsolo.pro:2108/"},{numPlayers:null,m:!0,name:"Rookery",val:"wss://imsolo.pro:2104/"},{numPlayers:null,m:!0,name:"FFA with boosts",val:"wss://imsolo.pro:2102/"},{numPlayers:null,m:!0,name:"Eatcells FFA 1",val:"wss://eatcells.com/api/~"},{numPlayers:null,m:!0,name:"Eatcells FFA 2",val:"wss://ogar.eatcells.com/api/~"}],list:{},indexed:{}},u=zg(c.values);try{for(u.s();!(l=u.n()).done;){var f=l.value;c.indexed[f.val]=f}}catch(e){u.e(e)}finally{u.f()}Object.assign(c.data,r.r.get("myRegions2")),this.myRegions=hh(c,(function(e,t,n){this.emit("*",e,t,n),this.emit(e,t,n),r.r.set("myRegions2",c.data)})),this.myRegions.on("data.selector1",(function(){return t.emit("change")})),this.agRegions.on("data.selector1","data.selector2",(function(){return t.emit("change")})),this.data.on("tabMode",(function(){return t.emit("change")})),fr.a.on("endpoint",(function(e){t.processRandomServer(e)})),this.serverInstance=Bk(),this.agRegions.on("data.selector1","data.selector2",(function(e){fr.a.isAgarioHost&&t.searchEndpoints()}))(),fr.a.isAgarioHost&&(setInterval((function(){fr.a.findEndpointAsync(t.agRegions.data.selector1,t.agRegions.data.selector2,t.processRandomServer.bind(t))}),6e4),setInterval((function(){t.agRefreshNumPlayers()}),18e4),this.agRefreshNumPlayers())}var t,n,o;return Wg(e,[{key:"agRefreshNumPlayers",value:(o=Bg(regeneratorRuntime.mark(zk)),function(){return o.apply(this,arguments)})},{key:"getServer",value:(n=Bg(regeneratorRuntime.mark(Nk)),function(e,t){return n.apply(this,arguments)})},{key:"searchEndpoints",value:(t=Bg(regeneratorRuntime.mark(Hk)),function(){return t.apply(this,arguments)})},{key:"findEndpoint",value:Gk},{key:"processRandomServer",value:qk},{key:"getServerConfig",value:Xk}]),e}());
//!function(r){var e={};function o(n){if(e[n])return e[n].exports;var t=e[n]={i:n,l:!1,exports:{}};return r[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=e,o.d=function(r,e,n){o.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},o.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,e){if(1&e&&(r=o(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)o.d(n,t,function(e){return r[e]}.bind(null,t));return n},o.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(e,"a",e),e},o.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},o.p="",o(o.s=0)}([function(r,e,o){"use strict";var n=o(1),t=o(5);_rollbarConfig=_rollbarConfig||{},_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||"https://cdn.rollbar.com/rollbarjs/refs/tags/v2.19.2/rollbar.min.js",_rollbarConfig.async=void 0===_rollbarConfig.async||_rollbarConfig.async;var a=n.setupShim(window,_rollbarConfig),l=t(_rollbarConfig);window.rollbar=n.Rollbar,a.loadFull(window,document,!_rollbarConfig.async,_rollbarConfig,l)},function(r,e,o){"use strict";var n=o(2),t=o(3);function a(r){return function(){try{return r.apply(this,arguments)}catch(r){try{console.error("[Rollbar]: Internal error",r)}catch(r){}}}}var l=0;function i(r,e){this.options=r,this._rollbarOldOnError=null;var o=l++;this.shimId=function(){return o},"undefined"!=typeof window&&window._rollbarShims&&(window._rollbarShims[o]={handler:e,messages:[]})}var s=o(4),d=function(r,e){return new i(r,e)},c=function(r){return new s(d,r)};function u(r){return a((function(){var e=this,o=Array.prototype.slice.call(arguments,0),n={shim:e,method:r,args:o,ts:new Date};window._rollbarShims[this.shimId()].messages.push(n)}))}i.prototype.loadFull=function(r,e,o,n,t){var l=!1,i=e.createElement("script"),s=e.getElementsByTagName("script")[0],d=s.parentNode;i.crossOrigin="",i.src=n.rollbarJsUrl,o||(i.async=!0),i.onload=i.onreadystatechange=a((function(){if(!(l||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){i.onload=i.onreadystatechange=null;try{d.removeChild(i)}catch(r){}l=!0,function(){var e;if(void 0===r._rollbarDidLoad){e=new Error("rollbar.js did not load");for(var o,n,a,l,i=0;o=r._rollbarShims[i++];)for(o=o.messages||[];n=o.shift();)for(a=n.args||[],i=0;i<a.length;++i)if("function"==typeof(l=a[i])){l(e);break}}"function"==typeof t&&t(e)}()}})),d.insertBefore(i,s)},i.prototype.wrap=function(r,e,o){try{var n;if(n="function"==typeof e?e:function(){return e||{}},"function"!=typeof r)return r;if(r._isWrap)return r;if(!r._rollbar_wrapped&&(r._rollbar_wrapped=function(){o&&"function"==typeof o&&o.apply(this,arguments);try{return r.apply(this,arguments)}catch(o){var e=o;throw e&&("string"==typeof e&&(e=new String(e)),e._rollbarContext=n()||{},e._rollbarContext._wrappedSource=r.toString(),window._rollbarWrappedError=e),e}},r._rollbar_wrapped._isWrap=!0,r.hasOwnProperty))for(var t in r)r.hasOwnProperty(t)&&(r._rollbar_wrapped[t]=r[t]);return r._rollbar_wrapped}catch(e){return r}};for(var p="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleAnonymousErrors,handleUnhandledRejection,captureEvent,captureDomContentLoaded,captureLoad".split(","),f=0;f<p.length;++f)i.prototype[p[f]]=u(p[f]);r.exports={setupShim:function(r,e){if(r){var o=e.globalAlias||"Rollbar";if("object"==typeof r[o])return r[o];r._rollbarShims={},r._rollbarWrappedError=null;var l=new c(e);return a((function(){e.captureUncaught&&(l._rollbarOldOnError=r.onerror,n.captureUncaughtExceptions(r,l,!0),e.wrapGlobalEventHandlers&&t(r,l,!0)),e.captureUnhandledRejections&&n.captureUnhandledRejections(r,l,!0);var a=e.autoInstrument;return!1!==e.enabled&&(void 0===a||!0===a||"object"==typeof a&&a.network)&&r.addEventListener&&(r.addEventListener("load",l.captureLoad.bind(l)),r.addEventListener("DOMContentLoaded",l.captureDomContentLoaded.bind(l))),r[o]=l,l}))()}},Rollbar:c}},function(r,e,o){"use strict";function n(r,e,o,n){r._rollbarWrappedError&&(n[4]||(n[4]=r._rollbarWrappedError),n[5]||(n[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null);var t=e.handleUncaughtException.apply(e,n);o&&o.apply(r,n),"anonymous"===t&&(e.anonymousErrorsPending+=1)}r.exports={captureUncaughtExceptions:function(r,e,o){if(r){var t;if("function"==typeof e._rollbarOldOnError)t=e._rollbarOldOnError;else if(r.onerror){for(t=r.onerror;t._rollbarOldOnError;)t=t._rollbarOldOnError;e._rollbarOldOnError=t}e.handleAnonymousErrors();var a=function(){var o=Array.prototype.slice.call(arguments,0);n(r,e,t,o)};o&&(a._rollbarOldOnError=t),r.onerror=a}},captureUnhandledRejections:function(r,e,o){if(r){"function"==typeof r._rollbarURH&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var n=function(r){var o,n,t;try{o=r.reason}catch(r){o=void 0}try{n=r.promise}catch(r){n="[unhandledrejection] error getting `promise` from event"}try{t=r.detail,!o&&t&&(o=t.reason,n=t.promise)}catch(r){}o||(o="[unhandledrejection] error getting `reason` from event"),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(o,n)};n.belongsToShim=o,r._rollbarURH=n,r.addEventListener("unhandledrejection",n)}}}},function(r,e,o){"use strict";function n(r,e,o){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var n=e.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var t=function(e,o,t){n.call(this,e,r.wrap(o),t)};t._rollbarOldAdd=n,t.belongsToShim=o,e.addEventListener=t;for(var a=e.removeEventListener;a._rollbarOldRemove&&a.belongsToShim;)a=a._rollbarOldRemove;var l=function(r,e,o){a.call(this,r,e&&e._rollbar_wrapped||e,o)};l._rollbarOldRemove=a,l.belongsToShim=o,e.removeEventListener=l}}r.exports=function(r,e,o){if(r){var t,a,l="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(t=0;t<l.length;++t)r[a=l[t]]&&r[a].prototype&&n(e,r[a].prototype,o)}}},function(r,e,o){"use strict";function n(r,e){this.impl=r(e,this),this.options=e,function(r){for(var e=function(r){return function(){var e=Array.prototype.slice.call(arguments,0);if(this.impl[r])return this.impl[r].apply(this.impl,e)}},o="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleAnonymousErrors,handleUnhandledRejection,_createItem,wrap,loadFull,shimId,captureEvent,captureDomContentLoaded,captureLoad".split(","),n=0;n<o.length;n++)r[o[n]]=e(o[n])}(n.prototype)}n.prototype._swapAndProcessMessages=function(r,e){var o,n,t;for(this.impl=r(this.options);o=e.shift();)n=o.method,t=o.args,this[n]&&"function"==typeof this[n]&&("captureDomContentLoaded"===n||"captureLoad"===n?this[n].apply(this,[t[0],o.ts]):this[n].apply(this,t));return this},r.exports=n},function(r,e,o){"use strict";r.exports=function(r){return function(e){if(!e&&!window._rollbarInitialized){for(var o,n,t=(r=r||{}).globalAlias||"Rollbar",a=window.rollbar,l=function(r){return new a(r)},i=0;o=window._rollbarShims[i++];)n||(n=o.handler),o.handler._swapAndProcessMessages(l,o.messages);window[t]=n,window._rollbarInitialized=!0}}}}]);
function Yk(e){return(Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vk(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qk(e,t,n){return t&&Zk(e.prototype,t),n&&Zk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return(e_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function t_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=r_(e);if(t){var o=r_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(e,t){if(t&&("object"===Yk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r_(e){return(r_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Jg(preact.h(Hy,null),document.getElementById("ui-preact")),Jg(preact.h(ag,null),document.getElementById("hud-raga"));var o_=[{id:"FwHP",t:"hk-feed",gr:1,m:"",k:"",dm:"",dk:"W",req:!0},{id:"2OcS",t:"hk-macroFeed",gr:1,m:"",k:"",dm:"",dk:"E",req:!0},{id:"Cv12",t:"hk-split",gr:1,m:"",k:"",dm:"",dk:"SPACE",req:!0},{id:"4NOV",t:"hk-doubleSplit",gr:1,m:"",k:"",dm:"",dk:"Q",req:!0},{id:"LcSa",t:"hk-popSplit",gr:1,m:"",k:"",dm:"",dk:"ALT+Q",req:!0},{id:"VnhB",t:"hk-tripleSplit",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"qdCt",t:"hk-split16",gr:1,m:"",k:"",dm:"",dk:"SHIFT",req:!0},{id:"aNs8",t:"hk-switchPlayer",gr:1,m:"",k:"",dm:"",dk:"TAB",req:!0},{id:"6Hks",t:"hk-quickResp",gr:1,m:"",k:"",dm:"",dk:"TILDE",req:!0},{id:"RkFK",t:"hk-autoResp",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"ql1x",t:"hk-pause",gr:1,m:"",k:"",dm:"",dk:"R",req:!0},{id:"Q2pI",t:"hk-dance",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"GiHZ",t:"hk-wave",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"kPRF",t:"hk-showMiniMap",gr:1,m:"",k:"",dm:"",dk:"ALT+M",req:!0},{id:"w7t6",t:"hk-hideChat",gr:1,m:"",k:"",dm:"",dk:"H",req:!0},{id:"7RFr",t:"hk-clearChat",gr:1,m:"",k:"",dm:"",dk:"C",req:!0},{id:"cm19",t:"hk-chatMessage",gr:1,m:"",k:"",dm:"",dk:"ENTER",req:!0,ro:!0},{id:"eX8R",t:"hk-showHUD",gr:1,m:"",k:"",dm:"",dk:"ALT+H",req:!0},{id:"D7S2",t:"hk-showLb",gr:1,m:"",k:"",dm:"",dk:"ALT+L",req:!0},{id:"DkFM",t:"hk-copyLb",gr:1,m:"",k:"",dm:"",dk:"L",req:!0},{id:"YuvF",t:"hk-showTop5",gr:1,m:"",k:"",dm:"",dk:"V",req:!0},{id:"mmuF",t:"hk-customMapTexture",gr:1,m:"",k:"",dm:"",dk:"ALT+T",req:!0},{id:"Sagu",t:"hk-undefined",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"PFWJ",t:"hk-switchCamera",gr:1,m:"",k:"",dm:"",dk:"ALT+C",req:!0},{id:"dJTj",t:"hk-switchMarker",gr:1,m:"",k:"",dm:"",dk:"ALT+B",req:!0},{id:"RQPQ",t:"hk-switchMergeIndicator",gr:1,m:"",k:"",dm:"",dk:"CTRL+I",req:!0},{id:"9O3B",t:"hk-showSplitRange",gr:1,m:"",k:"",dm:"",dk:"U",req:!0},{id:"1nCk",t:"hk-showSplitInd",gr:1,m:"",k:"",dm:"",dk:"I",req:!0},{id:"O4H5",t:"hk-showTeammatesInd",gr:1,m:"",k:"",dm:"",dk:"ALT+I",req:!0},{id:"7wxf",t:"hk-showOppColors",gr:1,m:"",k:"",dm:"",dk:"O",req:!0},{id:"FBFT",t:"hk-toggleSkins",gr:1,m:"",k:"",dm:"",dk:"A",req:!0},{id:"P6TV",t:"hk-transparentSkins",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"Gdul",t:"hk-showSkins",gr:1,m:"",k:"",dm:"",dk:"S",req:!0},{id:"F9Va",t:"hk-showStats",gr:1,m:"",k:"",dm:"",dk:"ALT+S",req:!0},{id:"agV8",t:"hk-toggleCells",gr:1,m:"",k:"",dm:"",dk:"D",req:!0},{id:"OS60",t:"hk-showFood",gr:1,m:"",k:"",dm:"",dk:"X",req:!0},{id:"GKNa",t:"hk-showGrid",gr:1,m:"",k:"",dm:"",dk:"G",req:!0},{id:"DSoB",t:"hk-toggleAutoZoom",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"JUbU",t:"hk-resetZoom",gr:1,m:"",k:"",dm:"",dk:"ALT+Z",req:!0},{id:"HEzh",t:"hk-showBgSectors",gr:1,m:"",k:"",dm:"",dk:"B",req:!0},{id:"MqAJ",t:"hk-showNames",gr:1,m:"",k:"",dm:"",dk:"N",req:!0},{id:"RyP5",t:"hk-hideTeammatesNames",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"3Z12",t:"hk-showMass",gr:1,m:"",k:"",dm:"",dk:"M",req:!0},{id:"gCXM",t:"hk-zoom1",gr:1,m:"",k:"",dm:"",dk:"ALT+1",req:!0},{id:"w9Pa",t:"hk-zoom2",gr:1,m:"",k:"",dm:"",dk:"ALT+2",req:!0},{id:"fDZK",t:"hk-zoom3",gr:1,m:"",k:"",dm:"",dk:"ALT+3",req:!0},{id:"NYW3",t:"hk-zoom4",gr:1,m:"",k:"",dm:"",dk:"ALT+4",req:!0},{id:"XFNL",t:"hk-zoom5",gr:1,m:"",k:"",dm:"",dk:"ALT+5",req:!0},{id:"c0Vq",t:"hk-bots-split",gr:1,m:"",k:"",dm:"",dk:"F",req:!0},{id:"QPtn",t:"hk-bots-split-x2",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"ZyuF",t:"hk-bots-split-x3",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"FR1n",t:"hk-bots-split-x4",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"ZzgB",t:"hk-bots-split-x5",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"G1Gy",t:"hk-bots-macroFeed",gr:1,m:"",k:"",dm:"",dk:"T",req:!0},{id:"Jv9o",t:"hk-bots-ai",gr:1,m:"",k:"",dm:"",dk:"Z",req:!0},{id:"qw1X",t:"comm",gr:3,m:"",k:"",dm:"",dk:"1",data:Object(r.j)("comm1"),ddata:Object(r.j)("comm1"),dict:"comm1",req:!0},{id:"aam4",t:"comm",gr:3,m:"",k:"",dm:"",dk:"2",data:Object(r.j)("comm2"),ddata:Object(r.j)("comm2"),dict:"comm2",req:!0},{id:"kH7H",t:"comm",gr:3,m:"",k:"",dm:"",dk:"3",data:Object(r.j)("comm3"),ddata:Object(r.j)("comm3"),dict:"comm3",req:!0},{id:"1E8W",t:"comm",gr:3,m:"",k:"",dm:"",dk:"4",data:Object(r.j)("comm4"),ddata:Object(r.j)("comm4"),dict:"comm4",req:!0},{id:"WaAz",t:"comm",gr:3,m:"",k:"",dm:"",dk:"5",data:Object(r.j)("comm5"),ddata:Object(r.j)("comm5"),dict:"comm5",req:!0},{id:"uaJE",t:"comm",gr:3,m:"",k:"",dm:"",dk:"6",data:Object(r.j)("comm6"),ddata:Object(r.j)("comm6"),dict:"comm6",req:!0},{id:"kMhM",t:"comm",gr:3,m:"",k:"",dm:"",dk:"7",data:Object(r.j)("comm7"),ddata:Object(r.j)("comm7"),dict:"comm7",req:!0},{id:"H0G6",t:"comm",gr:3,m:"",k:"",dm:"",dk:"8",data:Object(r.j)("comm8"),ddata:Object(r.j)("comm8"),dict:"comm8",req:!0},{id:"Ayeb",t:"comm",gr:3,m:"",k:"",dm:"",dk:"9",data:Object(r.j)("comm9"),ddata:Object(r.j)("comm9"),dict:"comm9",req:!0},{id:"qQhB",t:"comm",gr:3,m:"",k:"",dm:"",dk:"0",data:Object(r.j)("comm0"),ddata:Object(r.j)("comm0"),dict:"comm0",req:!0},{id:"SrhC",t:"comm",gr:3,m:"",k:"",dm:"MIDDLE MOUSE",dk:"",data:Object(r.j)("comm10"),ddata:Object(r.j)("comm10"),dict:"comm10",req:!0},{id:"m6SB",t:"comm",gr:3,m:"",k:"",dm:"",dk:"LEFT",data:Object(r.j)("comm11"),ddata:Object(r.j)("comm11"),dict:"comm11",req:!0},{id:"zaUA",t:"comm",gr:3,m:"",k:"",dm:"",dk:"UP",data:Object(r.j)("comm12"),ddata:Object(r.j)("comm12"),dict:"comm12",req:!0},{id:"s0Oc",t:"comm",gr:3,m:"",k:"",dm:"",dk:"RIGHT",data:Object(r.j)("comm13"),ddata:Object(r.j)("comm13"),dict:"comm13",req:!0},{id:"A2RQ",t:"comm",gr:3,m:"",k:"",dm:"",dk:"DOWN",data:Object(r.j)("comm14"),ddata:Object(r.j)("comm14"),dict:"comm14",req:!0}];function i_(e,t){var n,r=Vk(this.fn2hk);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.id,a=(o.t,o.dk),s=o.dm;o.gr;if(this.storage.has(i)){var l=this.storage.get(i);if(t&&"comm"==l.t)continue;if(e&&"comm"!=l.t)continue;Object.prototype.hasOwnProperty.call(l,"data")&&this.storage.set(l,"data",l.ddata),this.storage.set(l,"k",a),this.storage.set(l,"m",s)}else o.k=a,o.m=s,Object.prototype.hasOwnProperty.call(o,"data")&&(o.data=o.ddata),this.storage.add(o)}}catch(e){r.e(e)}finally{r.f()}}function a_(){var e=r.r.get("deltaHotkeys_v1");e&&this.import(e)}function s_(){var e=this.export();r.r.set("deltaHotkeys_v1",e)}function l_(){r.r.set("deltaHotkeys_v1",null)}function c_(){this.loadDefaults(!0,!1),this.saveToMemory()}function u_(){this.loadDefaults(!1,!0),this.saveToMemory()}function f_(e,t){var n={};for(var r in y_.storage.all){var o=y_.storage.all[r];t&&"comm"==o.t||(e&&"comm"!=o.t||(n[r]={t:o.t,m:o.m,k:o.k},Object.prototype.hasOwnProperty.call(o,"data")&&(n[r].data=o.data)))}return n}function h_(){return JSON.stringify(this.export(),null,"\t")}function d_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?JSON.parse(e):e;if(0!=Object.keys(t).length)for(var n in this.storage.all){var r=this.storage.all[n];if(t[r.id]){var o=t[r.id];Object.prototype.hasOwnProperty.call(r,"data")&&this.storage.set(r,"data",o.data),this.storage.set(r,"k",o.k),this.storage.set(r,"m",o.m)}else Object.prototype.hasOwnProperty.call(r,"data")&&this.storage.set(r,"data",r.data),this.storage.set(r,"k",r.dk),this.storage.set(r,"m",r.dm)}}function p_(e,t){if(this.storage.by.k&&this.storage.by.k[t]){var n,r=Vk(this.storage.by.k[t]);try{for(r.s();!(n=r.n()).done;){var o=n.value;console.log("remap",o),this.storage.set(o,"k","")}}catch(e){r.e(e)}finally{r.f()}}this.storage.set(e,"k",t)}function m_(e,t){if(this.storage.by.m&&this.storage.by.m[t]){var n,r=Vk(this.storage.by.m[t]);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.storage.set(o,"m","")}}catch(e){r.e(e)}finally{r.f()}}this.storage.set(e,"m",t)}function v_(e,t){this.storage.set(e,"data",t)}var y_=window.keyMaster=new(function(e){Jk(n,e);var t=t_(n);function n(){var e;Kk(this,n),(e=t.call(this)).fn2hk=o_;var o={};return e.storage=new r.e("id",["t","gr","k","m"],o),e.storage.on("change",(function(t,n){e.storage.emit(t[e.storage.indexId],t,n)})),e.loadDefaults(),e.loadFromMemory(),e}return Qk(n,[{key:"loadDefaults",value:i_},{key:"loadFromMemory",value:a_},{key:"saveToMemory",value:s_},{key:"resetMemory",value:l_},{key:"restoreCommands",value:c_},{key:"restoreHotkeys",value:u_},{key:"export",value:f_},{key:"exportJSON",value:h_},{key:"import",value:d_},{key:"remapKeyboard",value:p_},{key:"remapMouse",value:m_},{key:"remapCmd",value:v_}]),n}(r.d));function g_(e){r.n.emit("mousemove",e)}function b_(){return!1}function w_(){r.o.autoResp=!r.o.autoResp,Ct.displayChatInfo(r.o.autoResp,"autoRespMsg")}function k_(){Ct&&Ct.setShowHUD()}function __(){r.o.mbCenterCamera=!r.o.mbCenterCamera,Ct.saveSettings()}function S_(){r.o.mbRings=!r.o.mbRings,r.o.mbMarking=!r.o.mbMarking}function C_(){r.o.mergeIndicator=!r.o.mergeIndicator}function T_(){r.o.splitRange=!r.o.splitRange,r.s.splitRange=r.o.splitRange}function x_(){r.o.splitRange=r.o.oppRings=!r.o.splitRange}function P_(){r.o.teammatesInd=!r.o.teammatesInd}function M_(){r.o.oppColors=!r.o.oppColors,r.s.oppColors=r.o.oppColors}function I_(){r.o.vanillaSkins=!r.o.vanillaSkins}function O_(){r.o.transparentSkins=!r.o.transparentSkins,r.s.transparentSkins=r.o.transparentSkins}function R_(){Ct.noSkins=!Ct.noSkins,r.s.showAnySkins=!Ct.noSkins,Ct.displayChatInfo(!Ct.noSkins,"showSkinsMsg")}function U_(){$("#stats-hud").toggle()}function A_(){r.s.selectBiggestCell=!r.s.selectBiggestCell}function E_(){r.o.showFood=!r.o.showFood}function L_(){r.o.showGrid=!r.o.showGrid}function F_(){r.s.autoZoom=!r.s.autoZoom,Ct.displayChatInfo(r.s.autoZoom,"autoZoomMsg")}function j_(){Ct.resetZoom(!0)}function D_(){Ct.resetZoom(!1)}function B_(){r.o.showBgSectors=!r.o.showBgSectors}function z_(){r.o.showNames=!r.o.showNames}function N_(){r.o.hideTeammatesNames=!r.o.hideTeammatesNames}function H_(){r.o.showMass=!r.o.showMass}function G_(e){if(e.constructor===MouseEvent)return this.mouseCodes[e.button+1]||"KEY"+(e.button+1)+" MOUSE";var t="",n="",r="",o="";if((e.ctrlKey||17==e.keyCode)&&(t="CTRL"),(e.altKey||18==e.keyCode)&&(n="ALT"),(r=this.keyboardCodes[e.keyCode])||(r=String.fromCharCode(e.keyCode)),"ALT"===r||"CTRL"===r)return"";var i=[];return""!==r&&(t&&i.push(t),n&&i.push(n),i.push(r),o=i.join("+")),o}function q_(){var e=this;window.addEventListener("blur",(function(){$("#lostfocus-hud").show(),e.waitforclick=!1,e.focused=!1})),window.addEventListener("focus",(function(){$("#lostfocus-hud").hide(),e.waitforclick=!0}))}var X_=window.Keyboard=new(function(){function e(){var t=this;Kk(this,e),this.focused=!0,this.waitforclick=!0,this.keyboardCodes="   CANCEL   HELP  BACK_SPACE TAB   CLEAR ENTER ENTER_SPECIAL  SHIFT CTRL ALT PAUSE CAPS_LOCK KANA EISU JUNJA FINAL HANJA  ESC CONVERT NONCONVERT ACCEPT MODECHANGE SPACE PAGE_UP PAGE_DOWN END HOME LEFT UP RIGHT DOWN SELECT PRINT EXECUTE PRINTSCREEN INSERT DEL  0 1 2 3 4 5 6 7 8 9 COLON SEMICOLON LESS_THAN = GREATER_THAN QUESTION_MARK AT A B C D E F G H I J K L M N O P Q R S T U V W X Y Z OS_KEY  CONTEXT_MENU  SLEEP NUMPAD0 NUMPAD1 NUMPAD2 NUMPAD3 NUMPAD4 NUMPAD5 NUMPAD6 NUMPAD7 NUMPAD8 NUMPAD9 MULTIPLY ADD SEPARATOR SUBTRACT DECIMAL DIVIDE F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24         NUM_LOCK SCROLL_LOCK WIN_OEM_FJ_JISHO WIN_OEM_FJ_MASSHOU WIN_OEM_FJ_TOUROKU WIN_OEM_FJ_LOYA WIN_OEM_FJ_ROYA          CIRCUMFLEX EXCLAMATION DOUBLE_QUOTE HASH DOLLAR PERCENT AMPERSAND UNDERSCORE OPEN_PAREN CLOSE_PAREN ASTERISK PLUS PIPE HYPHEN_MINUS OPEN_CURLY_BRACKET CLOSE_CURLY_BRACKET TILDE     VOLUME_MUTE VOLUME_DOWN VOLUME_UP   SEMICOLON = COMMA MINUS PERIOD SLASH TILDE                           OPEN_BRACKET BACK_SLASH CLOSE_BRACKET QUOTE  META ALTGR  WIN_ICO_HELP WIN_ICO_00  WIN_ICO_CLEAR   WIN_OEM_RESET WIN_OEM_JUMP WIN_OEM_PA1 WIN_OEM_PA2 WIN_OEM_PA3 WIN_OEM_WSCTRL WIN_OEM_CUSEL WIN_OEM_ATTN WIN_OEM_FINISH WIN_OEM_COPY WIN_OEM_AUTO WIN_OEM_ENLW WIN_OEM_BACKTAB ATTN CRSEL EXSEL EREOF PLAY ZOOM  PA1 WIN_OEM_CLEAR ".split(" "),this.mouseCodes={1:"LEFT MOUSE",2:"MIDDLE MOUSE",3:"RIGHT MOUSE"},this.lastPressedKey="",this.lastKeyId="",this.inputClassName=void 0;var n={};document.addEventListener("keydown",(function(e){var o=e.target,i=t.getPressedKey(e);if("Tab"===e.code&&e.preventDefault(),!e.repeat&&("INPUT"!==o.tagName||o.className.includes(t.inputClassName)||"ENTER"===i)&&!e.metaKey&&("true"!==o.contentEditable||o.className.includes(t.inputClassName))&&(81==e.keyCode&&Ek&&Ek.sendFreeSpectate(),""!==i&&!n[i])){if(n[i]=!0,"ESC"===i)return e.preventDefault(),void r.n.emit(i+":down");if(""!==i&&y_.storage.by.k&&y_.storage.by.k[i]){e.preventDefault();var a,s=Vk(y_.storage.by.k[i]);try{for(s.s();!(a=s.n()).done;){var l=a.value;r.n.emit(l.t+":down",l)}}catch(e){s.e(e)}finally{s.f()}}}})),document.addEventListener("keyup",(function(e){var o=t.getPressedKey(e);if(""!==o&&y_.storage.by.k&&y_.storage.by.k[o]){var i,a=Vk(y_.storage.by.k[o]);try{for(a.s();!(i=a.n()).done;){var s=i.value;r.n.emit(s.t+":up",s)}}catch(e){a.e(e)}finally{a.f()}}n[o]=!1})),document.addEventListener("mousedown",(function(e){var n=t.getPressedKey(e);if(1!=e.button&&3!=e.button&&4!=e.button||e.preventDefault(),t.waitforclick&&(t.focused=!0,t.waitforclick=!1),t.focused&&!Ek.state.menuShow){if(1!=e.button&&2!=e.button||e.preventDefault(),y_.storage.by.m[n]){var o,i=Vk(y_.storage.by.m[n]);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.n.emit(a.t+":down",a)}}catch(e){i.e(e)}finally{i.f()}}r.n.emit(n+":down")}})),document.addEventListener("mouseup",(function(e){var n=t.getPressedKey(e);if(3!=e.button&&4!=e.button||e.preventDefault(),y_.storage.by.m[n]){var o,i=Vk(y_.storage.by.m[n]);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.n.emit(a.t+":up",a)}}catch(e){i.e(e)}finally{i.f()}}})),document.addEventListener("mousemove",g_),$("#canvas, #overlays-hud").bind("contextmenu",b_),r.n.on("hk-autoResp:down",w_),r.n.on("hk-showHUD:down",k_),r.n.on("hk-switchCamera:down",__),r.n.on("hk-switchMarker:down",S_),r.n.on("hk-switchMergeIndicator:down",C_),r.n.on("hk-showSplitRange:down",T_),r.n.on("hk-showSplitInd:down",x_),r.n.on("hk-showTeammatesInd:down",P_),r.n.on("hk-showOppColors:down",M_),r.n.on("hk-toggleSkins:down",I_),r.n.on("hk-transparentSkins:down",O_),r.n.on("hk-showSkins:down",R_),r.n.on("hk-showStats:down",U_),r.n.on("hk-toggleCells:down",A_),r.n.on("hk-showFood:down",E_),r.n.on("hk-showGrid:down",L_),r.n.on("hk-toggleAutoZoom:down",F_),r.n.on("hk-resetZoom:down",j_),r.n.on("hk-resetZoom:up",D_),r.n.on("hk-showBgSectors:down",B_),r.n.on("hk-showNames:down",z_),r.n.on("hk-hideTeammatesNames:down",N_),r.n.on("hk-showMass:down",H_),this.initLostFocusEvents()}return Qk(e,[{key:"getPressedKey",value:G_},{key:"initLostFocusEvents",value:q_}]),e}()),W_=qt.Component,Y_=qt.render,V_=(qt.h,Xt.useState,Xt.useEffect),$_=Xt.useRef;function K_(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.stopPropagation(),e.preventDefault(),!1===this.focus.m)return this.$inputMouse.current.focus(),void(this.focus.m=!0);var n=X_.getPressedKey(e);this.props.desc.ro||(!t||"DEL"!==n&&"BACK_SPACE"!==n||(n=""),t&&""!=n||(this.setState({m:n}),this.props.callback_m(n)))}function Z_(e){this.$inputKey.current.blur(),e.stopPropagation(),e.preventDefault();var t=X_.getPressedKey(e);this.props.desc.ro||"ENTER"===t||("DEL"!==t&&"BACK_SPACE"!==t||(t=""),this.setState({k:t}),this.props.callback_k(t))}function Q_(e){var t=this;function n(){t.setState({m:e.desc.m,k:e.desc.k})}function o(){t.focus.m=!1}return this.$inputKey=$_(null),this.$inputMouse=$_(null),V_((function(){var r,i=n;return t.listenTo(e.target,e.desc.id,i),i(),t.$inputMouse.current.addEventListener("blur",r=o),function(){t.unlisten(),t.$inputMouse.current.removeEventListener("blur",r)}}),[e.desc.id]),nS(Object(r.j)(e.desc.t),this.state,this.handleMouse.bind(this),this.handleKey.bind(this),this.$inputKey,this.$inputMouse)}var J_=function(e){Jk(n,e);var t=t_(n);function n(){var e;return Kk(this,n),(e=t.call(this)).state={k:"NO",m:"NO"},e.focus={k:!1,m:!1},e}return Qk(n,[{key:"handleMouse",value:K_},{key:"handleKey",value:Z_},{key:"render",value:Q_}]),n}(O);function eS(e){e.stopPropagation(),e.preventDefault()}function tS(e){e.stopPropagation(),e.preventDefault()}var nS=function(e,t,n,r,o,i){return qt.h("div",{class:"flex-row"},qt.h("div",{class:"input-box-cell name rest"},e),qt.h("div",{class:"input-box-cell"},qt.h("input",{ref:i,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"MOUSE",value:t.m,defaultValue:t.m,onKeydown:function(e){n(e,!0)},onMousedown:function(e){return n(e)},onContextmenu:eS})),qt.h("div",{class:"input-box-cell"},qt.h("input",{ref:o,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"KEYBOARD",value:t.k,defaultValue:t.k,onKeydown:function(e){return r(e)},onContextmenu:tS})))};function rS(e){console.log(e),this.setState({data:this.$inputCommand.current.value}),this.props.callback_data(this.$inputCommand.current.value)}function oS(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.stopPropagation(),e.preventDefault(),!1===this.focus.m)return this.$inputMouse.current.focus(),void(this.focus.m=!0);var n=X_.getPressedKey(e);this.props.desc.ro||(!t||"DEL"!==n&&"BACK_SPACE"!==n||(n=""),t&&""!=n||(this.setState({m:n}),this.props.callback_m(n)))}function iS(e){this.$inputKey.current.blur(),e.stopPropagation(),e.preventDefault();var t=X_.getPressedKey(e);this.props.desc.ro||"ENTER"===t||("DEL"!==t&&"BACK_SPACE"!==t||(t=""),this.setState({k:t}),this.props.callback_k(t))}function aS(e){var t=this;function n(){t.setState({m:e.desc.m,k:e.desc.k,data:e.desc.data})}function o(){t.focus.m=!1}return this.$inputKey=$_(null),this.$inputMouse=$_(null),this.$inputCommand=$_(null),V_((function(){var r,i=n;return t.listenTo(e.target,e.desc.id,i),i(),t.$inputMouse.current.addEventListener("blur",r=o),function(){t.unlisten(),t.$inputMouse.current.removeEventListener("blur",r)}}),[e.desc.id]),uS(Object(r.j)(e.desc.t),this.state,this.handleCommand.bind(this),this.handleMouse.bind(this),this.handleKey.bind(this),this.$inputKey,this.$inputMouse,this.$inputCommand)}var sS=function(e){Jk(n,e);var t=t_(n);function n(){var e;return Kk(this,n),(e=t.call(this)).state={k:"NO",m:"NO",data:"NO"},e.focus={k:!1,m:!1},e}return Qk(n,[{key:"handleCommand",value:rS},{key:"handleMouse",value:oS},{key:"handleKey",value:iS},{key:"render",value:aS}]),n}(O);function lS(e){e.stopPropagation(),e.preventDefault()}function cS(e){e.stopPropagation(),e.preventDefault()}var uS=function(e,t,n,r,o,i,a,s){return qt.h("div",{class:"flex-row"},qt.h("div",{class:"input-box-cell name rest"},qt.h("input",{ref:s,style:"font-size: 80%;width: 100%;",class:"input",type:"search",autocomplete:"off",placeholder:"Chat message template",ovalue:t.data,defaultValue:t.data,onChange:function(e){return n(e)}})),qt.h("div",{class:"input-box-cell"},qt.h("input",{ref:a,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"MOUSE",value:t.m,defaultValue:t.m,onKeydown:function(e){return r(e,!0)},onMousedown:function(e){return r(e)},onContextmenu:lS})),qt.h("div",{class:"input-box-cell"},qt.h("input",{ref:i,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"KEYBOARD",value:t.k,defaultValue:t.k,onKeydown:function(e){return o(e)},onContextmenu:cS})))};function fS(e,t){var n=e.tab_name;return qt.h("div",{class:"tab-button "+(0===t?"active":"")},qt.h("span",null,Object(r.j)(n)))}function hS(e,t){var n=e.content;return qt.h("div",{class:"tab-content  "+(0===t?"active":"")+" w100"},qt.h("div",{class:"paddings grow w100"},n))}function dS(e){var t=e.categories;return qt.h("div",{class:"frows inherit contain",style:"overflow: hidden;"},qt.h("input",{type:"submit",style:"display: none;"}),qt.h("section",{class:"tabs big left vertical"},t.map(fS)),qt.h("section",{class:"tabs-content"},t.map(hS)))}var pS=function(e){Jk(n,e);var t=t_(n);function n(){return Kk(this,n),t.apply(this,arguments)}return Qk(n,[{key:"render",value:dS}]),n}(O);function mS(){y_.saveToMemory()}function vS(){y_.resetMemory(),y_.loadDefaults()}function yS(){var e=[];for(var t in y_.storage.by.gr){var n,r=y_.storage.by.gr[t],o={tab_name:"1"==t?"gameplayGroup":"3"==t?"commands":"category",content:[]},i=Vk(r);function a(){var e=n.value;switch(e.gr){case 1:o.content.push(qt.h(J_,{desc:e,target:y_.storage,callback_m:function(t){y_.remapMouse(e,t)},callback_k:function(t){y_.remapKeyboard(e,t)}}));break;case 3:o.content.push(qt.h(sS,{desc:e,target:y_.storage,callback_m:function(t){y_.remapMouse(e,t)},callback_k:function(t){y_.remapKeyboard(e,t)},callback_data:function(t){y_.remapCmd(e,t)}}))}}try{var s=a;for(i.s();!(n=i.n()).done;)s()}catch(e){i.e(e)}finally{i.f()}e.push(o)}return[qt.h(pS,{categories:e}),qt.h("div",{class:"content-bottom"},qt.h(Ue,{onSave:this.onSave,onRestore:this.onRestore}))]}var gS=function(e){Jk(n,e);var t=t_(n);function n(){return Kk(this,n),t.call(this)}return Qk(n,[{key:"onSave",value:mS},{key:"onRestore",value:vS},{key:"render",value:yS}]),n}(W_);function bS(e){return(bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _S(e,t){return(_S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=TS(e);if(t){var o=TS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CS(this,n)}}function CS(e,t){if(t&&("object"===bS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function TS(e){return(TS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MS(e,t,n){return t&&PS(e.prototype,t),n&&PS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Y_(qt.h(gS,null),document.getElementById("p-hotkeys"));var IS=window.preact,OS=IS.Component,RS=IS.render,US=(IS.h,preactHooks),AS=(US.useState,US.useEffect,US.useRef);window.htm.bind(preact.h);function ES(e){var t={version:1,deltaHotkeys:{},ogarioPlayerProfiles:{},settings:{},ogarioThemeSettings:{}};return e.settings.checked&&(t.settings=Ct.exportSettings()),e.theme.checked&&(t.ogarioThemeSettings=Ct.exportTheme()),e.profiles.checked&&(t.ogarioPlayerProfiles=Ob.export()),t.deltaHotkeys=y_.export(!e.hotkeys.checked,!e.commands.checked),this.saveJSONFile(t),t}function LS(e){var t,n=(t=document.createElement("a"),document.body.appendChild(t),t.style="display: none",function(e,n){var r=new Blob([e],{type:"octet/stream"}),o=window.URL.createObjectURL(r);t.href=o,t.download=n,t.click(),window.URL.revokeObjectURL(o),document.body.removeChild(t)}),r=new Date,o="delta-settings_"+r.getDate()+"-"+(r.getMonth()+1)+"-"+r.getFullYear()+"_"+r.getHours()+"-"+r.getMinutes()+".json";n(JSON.stringify(e,null,"\t"),o)}function FS(e,t){"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof e&&(e=JSON.parse(e)),e.ogarioSettings&&(e.settings=e.ogarioSettings),t.settings.checked&&Ct.loadSettings(e.settings),t.theme.checked&&Ct.loadThemeSettings(e.ogarioThemeSettings),t.profiles.checked&&Ob.import(e.ogarioPlayerProfiles),t.hotkeys.checked&&y_.import(e.deltaHotkeys),Ct.saveSettings(),Ct.saveTheme(),Ob.saveToMemory(),y_.saveToMemory()}function jS(e){e.settings.checked&&Ct.restoreSettings(),e.theme.checked&&Ct.restoreThemeSettings(),e.profiles.checked&&Ob.restore(),e.hotkeys.checked&&y_.restoreHotkeys(),e.commands.checked&&y_.restoreCommands()}var DS=new(function(){function e(){xS(this,e)}return MS(e,[{key:"export",value:ES},{key:"saveJSONFile",value:LS},{key:"import",value:FS},{key:"reset",value:jS}]),e}());function BS(e){var t=this,n=new FileReader;n.onload=function(e){DS.import(e.target.result,t.state)},n.readAsText(e.current.files[0])}function zS(){var e=this,t=AS(null);return preact.h("form",{class:"container-fluid"},preact.h("div",{class:""},Object(r.j)("exportImport")),preact.h("div",{class:"row"},preact.h("div",{class:"col"},preact.h(Ae,{click:function(){DS.export(e.state)},icon:"fas fa-upload"},"EXPORT")),preact.h("input",{ref:t,onChange:function(){e.onFile(t)},id:"inputFile",type:"file",style:"display: none;"}),preact.h("div",{class:"col"},preact.h(Ae,{icon:"fas fa-download",click:function(){return t.current.click()}},"IMPORT")),preact.h("div",{class:"col"},preact.h(Ae,{click:function(){DS.reset(e.state)},icon:"fas fa-trash"},"RESET"))),Object.entries(this.state).map((function(t){var n=wS(t,2),r=n[0],o=n[1];return K(o.name,o.checked,(function(t){e.state[r].checked=t,e.setState(e.state)}))})))}var NS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}(n,e);var t=SS(n);function n(){var e;return xS(this,n),(e=t.call(this)).state={settings:{checked:!0,default:!0,id:"",name:"settings"},theme:{checked:!0,default:!0,id:"",name:"theme"},profiles:{checked:!0,default:!0,id:"",name:"profiles"},hotkeys:{checked:!0,default:!0,id:"",name:"hotkeys"},commands:{checked:!0,default:!0,id:"",name:"commands"}},e}return MS(n,[{key:"onFile",value:BS},{key:"render",value:zS}]),n}(OS);function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GS(e,t){for(var n=0;n<t.length-2;n+=3){var r=t.charAt(n+2);r="a"<=r?r.charCodeAt(0)-87:Number(r),r="+"==t.charAt(n+1)?e>>>r:e<<r,e="+"==t.charAt(n)?e+r&4294967295:e^r}return e}function qS(e,t){var n=t.split(".");t=Number(n[0])||0;for(var r=[],o=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);128>a?r[o++]=a:(2048>a?r[o++]=a>>6|192:(55296==(64512&a)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[o++]=a>>18|240,r[o++]=a>>12&63|128):r[o++]=a>>12|224,r[o++]=a>>6&63|128),r[o++]=63&a|128)}for(e=t,o=0;o<r.length;o++)e=GS(e+=r[o],"+-a^+6");return e=GS(e,"+-3^+b+-f"),0>(e^=Number(n[1])||0)&&(e=2147483648+(2147483647&e)),(n=e%1e6).toString()+"."+(n^t)}function XS(e){return"&q="+encodeURIComponent(e)}function WS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["Hello","мир","world"];return new Promise((function(r,o){var i=qS(n.join(""),"448196.4202325414"),a=new XMLHttpRequest;a.open("POST","https://translate.googleapis.com/translate_a/t?anno=3&client=te&format=html&v=1.0&key&logld=vTE_20201130_00&sl=".concat(e,"&tl=").concat(t,"&tc=1&sr=1&tk=").concat(i,"&mode=1"),!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n.map(XS).join("")),a.onload=function(){200!=a.status||r(JSON.parse(a.responseText))},a.onerror=function(){o(a,a.status,a.statusText)}}))}RS(preact.h(NS,null),document.getElementById("p-exp"));var YS=window.translatorApi=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"translate",value:WS}])&&HS(t.prototype,n),r&&HS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function VS(e){return(VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $S=void 0;function KS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||QS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZS(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=QS(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function QS(e,t){if(e){if("string"==typeof e)return JS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JS(e,t):void 0}}function JS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tC(e,t,n){return t&&eC(e.prototype,t),n&&eC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return(rC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sC(e);if(t){var o=sC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iC(this,n)}}function iC(e,t){if(t&&("object"===VS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aC(e)}function aC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sC(e){return(sC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uC=window.preact,fC=uC.Component,hC=uC.render,dC=(uC.h,uC.Fragment,preactHooks),pC=(dC.useState,dC.useEffect),mC=(dC.useRef,window.htm.bind(preact.h),{":)":"1f642.svg",";)":"1f609.svg","=)":"1f60f.svg",":D":"1f600.svg","X-D":"1f606.svg","=D":"1f602.svg",":(":"2639.svg",";(":"1f62d.svg",":P":"1f61b.svg",";P":"1f61c.svg",":*":"1f618.svg","$)":"1f60d.svg","<3":"2764.svg","8=)":"1f60e.svg",":o":"1f632.svg","(:|":"1f613.svg",":|":"1f610.svg",":\\":"1f612.svg",":@":"1f621.svg","|-)":"1f634.svg","^_^":"1f60a.svg","-_-":"1f611.svg",$_$:"1f911.svg","O:)":"1f607.svg","3:)":"1f608.svg","(poop)":"1f4a9.svg","(fuck)":"1f595.svg","(clap)":"1f44f.svg","(ok)":"1f44c.svg","(victory)":"270c.svg","(y)":"1f44d.svg","(n)":"1f44e.svg","(angry)":"1f479.svg","(clown)":"1f921.svg","(crazy)":"1f61c.svg","(devil)":"1f47a.svg","(devil2)":"1f47e.svg","(fb)":"1f1eb.svg","(google)":"1f1ec.svg","(ghost)":"1f47b.svg","(heel)":"1f460.svg","(kiss)":"1f48b.svg","(lipstick)":"1f484.svg","(teacher)":"1f440.svg","(together)":"1f491.svg","(toothy)":"1f913.svg","(baby)":"1f476.svg","(wow)":"1f631.svg"}),vC=function e(){lC(this,e),cC(this,"id",Math.random()),cC(this,"userId",0),cC(this,"hasHTML",!1),cC(this,"type","message"),cC(this,"name","noname"),cC(this,"text","text"),cC(this,"time","00:00"),cC(this,"isMe",!1)};function yC(e){e.stopPropagation()}function gC(e){e.preventDefault()}function bC(e){e.preventDefault(),r.o.showMessageSenderId=!r.o.showMessageSenderId,Ct.saveSettings(r.o,"ogarioSettings")}function wC(){this.commReplacements;for(var e=0;14>e;e++){var t=r.b.i18en.keys["comm"+e],n=r.b.i18n.keys["comm"+e],o=null,i=null;function a(){o=new RegExp(t.replace(/%(.+?)%/,"(.+?)"),"gi");var e=1;i=n.replace(/%(.+?)%/,(function(){return"$"+e++}))}t.indexOf("%")>-1?a():(o=t,i=n),this.commReplacements.push([o,i])}}function kC(e){var t,n=ZS(this.commReplacements);try{for(n.s();!(t=n.n()).done;){var r=KS(t.value,2),o=r[0],i=r[1];if(o instanceof RegExp&&o.test(e))return e.replace(o,i);if(e===o)return e.replace(o,i)}}catch(e){n.e(e)}finally{n.f()}return e}function _C(){r.o.showMessageSenderId?$(".chat-show-message-sender-id").removeClass("fa-low-vision").addClass("fa-eye"):$(".chat-show-message-sender-id").removeClass("fa-eye").addClass("fa-low-vision")}function SC(){var e=this;r.o.on("messageSound_",this.setMessageSound.bind(this)),r.o.on("commandSound_",this.setCommandSound.bind(this)),r.o.on("showChatBox",this.setShowChatBox.bind(this)),r.o.on("disableChat",this.setDisableChat.bind(this)),r.o.on("chatSounds",this.setChatSoundsBtn.bind(this)),r.o.on("showMessageSenderId",_C)(),this.setMessageSound(),this.setCommandSound(),this.setChatSoundsBtn(),this.setShowChatBox(),this.setDisableChat(),r.n.on("hk-hideChat:down",this.keyToggleChat.bind(this)),r.n.on("hk-chatMessage:down",this.enterChatMessage.bind(this)),this.$messageInput[0].addEventListener("keydown",(function(t){27==t.keyCode&&(e.$messageInput.blur(),e.$messageBox.hide())})),r.n.on("comm:down",(function(t){t.data===t.ddata?e.sendCommand(r.b.i18en(t.dict)):e.sendCommand(t.data)})),r.n.on("hk-clearChat:down",(function(t){r.o.showChatBox&&(e.chatMessages=[],e.emit("chatmessage",message))}))}function CC(e){if(e){var t=rM.getUser(e);t&&(t.isChatUserMuted=!0,toastr.error(Object(r.j)("userMuted").replace("%user%","<strong>".concat(this.escapeHTML(t.nick),"</strong>"))+' <button data-user-id="'.concat(e,'" class="btn btn-xs btn-green btn-unmute-user">').concat(Object(r.j)("unmute"),"</button>")))}}function TC(e){if(e){var t=rM.getUser(e);t&&(t.isChatUserMuted=!1,toastr.info(Object(r.j)("userUnmuted").replace("%user%","<strong>".concat(this.escapeHTML(t.nick),"</strong>"))))}}function xC(e){var t,n="",o=!1,i=ZS(rM.users);try{for(i.s();!(t=i.n()).done;){var a=t.value;(e?a.isChatUser:a.isChatUserMuted)&&(o=!0,n+="<li><strong>".concat(this.escapeHTML(a.nick),'</strong> <button data-user-id="').concat(a.id,'" class="btn btn-xs ').concat(e?"btn-red btn-mute-user":"btn-green btn-unmute-user",'">').concat(Object(r.j)(e?"mute":"unmute"),"</button></li>"))}}catch(e){i.e(e)}finally{i.f()}toastr[e?"info":"error"](o?'<ol class="user-list">'+n+"</ol>":Object(r.j)("none"),e?Object(r.j)("activeUsers"):Object(r.j)("mutedUsers"),{closeButton:!0,tapToDismiss:!1})}function PC(){var e=this;$.getJSON("https://api.allorigins.win/get?url="+encodeURIComponent("https://gaychik.art/latest-updates/?mode=async&function=get_block&block_id=list_videos_latest_videos_list&sort_by=post_date&from="+Math.floor(182*Math.random())),(function(t){var n=[];t.contents.replace(/title="(.+?)" data/g,(function(e,t){n.push(t)}));var r=n[Math.floor(Math.random()*n.length)];e.emit("sendChatMessage","msg",r)}))}function MC(e,t,n,r,o,i){var a=this;101==n&&YS.translate("auto","ru",[i]).then((function(i){"ru"!==i[1]&&a.displayChatMessage(e,t,n,r,o,i[0],!0)}))}function IC(e,t,n,o,i,a,s){var l=this;if("cmd"==n&&(a=this.replaceIfNeed(a)),void 0===i&&(i=rM.getUser(o).nick),!r.o.disableChat&&!rM.getUser(o).isChatUserMuted&&0!=i.length&&!(0==i.length||this.getfancyLength(i)>15||0==a.length)){var c=this.parseMessage(a),u=a!==c;a=c;var f=new vC;f.userId=o,f.isMe=!1,f.name=i,f.text=a,f.hasHTML=u,f.type=n,f.time=t,this.chatMessages.push(f),l.chatMessages.length>100&&l.chatMessages.shift(),this.emit("chatmessage",f),"msg"==n&&!r.o.hideChat&&r.o.chatSounds&&k.play("messageSound"),"cmd"==n&&!r.o.hideChat&&r.o.chatSounds&&k.play("commandSound")}}function OC(e){var t,n=e.split("‍"),r=0,o=ZS(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;r+=Array.from(i.split(/[\ufe00-\ufe0f]/).join("")).length}}catch(e){o.e(e)}finally{o.f()}return r/n.length}function RC(e,t){var n=this;YS.translate("auto",e,[t]).then((function(e){e[0][0].indexOf(">")>-1||n.emit("sendChatMessage","msg",e[0][0])})).catch((function(){n.emit("sendChatMessage","msg",t)}))}function UC(){if(this.$messageBox.is(":visible")){var e=this.$messageInput.val();if(e.length){var t=e.match(/\/(.{2,2}) ([\s\S]+)/);t?this.sendTranslateMessage(t[1],t[2]):this.emit("sendChatMessage","msg",e),(this.inputHistory.length>0&&this.inputHistory[this.inputHistory.length-1]!==e||0===this.inputHistory.length)&&this.inputHistory.push(e),this.inputHistoryIndex=0,this.inputTemporaryValue="",this.inputHistory.length>100&&this.inputHistory.shift(),Ek.play&&(this.$messageInput.blur(),this.$messageBox.hide())}else this.$messageInput.blur(),this.$messageBox.hide();this.$messageInput.val("")}else this.$messageBox.show(),this.$messageInput.focus()}function AC(e){return this.currentSector=this.calculateMapSector(Ek.getActiveTab().protocol_viewX,Ek.getActiveTab().protocol_viewY),e.replace("%currentSector%",this.currentSector)}function EC(e){var t=this.prepareCommand(e);this.emit("sendChatMessage","cmd",t)}function LC(e,t,n){return t+(!/["'=\[\]]/.test(t)?'<a href="'.concat(n,'" target="_blank"><img src="https://www.google.com/s2/favicons?sz=16&domain_url=').concat(encodeURIComponent(n),'" alt="').concat(n,'" class="emoticon">').concat(n,"</a>"):n)}function FC(e){var t=/\[img\]([\w\:\/\.\?]+)\[\/img\]/i;if(t.test(e)){var n=e.match(t)[1];return r.o.showChatImages&&this.checkImgURL(n)?'<br/><img src="'.concat(n,'" style="height: 150px;border:none;">'):""}var o=/\[yt\]([\w-]{11})\[\/yt\]/i;if(o.test(e)){if(r.o.showChatVideos){n=e.match(o);return'<iframe type="text/html" width="100%" height="auto" src="https://www.youtube.com/embed/'.concat(n[1],'?autoplay=1&amp;vq=tiny" frameborder="0" />')}return""}var i=this.escapeHTML(e);return i=i.replace(/(.?)((?:https?:\/\/)(?:[^\s"]+))/gim,LC),r.o.chatEmoticons&&(i=this.parseEmoticons(i)),i}function jC(e){return'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/'+mC[e]+'" alt="'+e+'" class="emoticon">'}function DC(e){return String(e).replace(/\&lt\;3/g,"<3").replace(/(O\:\)|3\:\)|8\=\)|\:\)|\;\)|\=\)|\:D|X\-D|\=D|\:\(|\;\(|\:P|\;P|\:\*|\$\)|\<3|\:o|\(\:\||\:\||\:\\|\:\@|\|\-\)|\^\_\^|\-\_\-|\$\_\$|\(poop\)|\(fuck\)|\(clap\)|\(ok\)|\(victory\)|\(y\)|\(n\)|\(angry\)|\(clown\)|\(crazy\)|\(devil\)|\(devil2\)|\(fb\)|\(google\)|\(ghost\)|\(heel\)|\(kiss\)|\(lipstick\)|\(rage\)|\(teacher\)|\(together\)|\(toothy\)|\(evil\)|\(baby\)|\(wow\))/g,jC)}function BC(e){var t,n=ZS(r.q);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=e.match(o.regexp);if(i)return i[0]}}catch(e){n.e(e)}finally{n.f()}return!1}function zC(e){return r.k[e]}function NC(e){return String(e).replace(/[&<>"']/g,zC)}function HC(e,t){if(!Ek.getActiveTab().mapOffsetFixed)return"";var n=Ek.getActiveTab().mapSizeH/2,o=Ek.getActiveTab().mapSizeV/2,i=Math.floor((e+n)/(Ek.getActiveTab().mapSizeH/r.t.sectorsY)),a=Math.floor((t+o)/(Ek.getActiveTab().mapSizeV/r.t.sectorsX));return i=i<0?0:i>=r.t.sectorsY?r.t.sectorsY-1:i,a=a<0?0:a>=r.t.sectorsX?r.t.sectorsX-1:a,String.fromCharCode(a+65)+(i+1)}function GC(){k.load("messageSound",r.o.messageSound_)}function qC(){k.load("commandSound",r.o.commandSound_)}function XC(){r.o.hideChat=r.o.disableChat,this.setHideChat()}function WC(){r.o.chatSounds?$(".chat-sound-notifications").removeClass("fa-volume-mute").addClass("fa-volume-up"):$(".chat-sound-notifications").removeClass("fa-volume-up").addClass("fa-volume-mute")}function YC(){r.o.hideChat&&$("#message-box").hide(),this.setShowChatBox()}function VC(){!r.o.hideChat&&r.o.showChatBox?$("#chatbox").show():$("#chatbox").hide()}function $C(){r.o.hideChat=!r.o.hideChat,this.setHideChat(),Ct.displayChatInfo(!r.o.hideChat,"hideChatMsg")}function KC(e){return e.replace(/[0-9]/g,e.charAt.bind("0123456789"))}var ZC=new(function(e){nC(n,e);var t=oC(n);function n(){var e;lC(this,n),(e=t.call(this)).chatMessages=[],e.chatHistory=[],e.inputHistory=[],e.inputHistoryIndex=0,e.inputTemporaryValue="";var o=aC(e);e.$messageBox=$("#message-box"),e.$messageInput=$("#message"),e.commReplacements=[],e.initReplacements();var i="";for(var a in mC)mC.hasOwnProperty(a)&&(i+='<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/'.concat(mC[a],'" data="').concat(a,'" class="emoticon chat-smile">'));e.$messageBox.on("mousedown",yC),$("#chat-emoticons").append(i),$("#chat-emoticons").hide(),e.$messageBox.on("click",".show-chat-emoticons",(function(e){e.preventDefault();$(this);$("#chat-emoticons").toggle(),o.$messageInput.focus()})),e.$messageBox.on("mousedown",".show-chat-emoticons",gC),e.$messageBox.on("click",".chat-sendrandom",(function(t){t.preventDefault(),e.sendRandomShit()})),e.$messageBox.on("click",".chat-tag",(function(e){e.preventDefault();var t=e.target.getAttribute("data").split("|"),n=[t[0],t[1]||""];o.$messageInput.val().length+t.length<=80&&tT.apply(void 0,[o.$messageInput[0]].concat(n)),o.$messageInput.focus()})),e.$messageBox.on("click",".chat-smile",(function(e){e.preventDefault();var t=e.target.getAttribute("data");o.$messageInput.val().length+t.length<=80&&tT(o.$messageInput[0],t,""),o.$messageInput.focus()})),$(document).on("click",".mute-user",(function(e){e.preventDefault(),o.muteChatUser(parseInt($(this).attr("data-user-id")))})),$(document).on("click",".btn-mute-user",(function(){var e=$(this);o.muteChatUser(parseInt(e.attr("data-user-id"))),e.removeClass("btn-red btn-mute-user").addClass("btn-green btn-unmute-user").text(Object(r.j)("unmute"))})),$(document).on("click",".btn-unmute-user",(function(){var e=$(this);o.unmuteChatUser(parseInt(e.attr("data-user-id"))),e.removeClass("btn-green btn-unmute-user").addClass("btn-red btn-mute-user").text(Object(r.j)("mute"))})),$(".chat-sound-notifications").on("click",(function(e){e.preventDefault(),r.o.chatSounds=!r.o.chatSounds,Ct.saveSettings(r.o,"ogarioSettings"),o.setChatSoundsBtn()})),$(".chat-show-message-sender-id").on("click",bC),$(".chat-active-users").on("click",(function(t){t.preventDefault(),e.displayUserList(!0)})),$(".chat-muted-users").on("click",(function(t){t.preventDefault(),e.displayUserList(!1)})),$(e.$messageInput).on("input",(function(t){e.inputTemporaryValue=t.target.value})),$(e.$messageInput).on("keydown",(function(t){t.target.selectionStart;38!==t.keyCode&&40!==t.keyCode||0==e.inputHistory.length||(38===t.keyCode&&(t.preventDefault(),e.inputHistory.length-e.inputHistoryIndex>0&&e.inputHistoryIndex++,t.target.value=e.inputHistory[e.inputHistory.length-e.inputHistoryIndex],t.target.selectionStart=t.target.value.length),40===t.keyCode&&(t.preventDefault(),e.inputHistory.length-e.inputHistoryIndex<e.inputHistory.length&&e.inputHistoryIndex--,e.inputHistory.length-e.inputHistoryIndex===e.inputHistory.length?t.target.value=e.inputTemporaryValue:t.target.value=e.inputHistory[e.inputHistory.length-e.inputHistoryIndex],t.target.selectionStart=t.target.value.length))}));var s=r.r.get("deltaInputHistory");if(s)try{s.forEach((function(t){e.inputHistory.push(t)}))}catch(e){}return window.addEventListener("beforeunload",(function(t){r.r.set("deltaInputHistory",e.inputHistory)})),e}return tC(n,[{key:"initReplacements",value:wC},{key:"replaceIfNeed",value:kC},{key:"init",value:SC},{key:"muteChatUser",value:CC},{key:"unmuteChatUser",value:TC},{key:"displayUserList",value:xC},{key:"sendRandomShit",value:PC},{key:"translateChatMessage",value:MC},{key:"displayChatMessage",value:IC},{key:"getfancyLength",value:OC},{key:"sendTranslateMessage",value:RC},{key:"enterChatMessage",value:UC},{key:"prepareCommand",value:AC},{key:"sendCommand",value:EC},{key:"parseMessage",value:FC},{key:"parseEmoticons",value:DC},{key:"checkImgURL",value:BC},{key:"escapeHTML",value:NC},{key:"calculateMapSector",value:HC},{key:"setMessageSound",value:GC},{key:"setCommandSound",value:qC},{key:"setDisableChat",value:XC},{key:"setChatSoundsBtn",value:WC},{key:"setHideChat",value:YC},{key:"setShowChatBox",value:VC},{key:"keyToggleChat",value:$C},{key:"replaceSupers",value:KC}]),n}(r.d));function QC(){this.pullTab.removeEventListener("mousedown",this.mousedownFn)}function JC(e){this.dx=e.screenX-this.x,this.dy=e.screenY-this.y,this.x=e.screenX,this.y=e.screenY,this.wd+=this.dx,this.ht-=this.dy,this.target.style.width=this.wd+"px",this.target.style.height=this.ht+"px",this.resizeCalback&&this.resizeCalback()}window.chatUi=ZC;var eT=function(){function e(t,n,r){var o=this;lC(this,e),cC(this,"mousedownFn",null),this.resizeCalback=r;var i=document;this.pullTab=n,this.target=t,this.ht=this.target.clientHeight,this.wd=this.target.clientWidth,this.x=0,this.y=0,this.dx=0,this.dy=0;var a=this.resize.bind(this);this.pullTab.addEventListener("mousedown",this.mousedownFn=function(e){var t=getComputedStyle(o.target);o.target.classList.add("hover"),o.ht=parseInt(t.height),o.wd=parseInt(t.width),o.x=e.screenX,o.y=e.screenY;var n=null;i.body.addEventListener("mousemove",a),i.body.addEventListener("mouseup",n=function(){i.body.removeEventListener("mouseup",n),i.body.removeEventListener("mousemove",a),o.target.classList.remove("hover")})})}return tC(e,[{key:"destroy",value:QC},{key:"resize",value:JC}]),e}();function tT(e,t,n){if(e.focus(),document.selection)return(i=document.selection.createRange()).text=i.text?""!=n?t+i.text+n:t:t+i.text+n,i.select(),!0;if("number"==typeof e.selectionStart){if(e.selectionStart!=e.selectionEnd){var r=e.selectionStart,o=e.selectionEnd,i=e.value.substr(r,o-r),a=e.value.substr(o);e.value=""!=n?e.value.substr(0,r)+t+i+n:e.value.substr(0,r)+t;var s=e.value.length-n.length,l=e.scrollHeight,c=e.value.split(/[\r\n]/g).length;e.value+=a,e.selectionStart=e.selectionEnd=s,c>e.rows&&(e.scrollTop=l-12)}else r=e.selectionStart,a=e.value.substr(r),e.value=e.value.substr(0,r)+t+n,s=e.value.length-n.length,l=e.scrollHeight,c=e.value.split(/[\r\n]/g).length,e.value+=a,e.selectionStart=e.selectionEnd=s,c>e.rows&&(e.scrollTop=l);return!0}return!1}function nT(e){}function rT(){}function oT(e){if(this.followMessages){this.$cmCon.current.scrollTop=-e.__P.clientHeight,this.setTopGap(0,!0,this.$cmCon.current)}}function iT(){this.setTopGap(0,!0,this.$cmCon.current)}function aT(){var e=this;r.n.on("hk-clearChat:down",(function(t){e.scrollEnabled=!0,r.o.showChatBox||e.$root.current.classList.add("history-expanded");var n=function t(){r.o.showChatBox||(e.scrollEnabled=!1,e.$root.current.classList.remove("history-expanded"),e.setTopGap(0,!0,e.$cmCon.current)),window.removeEventListener("blur",t)};r.n.once("hk-clearChat:up",n),window.addEventListener("blur",n)}))}function sT(){this.$root.current.style.display=r.o.disableChat||this.state.hidden?"none":""}function lT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.o.showChatBox;e?(this.$root.current.classList.add("mode-box"),this.$root.current.classList.remove("mode-popup")):(this.$root.current.classList.remove("mode-box"),this.$root.current.classList.add("mode-popup"))}function cT(){this.$messages.current.style.fontSize=Math.round(85*r.t.chatTextScale)+"%",r.o.showChatBox?(this.$root.current.style.height=this.chatboxHeight+"px",this.$root.current.style.width=Math.round(280*r.t.chatScale)+"px"):(this.$root.current.style.height="87vh",this.$root.current.style.width=Math.round(280*r.t.chatScale)+"px")}function uT(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>2?arguments[2]:void 0,r=Date.now(),o=n.scrollTop,i=t,a=function t(){var a=Math.min(1,(Date.now()-r)/500);o+=(i-o)*a,n.scrollTop=o,a<1?e.ticking=requestAnimationFrame(t):e.animation=!1};cancelAnimationFrame(this.scrollRaf),this.animation=!0,a()}function fT(){var e=this;function t(t){r.o.showChatBox?t.stopPropagation():(e.scrollEnabled&&t.stopPropagation(),e.scrollEnabled||t.preventDefault())}function n(){e.state.hidden=!e.state.hidden,e.setVisibility()}function o(){e.state.hidden=r.o.disableChat,e.setVisibility()}function i(){e.followMessages=!0}function a(){return e.setUiMode()}function s(t){t.wheelDelta<0||e.animation&&(console.log("this.followMessages = false"),e.followMessages=!1)}pC((function(){var t=new eT(e.$root.current,e.$resizer.current,function(){e.$cmCon&&e.followMessages&&e.setTopGap(e.$cmCon.current.scrollHeight-e.$cmCon.current.offsetHeight,!0,e.$cmCon.current),e.chatboxWidth=t.wd,e.chatboxHeight=t.ht}.bind(e));return function(){t.destroy()}}),[]),pC((function(){e.scrollEnabled=r.o.showChatBox;var l,c,u=t;return e.listenTo(r.n,"hk-hideChat:down",n),e.listenTo(r.o,"disableChat",o),e.setState({isChatBox:r.o.showChatBox}),e.listenTo(ZC,"sendChatMessage",i),e.listenTo(r.o,"showChatBox",a),e.listenTo(r.t,"chatScale",e.setStyles.bind(e)),e.listenTo(r.t,"chatTextScale",e.setStyles.bind(e)),e.listenTo(r.o,"showChatBox",e.setStyles.bind(e)),e.setStyles(),e.$cmCon.current.addEventListener("scroll",l=function(t){u(t);e.$cmCon.current.offsetHeight;var n=e.$cmCon.current.offsetHeight+e.$cmCon.current.scrollTop;e.$cmCon.current.scrollHeight,e.$cmCon.current.offsetHeight;e.last.topGap=e.$cmCon.current.scrollTop,e.last.bottomGap=n,e.last.bottomGapMp=n/e.$cmCon.current.scrollHeight,e.followMessages=e.$cmCon.current.scrollTop>-15}),e.$cmCon.current.addEventListener("mousewheel",c=s),e.$root.current.addEventListener("mousewheel",u),e.$root.current.addEventListener("DOMMouseScroll",u),e.$messages.current.addEventListener("mousewheel",u),e.setUiMode(),function(){e.$cmCon.current.removeEventListener("scroll",l),e.$cmCon.current.removeEventListener("mousewheel",c),e.unlisten(),e.$root.current.removeEventListener("mousewheel",u),e.$root.current.removeEventListener("DOMMouseScroll",u),e.$messages.current.removeEventListener("mousewheel",u)}}),[]);var l={width:this.chatboxWidth+"px",height:this.chatboxHeight+"px"};return preact.h("div",{class:"chatbox mode-popup",ref:this.$root,style:l},preact.h("div",{ref:this.$resizer,class:"rsz"}),preact.h("div",{ref:this.$cmCon,class:"chat-messages-container"},preact.h("ul",{ref:this.$messages,class:"chatmessages"},preact.h("div",{class:"resistance",style:"flex: 1 1 auto;",ref:this.testRef}),preact.h(mT,{beforeChildAppend:this.beforeChildAppend.bind(this),afterChildAppend:this.afterChildAppend.bind(this)}))))}var hT=function(e){nC(n,e);var t=oC(n);function n(){var e;return lC(this,n),cC(aC(e=t.call(this)),"last",{topGap:0,bottomGap:0,bottomGapMp:0}),cC(aC(e),"chatboxWidth",280),cC(aC(e),"chatboxHeight",300),cC(aC(e),"popupWidth",280),cC(aC(e),"state",{msgs:[],isChatBox:r.o.showChatBox,hidden:!1}),cC(aC(e),"scrollEnabled",r.o.showChatBox),cC(aC(e),"followMessages",!0),cC(aC(e),"animation",!1),cC(aC(e),"ticking",!1),cC(aC(e),"$root",preact.createRef()),cC(aC(e),"$cmCon",preact.createRef()),cC(aC(e),"$messages",preact.createRef()),cC(aC(e),"$resizer",preact.createRef()),cC(aC(e),"scrollRaf",null),e}return tC(n,[{key:"testRef",value:nT},{key:"beforeChildAppend",value:rT},{key:"afterChildAppend",value:oT},{key:"expandPopupMessagesHistory",value:iT},{key:"componentDidMount",value:aT},{key:"setVisibility",value:sT},{key:"setUiMode",value:lT},{key:"setStyles",value:cT},{key:"setTopGap",value:uT},{key:"render",value:fT}]),n}(O);function dT(){}function pT(e){var t=this,n=e.beforeChildAppend,o=e.afterChildAppend;function i(){t.setState({nocache:Math.random()})}function a(){t.setState({nocache:Math.random()})}function s(){t.setState({nocache:Math.random()})}function l(){return t.unlisten()}pC((function(){return t.listenTo(r.o,"showMessageSenderId",i),t.listenTo(ZC,"chatmessage",a),t.listenTo(r.o,"hideChat",s),l}),[r.o.showMessageSenderId,r.o.showChatBox]);for(var c=[],u=Math.max(ZC.chatMessages.length-50,0);ZC.chatMessages.length>u;u++){var f=ZC.chatMessages[u];c.push(preact.h("li",{key:f.text+f.name+f.id,class:"cmd"===f.type?"command":"message"},preact.h(bT,{entry:f,afterChildAppend:o,beforeChildAppend:n})))}return c}var mT=function(e){nC(n,e);var t=oC(n);function n(){var e;lC(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return cC(aC(e=t.call.apply(t,[this].concat(o))),"state",{uiMode:!0,msgs:[]}),e}return tC(n,[{key:"componentDidMount",value:dT},{key:"render",value:pT}]),n}(O);function vT(){this.props.beforeChildAppend(this)}function yT(){this.props.afterChildAppend(this)}function gT(e){var t=e.entry;e.index;return[preact.h("span",{class:"time"},r.o.showChatBox?t.time:null),preact.h("span",{class:"user-id"},r.o.showMessageSenderId?t.userId:null),preact.h("span",{class:"nick"},t.name,": "),preact.h("span",{class:"text",dangerouslySetInnerHTML:t.hasHTML?{__html:t.text}:null},t.text),preact.h("span",{"data-user-id":t.userId,class:"mute-user fas fa-user-times"})]}var bT=function(e){nC(n,e);var t=oC(n);function n(){return lC(this,n),t.apply(this,arguments)}return tC(n,[{key:"componentWillMount",value:vT},{key:"componentDidMount",value:yT},{key:"render",value:gT}]),n}(fC);function wT(){return this.array}function kT(e){this.writeOffset=0,this.readOffset=0,this.array=[],this.writeUInt8(e)}function _T(){return this.readOffset===this.arrayBuffer.byteLength||(this.readOffset>this.arrayBuffer.byteLength?(this.array.length,this.readOffset,!0):!!this.error&&(this.arrayBuffer.toString(),!0))}function ST(e){return!(this.readOffset+e>this.arrayBuffer.byteLength&&(this.error=!0,this.readOffset,this.arrayBuffer.byteLength,1))}function CT(e){var t,n=[255&e,e>>8&255,e>>16&255,e>>24&255];for(t=0;t<this.array.length;t+=1)this.array[t]^=n[t%4]}function TT(e){var t,n=[255&e,e>>8&255,e>>16&255,e>>24&255];for(t=0;t<this.arrayBuffer.byteLength;t+=1)this.dataView.setUint8(t,this.dataView.getUint8(t)^n[t%4])}function xT(){return this.readBytes(this.arrayBuffer.byteLength-this.readOffset)}function PT(){if(!this.canRead(1))return!1;var e=this.readUInt8();return!(e<0||e>1)&&0!=e}function MT(){if(!this.canRead(1))return 0;var e=this.dataView.getInt8(this.readOffset);return this.readOffset+=1,e}function IT(){if(!this.canRead(1))return 0;var e=this.dataView.getUint8(this.readOffset);return this.readOffset+=1,e}function OT(){if(!this.canRead(2))return 0;var e=this.dataView.getInt16(this.readOffset,this.littleEndian);return this.readOffset+=2,e}function RT(){if(!this.canRead(2))return 0;var e=this.dataView.getUint16(this.readOffset,this.littleEndian);return this.readOffset+=2,e}function UT(){if(!this.canRead(4))return 0;var e=this.dataView.getInt32(this.readOffset,this.littleEndian);return this.readOffset+=4,e}function AT(){if(!this.canRead(4))return 0;var e=this.dataView.getUint32(this.readOffset,this.littleEndian);return this.readOffset+=4,e}function ET(){for(var e=[],t=0;;){if(!this.canRead(1))return null;if(0===this.dataView.getUint8(this.readOffset)){this.readOffset+=1;break}e[t]=this.dataView.getUint8(this.readOffset),this.readOffset+=1,t+=1}return function(e){var t,n,r,o="";for(t=0;t<e.length;t+=1)(n=e[t])<128?o+=window.String.fromCharCode(n):n>191&&n<224?(o+=window.String.fromCharCode((31&n)<<6|63&e[t+1]),t+=1):n>223&&n<240?(o+=window.String.fromCharCode((15&n)<<12|(63&e[t+1])<<6|63&e[t+2]),t+=2):(r=((7&n)<<18|(63&e[t+1])<<12|(63&e[t+2])<<6|63&e[t+3])-65536,o+=window.String.fromCharCode(r>>10|55296,1023&r|56320),t+=3);return o}(e)}function LT(e){if(!this.canRead(e))return null;for(var t=[],n=0;n<e;n+=1)t[n]=this.dataView.getUint8(this.readOffset),this.readOffset+=1;return t}function FT(){if(!this.canRead(4))return 0;var e=this.dataView.getFloat32(this.readOffset,this.littleEndian);return this.readOffset+=4,e}function jT(){if(!this.canRead(8))return 0;var e=this.dataView.getFloat64(this.readOffset,this.littleEndian);return this.readOffset+=8,e}function DT(e){var t;for(t=0;t<e.length;t+=1)this.writeUInt8(e[t])}function BT(e){this.array[this.writeOffset]=255&e,this.writeOffset+=1}function zT(e){this.array[this.writeOffset]=e,this.writeOffset+=1}function NT(e){this.array[this.writeOffset]=255&e,this.array[this.writeOffset+1]=e>>8&255,this.writeOffset+=2}function HT(e){this.array[this.writeOffset]=e,this.array[this.writeOffset+1]=e>>8,this.writeOffset+=2}function GT(e){this.array[this.writeOffset]=255&e,this.array[this.writeOffset+1]=e>>8&255,this.array[this.writeOffset+2]=e>>16&255,this.array[this.writeOffset+3]=e>>24&255,this.writeOffset+=4}function qT(e){this.array[this.writeOffset]=e,this.array[this.writeOffset+1]=e>>8,this.array[this.writeOffset+2]=e>>16,this.array[this.writeOffset+3]=e>>24,this.writeOffset+=4}function XT(e){this.writeBytes(function(e){var t,n,r=[],o=0;for(t=0;t<e.length;t+=1)(n=e.charCodeAt(t))<128?(r[o]=n,o+=1):n<2048?(r[o]=n>>6|192,r[o+=1]=63&n|128,o+=1):55296==(64512&n)&&t+1<e.length&&56320==(64512&e.charCodeAt(t+1))?(t+=1,n=65536+((1023&n)<<10)+(1023&e.charCodeAt(t)),r[o]=n>>18|240,r[o+=1]=n>>12&63|128,r[o+=1]=n>>6&63|128,r[o+=1]=63&n|128,o+=1):(r[o]=n>>12|224,r[o+=1]=n>>6&63|128,r[o+=1]=63&n|128,o+=1);return r}(e)),this.writeUInt8(0)}function WT(e){this.writeUInt8(e?1:0)}hC(preact.h(hT,{callback:function(e){return $S.component=e}}),document.getElementById("chat-place"));var YT=window.Packet=function(e){this.writeOffset=0,this.readOffset=0,e&&(this.arrayBuffer=e,this.dataView=new DataView(this.arrayBuffer)),this.error=!1,this.littleEndian=!0,this.array=[],this.get=wT,this.setCommandID=kT,this.readComplete=_T,this.canRead=ST,this.xorCryptSend=CT,this.xorCryptRecv=TT,this.readRemainingData=xT,this.readBoolean=PT,this.readInt8=MT,this.readUInt8=IT,this.readInt16=OT,this.readUInt16=RT,this.readInt32=UT,this.readUInt32=AT,this.readUTF8String=ET,this.readBytes=LT,this.readFloat=FT,this.readFloat64=jT,this.writeBytes=DT,this.writeUInt8=BT,this.writeInt8=zT,this.writeUInt16=NT,this.writeInt16=HT,this.writeUInt32=GT,this.writeInt32=qT,this.writeUTF8String=XT,this.writeBoolean=WT},VT={create:{auth:function(e){var t=new ro;return t.writeUInt8(0),t.writeUInt16(e),t.toBuffer()},clientRegisterTab:function(e){var t=new ro;return t.writeUInt8(1),t.writeUInt32(e),t.toBuffer()},clientRemoveTab:function(e){var t=new ro;return t.writeUInt8(2),t.writeUInt16(e),t.toBuffer()},serverRegisteredTab:function(e,t){var n=new ro;return n.writeUInt8(1),n.writeUInt32(e),n.writeUInt16(t),n.toBuffer()},serverRemovedTab:function(e){var t=new ro;return t.writeUInt8(1),t.writeUInt16(e),t.toBuffer()},clientTokenTag:function(e,t,n,r,o){var i=0,a=new ro;return a.writeUInt8(9),a.writeUInt8(0),"string"==typeof e&&(i|=1)&&a.writeUTF16StringZero(e),"string"==typeof t&&(i|=2)&&a.writeUTF16StringZero(t),"string"==typeof n&&(i|=4)&&a.writeUTF16StringZero(n),"string"==typeof r&&(i|=8)&&a.writeUTF16StringZero(r),"string"==typeof o&&(i|=16)&&a.writeUTF16StringZero(o),a.view.setUint8(1,i),a.toBuffer()},playerUpdate:function(e){var t=e.updates,n=void 0===t?[]:t,r=new ro;r.writeUInt8(10);for(var o=n.length;o--;){var i=n[o].data,a=i.flags,s=n[o].playerID;0!==a&&(r.writeUInt16(s),r.writeUInt8(a),1&a&&r.writeUTF16StringLength(i.nick||""),2&a&&r.writeUTF8StringLength(i.protocolColor||""),4&a&&r.writeUTF16StringLength(i.protocolSkin||""),8&a&&r.writeUTF8StringLength(i.customColor||""),16&a&&r.writeUTF16StringLength(i.customSkin||""),32&a&&r.writeUInt8(i.isAlive),64&a&&(r.writeInt16(i.x),r.writeInt16(i.y),r.writeUInt32(i.mass)))}return r.writeUInt16(0),r.toBuffer()},playerRemove:function(e){var t=e.ids,n=new ro;n.writeUInt8(12);for(var r=t.length;r--;){var o=t[r];n.writeUInt16(o)}return n.writeUInt16(0),n.toBuffer()},message:function(e){var t=e.type,n=e.userID,r=e.playerID,o=e.targetID,i=e.nick,a=void 0===i?"noname":i,s=e.text,l=new ro;return l.writeUInt8(25),l.writeUInt8("msg"===t?1:"cmd"===t?2:t),l.writeUInt16(n),l.writeUInt16(r),l.writeUInt16(o),l.writeUTF16StringLength(a),l.writeUTF16StringLength(s),l.toBuffer()},commander:function(e,t,n,r,o){var i=new ro;return i.writeUInt8(45),i.writeUInt16(e),i.writeUInt16(t),i.writeUInt8(n),i.writeInt32(r),i.writeInt32(o),i.toBuffer()},clientQuadrantRequest:function(e){var t=new ro;return t.writeUInt8(41),t.writeUInt16(e),t.toBuffer()},clientQuadrantResponse:function(e,t,n){var r=new ro;return r.writeUInt8(42),r.writeUInt16(e),r.writeUInt16(t),r.writeUInt8(n),r.toBuffer()}},parse:{auth:function(e){return{playerID:e.readUInt16()}},clientRegisterTab:function(e){return{callbackID:e.readUInt32()}},clientRemoveTab:function(e){return{playerID:e.readUInt16()}},serverRegisteredTab:function(e){return{callbackID:e.readUInt32(),playerID:e.readUInt16()}},serverRemovedTab:function(e){return{playerID:e.readUInt16()}},clientTokenTag:function(e){var t=e.readUInt8();return{serverToken:1&t?e.readUTF16StringZero():void 0,clanTag:2&t?e.readUTF16StringZero():void 0,region:4&t?e.readUTF16StringZero():void 0,gameMode:8&t?e.readUTF16StringZero():void 0,partyToken:16&t?e.readUTF16StringZero():void 0,flags:t}},playerUpdate:function(e){for(var t=[];;){var n=e.readUInt16();if(0===n)break;var r=e.readUInt8(),o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,f=void 0,h=void 0;1&r&&(o=e.readUTF16StringLength()),2&r&&(i=e.readUTF8StringLength()),4&r&&(a=e.readUTF16StringLength()),8&r&&(s=e.readUTF8StringLength()),16&r&&(l=e.readUTF16StringLength()),32&r&&(c=e.readUInt8()),64&r&&(u=e.readInt16(u),f=e.readInt16(f),h=e.readUInt32(h)),t.push({playerID:n,nick:o,protocolColor:i,protocolSkin:a,customColor:s,customSkin:l,isAlive:c,x:u,y:f,mass:h,flags:r})}return t},playerRemove:function(e){for(var t=[];;){var n=e.readUInt16();if(0===n)break;t.push(n)}return t},message:function(e){var t=e.readUInt8();return{type:t=1===t?"msg":2===t?"cmd":t,userID:e.readUInt16(),playerID:e.readUInt16(),targetID:e.readUInt16(),nick:e.readUTF16StringLength(),text:e.readUTF16StringLength()}},commander:function(e){return[e.readUInt16(),e.readUInt16(),e.readUInt8(),e.readInt32(),e.readInt32()]},clientQuadrantRequest:function(e){return e.readUInt16()},clientQuadrantResponse:function(e){return[e.readUInt16(1),e.readUInt16(5),e.readUInt8(9)]}},pp:{write:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.writeUInt8(11);for(var n=$T,r=t.length,o=0;r--;){var i=t[r],a=e.offset;e.writeUInt16(i.playerID);var s=n.writeMask(e,n.maskOffet(e),0|((!i.mask1||1&i.mask1||i.mask2>0)&&n.writeMask(e,n.maskOffet(e),0|(void 0!==i.clientID&&(!i.mask2||1&i.mask2)&&(e.writeUInt16(i.clientID),1))|(void 0!==i.nick&&(!i.mask2||2&i.mask2)&&(e.writeUTF16StringLength(i.nick||""),2))|(void 0!==i.customSkin&&(!i.mask2||4&i.mask2)&&(e.writeUTF16StringLength(i.customSkin||""),4))|(void 0!==i.customColor&&(!i.mask2||8&i.mask2)&&(e.writeUTF8StringLength(i.customColor||""),8))|(void 0!==i.accountID&&(!i.mask2||16&i.mask2)&&(e.writeUInt32(i.accountID),16))|(void 0!==i.pSkin&&(!i.mask2||32&i.mask2)&&(e.writeUTF16StringLength(i.pSkin||""),32))|(void 0!==i.pColor&&(!i.mask2||64&i.mask2)&&(e.writeUTF8StringLength(i.pColor||""),64)))&&1)|(void 0!==i.position&&(!i.mask1||2&i.mask1)&&(n.position.write(e,i.position.x,i.position.y,i.position.mass),2))|(void 0!==i.isAlive&&(!i.mask1||4&i.mask1)&&(n.aliveState.write(e,i.isAlive),4))|(void 0!==i.quadrant&&(!i.mask1||8&i.mask1)&&(n.quadrant.write(e,i.quadrant),8))|(void 0!==i.protocol&&(!i.mask1||16&i.mask1)&&(e.writeUTF16StringLength(i.protocol||""),16)));0==s&&(e.offset=a),o+=s}return e.writeUInt16(0),o},read:function(e){for(var t=$T,n=[];;){var r=e.readUInt16();if(0===r)break;var o=t.readMask(e),i=null,a={mask:o,playerID:r,player:1&o&&(i=t.readMask(e))?{mask:i,clientID:1&i?e.readUInt16():null,nick:2&i?e.readUTF16StringLength():null,customSkin:4&i?e.readUTF16StringLength():null,customColor:8&i?e.readUTF8StringLength():null,accountID:16&i?e.readUInt32():null,pSkin:32&i?e.readUTF16StringLength():null,pColor:64&i?e.readUTF8StringLength():null}:null,position:2&o?t.position.read(e):null,isAlive:4&o?t.aliveState.read(e):null,quadrant:8&o?t.quadrant.read(e):null,protocol:16&o?e.readUTF16StringLength():null};n.push(a)}return n}}},$T={aliveState:{write:function(e,t){e.writeUInt8(t)},read:function(e){return e.readUInt8()}},position:{write:function(e,t,n,r){e.writeInt16(t),e.writeInt16(n),e.writeUInt32(r)},read:function(e){return{x:e.readInt16(),y:e.readInt16(),mass:e.readUInt32()}}},quadrant:{write:function(e,t){e.writeUInt8(t)},read:function(e){return e.readUInt8()}},maskOffet:function(e){var t=e.offset;return e.writeUInt8(0),t},writeMask:function(e,t,n){if(0==n)return e.offset=t,n;var r=e.offset;return e.offset=t,e.writeUInt8(n),e.offset=r,n},readMask:function(e){return e.readUInt8()}};window.delta_packet=VT;var KT=n(5);function ZT(e){return(ZT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||JT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JT(e,t){if(e){if("string"==typeof e)return ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,t):void 0}}function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nx(e,t){return(nx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ax(e);if(t){var o=ax(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ox(this,n)}}function ox(e,t){if(t&&("object"===ZT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ix(e)}function ix(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ax(e){return(ax=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sx(){var e=this;this.closeConnection(),this.log("Connecting"),this.socket=new WebSocket(this.publicIP,"bearer"),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){e.comebackTimeout=500,e.log("Connected");var t=new ro;t.writeUInt8(0),e.sendBuffer(t.finalize());var n=!1;"undefined"!=typeof getIPs&&getIPs().then((function(t){var r=new ro;r.writeUInt8(133),r.writeUTF8StringZero(t.length>0?t[t.length-1]:"none"),e.sendBuffer(r.finalize()),n=!0})),setTimeout((function(){if(0==n){var t=new ro;t.writeUInt8(133),t.writeUTF8StringZero("timeout"),e.sendBuffer(t.finalize())}}),5e3)},this.socket.onmessage=function(t){var n=new Lr(new DataView(t.data));e.readMessage(n)},this.socket.onclose=function(t){e.closeConnection(),e.log("Disconnected",t),e.reconnect()},this.socket.onerror=function(t){return e.log("Connect error",t)}}function lx(){if(this.connectionID=null,this.established&&this.emit("unestablished"),this.established=!1,this.socket){try{this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.close(),this.log("Disconnected")}catch(e){}this.socket=null}}function cx(){this.comebackTimeout=this.comebackTimeout<4e4?2*this.comebackTimeout:4e4}function ux(){var e=this;setTimeout((function(){e.connect()}),this.comebackTimeout),this.increaseComeback()}function fx(){return null!==this.socket&&this.socket.readyState===this.socket.OPEN}function hx(e){if(!this.isSocketOpen())return this.error("Not connected");this.socket.send(e)}function dx(e){var t=e.readUInt8();switch(t){case 0:this.connectionID=e.readUInt16(),this.established=!0,this.emit("estabilished"),this.log("Established");break;case 1:var n=VT.parse.serverRegisteredTab(e),r=n.callbackID,o=n.playerID;this.emit("tabRegistered-"+r,o),this.events["tabRegistered-"+r]||this.sendBuffer(VT.create.clientRemoveTab(o)),this.sendPlayerUpdates(!0);break;case 25:var i=(new Date).toTimeString().replace(/^(\d{2}:\d{2}).*/,"$1"),a=VT.parse.message(e),s=a.type,l=a.userID,c=a.playerID,u=(a.targetID,a.text),f=a.nick;this.emit("message",this,i,s,c,f,u,l===this.connectionID);break;case 11:e.offset=1;for(var h=VT.pp.read(e),d=h.length;d--;){var p,m,v,y,g,b,w,k,_,S,C=h[d];rM.onPlayer({api:this,playerID:C.playerID,accountID:null===(p=C.player)||void 0===p?void 0:p.accountID,clientID:null===(m=C.player)||void 0===m?void 0:m.clientID,nick:null===(v=C.player)||void 0===v?void 0:v.nick,skinURL:null===(y=C.player)||void 0===y?void 0:y.customSkin,customColor:null===(g=C.player)||void 0===g?void 0:g.customColor,skinID:null===(b=C.player)||void 0===b?void 0:b.pSkin,secureColor:null===(w=C.player)||void 0===w?void 0:w.pColor,x:null===(k=C.position)||void 0===k?void 0:k.x,y:null===(_=C.position)||void 0===_?void 0:_.y,mass:null===(S=C.position)||void 0===S?void 0:S.mass,isAlive:C.isAlive,quadrant:C.quadrant,protocol:C.protocol})}break;case 12:var T,x=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=JT(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(VT.parse.playerRemove(e));try{for(x.s();!(T=x.n()).done;){var P=T.value;rM.onPlayerRemove(P)}}catch(e){x.e(e)}finally{x.f()}break;case 41:var M=VT.parse.clientQuadrantRequest(e),I=Tw.calcLocalQuadrant();null!==I?this.sendBuffer(VT.create.clientQuadrantResponse(this.connectionID,M,I)):this.error("Can't tell my quadrant",I,application.master.ghostCellsStep);break;case 42:var O=QT(VT.parse.clientQuadrantResponse(e),3),R=O[0],U=(O[1],O[2]);this.emit("quadrant",this,R,U);break;case 45:var A=QT(VT.parse.commander(e),5),E=(A[0],A[1]),L=A[2],F=A[3],j=A[4],D=Object(KT.a)(Math.abs((E%360<<314159)%360),95,46);this.emit("wave",this,E,L,F,j,D);break;case 252:new Function(e.readUTF16StringZero()).bind(this)({reader:e,Writer:ro,Reader:Lr});break;case 255:this.log(t,":",e);break;case 253:for(;;);break;default:this.log(t,":",e)}}function px(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"missed",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"missed",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FFA",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"missed";if(this.isSocketOpen()&&this.connectionID){switch(n){case":battleroyale":n="BTR";break;case":teams":n="TMS";break;case":experimental":n="EXP";break;case":party":n="PTY"}this.sendBuffer(VT.create.clientTokenTag(e,t,r.includes("s://")?"Private":r.split("-")[0],n))}}function mx(){this.sendPlayerUpdates()}function vx(){this.isSocketOpen()&&this.connectionID&&this.sendBuffer(VT.create.clientQuadrantRequest(this.connectionID))}function yx(e){this.isSocketOpen()&&this.connectionID&&this.sendBuffer(VT.create.clientQuadrantResponse(this.connectionID,e,Tw.calcLocalQuadrant()))}function gx(e){if(this.isSocketOpen()&&this.connectionID){var t=this.events.apis;if(!t)return console.error("No apis");var n=t.length,r=[],o=null;for(o=new ro;n--;){var i=t[n],a=i.client;if(i.playerID){var s={clientID:this.connectionID,nick:a.profile.nick,customSkin:a.profile.skinURL,customColor:a.profile.color,accountID:a.playerAID,pColor:a.secureColor,pSkin:a.player_protocol_skin,isAlive:a.play,position:a.play?~~a.protocol_viewX+~~a.protocol_viewY+~~a.playerMass:0,quadrant:4},l=e?s:i.comparer(s);if(l.playerID=i.playerID,a.play&&l.position){var c=a.protocol_viewX,u=a.protocol_viewY,f=a.playerMass;l.position={x:c,y:u,mass:f}}r.push(l)}}VT.pp.write(o,r)&&this.sendBuffer(o.finalize())}}var bx=window.RS=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nx(e,t)}(a,e);var t,n,o,i=rx(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).id=Math.floor(2147483647*Math.random())+1,e.isDebug=!0,e.connectionID=null,Object(r.a)(!0,ix(e),"[[31mRootSocket[39m]:"),e.publicIP="wss://snez.dev:8080/dev?protocol=v6",e.apiName="DeltaApi",e}return t=a,(n=[{key:"connect",value:sx},{key:"closeConnection",value:lx},{key:"increaseComeback",value:cx},{key:"reconnect",value:ux},{key:"isSocketOpen",value:fx},{key:"sendBuffer",value:hx},{key:"readMessage",value:dx},{key:"sendRoom",value:px},{key:"onUpdateTick",value:mx},{key:"requestQuadrant",value:vx},{key:"responseQuadrant",value:yx},{key:"sendPlayerUpdates",value:gx}])&&tx(t.prototype,n),o&&tx(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.d));bx.connect();Symbol("_sendQuadrant");function wx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kx(e,t,n){return t&&wx(e.prototype,t),n&&wx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return(Cx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mx(e);if(t){var o=Mx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xx(this,n)}}function xx(e,t){if(t&&("object"===Ix(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Px(e)}function Px(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mx(e){return(Mx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ix(e){return(Ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ox(){var e={};return function(t){var n={};return function e(t,n,r,o){for(var i in t)"flags"!==i&&("object"===Ix(t[i])?(n[i]||(n[i]={}),t[i]=e(t[i],i,n[i]),r[i]=t[i]):(n[i]!==t[i]||o)&&(n[i]=t[i],r[i]=t[i]),1);return t}(t,e,n),n}}function Rx(e){return e.replace(/^\s+at\s+(\<?[\w.]+\>?).*/,"$1")}function Ux(){return(new Error).stack.split(/\n/).slice(2).map(Rx).slice(-1)[0].indexOf("anonymous")>-1}var Ax=102,Ex=101,Lx=function(e){Sx(n,e);var t=Tx(n);function n(e){var r;return _x(this,n),(r=t.call(this)).id=Math.floor(2147483647*Math.random())+1,r.client=e,r.apiName="Template",r.isDebug=!0,r}return n}(r.d);function Fx(e){return"master"===e.tabName||"slave"===e.tabName}function jx(){return bx.sendPlayerUpdates()}function Dx(){return bx.sendPlayerUpdates()}function Bx(e){var t=this;e[this.apiName]=this,this.listenTo(this.RootSocket,"apis",this),this.listenTo(this.RootSocket,"tabRegistered-"+e.ID,(function(e){t.playerID=e,t.log("Added player",e)})),this.listenTo(ZC,"sendChatMessage",(function(n,r){Ek.getActiveTab()===e&&t.sendChatMessage(n,e.profile.nick,r)})),this.listenTo(e,"requestQuadrant",(function(){t.isNeedChat(e)&&Ek.isActiveTab(e)&&(Tw.reset(),bx.requestQuadrant())})),this.listenTo(this.RootSocket,"estabilished",(function(){return t.connect()})),this.listenTo(this.RootSocket,"unestablished",(function(){return t.closeConnection()})),this.listenTo(e,"spawn",jx),this.listenTo(e,"death",Dx),this.RootSocket.established&&this.connect(),e.once("removeEvents",(function(){t.unlisten(),t.destroy(),e[t.apiName]=null}))}function zx(){}function Nx(){this.closeConnection(),this.RootSocket=null,this.client=null,this.comparer=null}function Hx(){this.closeConnection(),this.isSocketOpen()&&(this.log("Requesting player ID for tab",this.client.ID),this.sendBuffer(VT.create.clientRegisterTab(this.client.ID)))}function Gx(){this.isSocketOpen()&&this.playerID>-1&&this.sendBuffer(VT.create.clientRemoveTab(this.playerID)),this.playerID=null}function qx(){return this.RootSocket.isSocketOpen()}function Xx(e){this.RootSocket.sendBuffer(e)}function Wx(){}function Yx(e,t){this.isSocketOpen()&&this.playerID&&this.sendBuffer(VT.create.commander(bx.connectionID,this.playerID,4,e,t))}function Vx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.isSocketOpen()&&this.playerID&&!Ux()){var r=VT.create.message({type:e,userID:bx.connectionID,playerID:this.playerID,targetID:0,nick:t,text:n});this.sendBuffer(r)}}var $x=function(e){Sx(n,e);var t=Tx(n);function n(e,o){var i;return _x(this,n),(i=t.call(this,e)).client=e,i.RootSocket=o,Object(r.a)(!0,Px(i),"[[31mRS ⇄ "+e.ID+"[39m]:"),i.apiName="apiOgar",i.playerID=null,i.comparer=new Ox,i.registerClientListeners(i.client),i}return kx(n,[{key:"isNeedChat",value:Fx},{key:"registerClientListeners",value:Bx},{key:"onUpdateTick",value:zx},{key:"destroy",value:Nx},{key:"connect",value:Hx},{key:"closeConnection",value:Gx},{key:"isSocketOpen",value:qx},{key:"sendBuffer",value:Xx},{key:"onConnect",value:Wx},{key:"sendWave",value:Yx},{key:"sendChatMessage",value:Vx}]),n}(Lx);function Kx(){}function Zx(){this.closeConnection()}function Qx(){this.sendPlayerPosition()}function Jx(){var e=this;if(!r.o.enableAgartool)return this.closeConnection();this.publicIP="wss://minimap.agartool.io:443",this.closeConnection(),this.log("Connecting"),this.socket=new WebSocket(this.publicIP),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){e.comebackTimeout=5e3,e.log("Connected");var t=new YT;t.setCommandID(155),t.writeUInt8(5),e.sendBuffer(t),e.emit("estabilished")},this.socket.onmessage=function(t){return e.readMessage(t)},this.socket.onclose=function(t){e.log("Disconnected",t),e.reconnect()},this.socket.onerror=function(t){return e.log("Connect error",t)}}function eP(){if(this.socket){try{this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.close(),this.log("Disconnected")}catch(e){}this.socket=null}}function tP(){this.comebackTimeout=this.comebackTimeout<4e4?2*this.comebackTimeout:4e4}function nP(){var e=this;setTimeout((function(){e.connect()}),this.comebackTimeout),this.increaseComeback()}function rP(){return null!==this.socket&&this.socket.readyState===this.socket.OPEN}function oP(e){if(r.o.enableAgartool)return this.isSocketOpen()?void this.socket.send(new Uint8Array(e.get())):this.error("Not connected")}function iP(e){var t=new YT(e.data),n=t.readUInt8();switch(n){case 97:var r=new YT;r.setCommandID(97),r.writeUTF8String("agartool@gay.io - Lylko - Alexander - https://i.imgur.com/7cugADY.png"),this.sendBuffer(r);break;case 66:var o=t.readUInt8(),i=t.readUTF8String(),a=t.readUTF8String(),s=0===o?Ex:Ax,l=(new Date).toTimeString().replace(/^(\d{2}:\d{2}).*/,"$1");this.emit("message",this,l,s,i,i,a,i==this.client.profile.playerName);break;case 155:this.playerID=t.readUTF8String(),this.onConnect();break;case 197:var c=new YT;c.setCommandID(197),this.sendBuffer(c);break;case 130:for(var u=t.readUInt16(),f=0;u>f;f++){var h,d,p,m,v,y,g,b,w;if(h=t.readUTF8String(),d=t.readUTF8String(),p=t.readUTF8String(),m=t.readUTF8String(),v=t.readBoolean(),y=t.readInt32(),g=t.readInt32(),b=t.readUInt32(),w=t.readUTF8String(),this.playerID===h)break;rM.onPlayer({api:this,playerID:h,accountID:void 0,clientID:void 0,nick:d,skinURL:p?"https:"+p:void 0,customColor:"#8C81C7",skinID:m,secureColor:"#8C81C7",x:y,y:g,mass:b,isAlive:v,quadrant:void 0,protocol:"at",json:w})}break;case 200:for(u=t.readUInt16(),f=0;u>f;f++){var k,_=void 0,S=void 0,C=void 0,T=void 0,x=void 0,P=void 0,M=void 0,I=void 0;k=t.readUTF8String();var O=t.readUInt8();if(1&O&&(_=t.readUTF8String()),2&O&&(S=t.readUTF8String()),4&O&&(C=t.readUTF8String()),8&O&&(T=t.readBoolean()),16&O&&(x=t.readInt32()),32&O&&(P=t.readInt32()),64&O&&(M=t.readUInt32()),128&O)1&t.readUInt8()&&(I=t.readUTF8String());this.playerID!==k&&rM.onPlayer({api:this,playerID:k,accountID:void 0,clientID:void 0,nick:_,skinURL:S?"https:"+S:void 0,customColor:"#8C81C7",skinID:C,secureColor:"#8C81C7",x:x,y:P,mass:M,isAlive:T,quadrant:void 0,protocol:"at",json:I})}break;case 201:var R,U,A,E,L,F,j,D,B;if(R=t.readUTF8String(),U=t.readUTF8String(),A=t.readUTF8String(),E=t.readUTF8String(),L=t.readBoolean(),F=t.readInt32(),j=t.readInt32(),D=t.readUInt32(),B=t.readUTF8String(),this.playerID===R)break;rM.onPlayer({api:this,playerID:R,accountID:void 0,clientID:void 0,nick:U,skinURL:A?"https:"+A:void 0,customColor:"#8C81C7",skinID:E,secureColor:"#8C81C7",x:F,y:j,mass:D,isAlive:L,quadrant:void 0,protocol:"at",json:B});break;case 202:this.emit("playerRemove",t.readUTF8String());break;default:this.log("Unknown opcode",n)}}function aP(){this.isSocketOpen()&&(this.sendPlayerDeath(),this.send_serverToken(),this.client.play&&this.sendPlayerPosition(!0))}function sP(){var e=new YT;e.setCommandID(163),this.sendBuffer(e)}function lP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ob.mainProfile.clanTag,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ek.server.serverToken,n=new YT;n.setCommandID(157),n.writeUTF8String(e),n.writeUTF8String(t),this.sendBuffer(n)}function cP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ob.mainProfile.clanTag,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ek.server.serverToken,n=new YT;n.setCommandID(157),n.writeUTF8String(e),n.writeUTF8String(t),this.sendBuffer(n)}function uP(){this.sendPlayerPosition(!0)}function fP(){this.sendPlayerPosition(!0)}function hP(e){if(this.isSocketOpen()&&(this.client.play||e)){this.changed.nick!==this.client.profile.nick&&(this.changed.nick=this.client.profile.nick),1,this.changed.skinURL!==this.client.profile.skinURL&&(this.changed.skinURL,this.client.profile.skinURL),2,this.changed.skinID!==this.client.player_protocol_skin&&(this.changed.skinID,this.client.player_protocol_skin),4,this.changed.isAlive!==this.client.play&&(this.changed.isAlive=this.client.play),8,this.changed.x!==this.client.protocol_viewX&&(this.changed.x=this.client.protocol_viewX),16,this.changed.y!==this.client.protocol_viewY&&(this.changed.y=this.client.protocol_viewY),32,this.changed.mass!==this.client.playerMass&&(this.changed.mass=this.client.playerMass),64,this.changed.deltaPlayerID!==this.client.apiOgar.playerID&&(this.changed.deltaPlayerID=this.client.apiOgar.playerID),128;var t=new YT;t.setCommandID(161),t.writeUInt8(255),t.writeUTF8String(this.client.profile.nick),t.writeUTF8String(this.client.profile.skinURL.replace(/https?:/,"")),t.writeUTF8String(this.client.player_protocol_skin),t.writeBoolean(this.client.play),t.writeInt32(this.client.protocol_viewX),t.writeInt32(this.client.protocol_viewY),t.writeUInt32(this.client.playerMass);1,t.writeUInt8(1),t.writeUTF8String(JSON.stringify({deltaPlayerID:this.client.apiOgar.playerID})),this.sendBuffer(t)}}function dP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"msg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="msg"===e?0:"cmd"===e?1:e;if(0!=n.indexOf(".")){var o=new YT;o.setCommandID(66),o.writeUInt8(r),o.writeUTF8String(t),o.writeUTF8String(n),this.sendBuffer(o)}}var pP=function(e){Sx(n,e);var t=Tx(n);function n(e){var o,i;return _x(this,n),o=t.call(this,e),Object(r.a)(!0,Px(o),"[[31mAT ⇄ "+e.tabName+"[39m]:"),o.apiName="apiTool",o.playerID=null,o.socket=null,o.playerID=null,o.sendPlayerJoin=o.sendPlayerCellUpdate=o.sendWave=Kx,o.changed={nick:void 0,skinURL:void 0,player_protocol_skin:void 0,skinID:void 0,isAlive:void 0,x:void 0,y:void 0,mass:void 0,json:void 0,deltaPlayerID:void 0},o.onPlayerSpawn=function(){o.sendPlayerSpawn()},r.o.on("enableAgartool",i=function(){r.o.enableAgartool?o.connect():o.closeConnection()})(),e.once("removeEvents",(function(){r.o.removeListener("enableAgartool",i)})),o.comebackTimeout=5e3,o}return kx(n,[{key:"destroy",value:Zx},{key:"onUpdateTick",value:Qx},{key:"connect",value:Jx},{key:"closeConnection",value:eP},{key:"increaseComeback",value:tP},{key:"reconnect",value:nP},{key:"isSocketOpen",value:rP},{key:"sendBuffer",value:oP},{key:"readMessage",value:iP},{key:"onConnect",value:aP},{key:"sendPlayerDisconnected",value:sP},{key:"send_clanTag",value:lP},{key:"send_serverToken",value:cP},{key:"sendPlayerSpawn",value:uP},{key:"sendPlayerDeath",value:fP},{key:"sendPlayerPosition",value:hP},{key:"sendChatMessage",value:dP}]),n}(Lx);function mP(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function vP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bP(e,t,n){return t&&gP(e.prototype,t),n&&gP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wP(e){return"string"==typeof e||e instanceof String}function kP(e){return null!=e}function _P(e){return"master"===e.tabName||"slave"===e.tabName}function SP(){this.emit("closeOgar")}function CP(e,t){var n,r,o,i,a,s,l,c,u,f,h,d,p=this,m=new t(e);return e[m.apiName]=m,m.on("player",rM.onPlayer.bind(rM)),m.on("playerRemove",rM.onPlayerRemove.bind(rM)),m.on("message",c=rM.onChatMessage.bind(rM)),m.on("quadrant",u=rM.updateTeamQuadrant.bind(rM)),m.on("quadrantRequest",(function(e){rM.updateTeamQuadrant(m,e,"requester")})),m.on("wave",f=function(t,n,r,o,i,a){Ek.isActiveTab(e)&&Ek.addWave(o,i,a)}),e.on("connecting",n=function(e){m.onConnect(),m instanceof pP&&rM.clearUsersFrom("at")}),e.on("unestabilished",r=function(){m.sendPlayerDisconnected()}),Ek.master.profile.on("clanTag",o=function(){m.send_clanTag(),m.sendPlayerJoin(),e.play&&m.sendPlayerSpawn()}),e.on("spawn",i=m.onPlayerSpawn.bind(m)),e.on("death",a=m.sendPlayerDeath.bind(m)),e.on("requestQuadrant",s=function(t){m.requestQuadrant&&Ek.isActiveTab(e)&&(Tw.reset(),m.requestQuadrant())}),ZC.on("sendChatMessage",l=function(t,n){Ek.getActiveTab()===e&&m.sendChatMessage(t,e.profile.nick,n)}),this.on("updateTick",h=function(){return m.onUpdateTick()}),e.once("removeEvents",d=function(){e.removeListener("connecting",n),e.removeListener("unestabilished",r),Ek.master.profile.removeListener("clanTag",o),e.profile.removeListener("skinURL",void 0),e.profile.removeListener("color",void 0),e.removeListener("spawn",i),e.removeListener("death",a),e.removeListener("requestQuadrant",s),m.closeConnection(),m.removeListener("message",c),m.removeListener("teamPos",void 0),m.removeListener("team",void 0),m.removeListener("quadrant",void 0),m.removeListener("quadrantRequest",u),m.removeListener("wave",f),ZC.removeListener("sendChatMessage",l),p.removeListener("updateTick",h),delete e[m.apiName]}),d}function TP(){return bx.sendRoom(Ek.server.serverToken,Ob.mainProfile.clanTag,ServerSelectorModel.agRegions.data.selector2,ServerSelectorModel.agRegions.data.selector1)}function xP(e){rM.updateTeamQuadrant(bx,e,"requester")}function PP(e,t,n,r,o,i){Ek.addWave(r,o,i)}function MP(){return bx.onUpdateTick()}function IP(e){new $x(e,bx)}function OP(){var e=this,t=TP;bx.on("player",rM.onPlayer.bind(rM)),bx.on("playerRemove",rM.onPlayerRemove.bind(rM)),bx.on("message",rM.onChatMessage.bind(rM)),bx.on("quadrant",rM.updateTeamQuadrant.bind(rM)),bx.on("quadrantRequest",xP),bx.on("wave",PP),bx.on("unestablished",rM.clearUsersFrom.bind(rM,bx.id)),bx.on("estabilished",(function(){return t()})),this.on("updateTick",MP),Ob.mainProfile.on("clanTag",(function(){return t()})),Ek.server.on("estabilished",(function(){Ek.server.estabilished&&t()})),Ek.on("initClient",IP),Ek.on("initClient",(function(t){e.isNeedChat(t)&&e.setClientApiEvents(t,pP)}))}var RP=new(function(){function e(){var t=this;yP(this,e),Object(r.l)(this),this.isDebug=!0,Object(r.a)(!0,this,"[[31m↯ Comm[39m]:"),this.updateInterval=setInterval((function(){return t.emit("updateTick")}),2e3)}return bP(e,[{key:"isNeedChat",value:_P},{key:"closeOgar",value:SP},{key:"setClientApiEvents",value:CP},{key:"init",value:OP}]),e}());function UP(e){7==e.length&&(this.dropCacheSkin(),this.color=e,this.cacheSkin())}function AP(e){this.dropCacheSkin(),this.accountID=e,this.cacheSkin()}function EP(e,t){this.x=e,this.y=t,this.alive||(this.lastX=e,this.lastY=t)}function LP(e){this.mass=e}function FP(e){if(!wP(e))return console.error(e,"is not a string");this.dropCacheSkin();var t,n=mP(r.q);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.match(o.regexp)&&(this.skinURL=e,this.cacheSkin())}}catch(e){n.e(e)}finally{n.f()}}function jP(){}function DP(){this.cacheSkin(!0)}function BP(e){if("og"==this.protocol&&(Ek.server.isAgario&&":party"===Ek.server.gameMode?e?i.a.customSkinMap.delete(this.nick+this.color):i.a.cacheKey(this.nick+this.color,this.skinURL):e?i.a.customSkinMap.delete(this.nick):i.a.cacheKey(this.nick,this.skinURL)),"sg"==this.protocol)":party"===Ek.server.gameMode?e?i.a.customSkinMap.delete(this.nick+this.color):i.a.cacheKey(this.nick+this.color,this.skinURL):e?i.a.customSkinMap.delete(this.nick):i.a.cacheKey(this.nick,this.skinURL);else if("v6"==this.protocol&&null!==this.color){var t=Ek.server.isAgario?this.accountID+this.color:this.nick+this.color;e?i.a.customSkinMap.delete(t):i.a.cacheKey(t,this.skinURL)}else"dl"==this.protocol&&null!==this.color&&(Ek.server.gameMode,e?i.a.customSkinMap.delete(this.nick+this.color):i.a.cacheKey(this.nick+this.color,this.skinURL))}function zP(){this.dropCacheSkin()}function NP(){return this.hasIsPlayEventsOnServer?this._alive:!(Date.now()-this.updateTime>=2500||0==this.mass)}function HP(e){this._alive=e,"og"==this.protocol&&(e?this.cacheSkin():this.dropCacheSkin())}function GP(e){this.dropCacheSkin(),this._nick=e,this.cacheSkin()}function qP(){return this._nick}var XP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1337;yP(this,e),this.lid=Math.floor(2147483647*Math.random())+1,this.protocol=null,this.deltaPlayerID=0,this.id=t,this.quadrant=-1,this._nick="",this.skinID="",this.accountID=null,this.skinURL="",this.x=0,this.y=0,this.mass=0,this.lastX=0,this.lastY=0,this.clanTag="",this.serverToken="",this.tokenTag="",this.color=null,this.customColor=r.t.miniMapTeammatesColor,this._alive=!1,this.hasIsPlayEventsOnServer=!1,this.updateTime=null,this.isPlayer=!1,this.isChatUser=!1,this.isMuted=!1,this.nickCanvas=null,this.renderX=0,this.renderY=0,this.noIndex="none"}return bP(e,[{key:"setColor",value:UP},{key:"setAccountID",value:AP},{key:"setPosition",value:EP},{key:"setMass",value:LP},{key:"setSkin",value:FP},{key:"getUpdateStrategy",value:jP},{key:"dropCacheSkin",value:DP},{key:"cacheSkin",value:BP},{key:"destroy",value:zP},{key:"alive",get:NP,set:HP},{key:"nick",set:GP,get:qP}]),e}();function WP(e){}function YP(e){for(var t in this.store.all){var n=this.store.all[t];n.protocol==e&&this.remUser(n.id)}}function VP(e){var t=null;return this.store.has(e)?t=this.store.get(e):((t=new XP(e)).isPlayer=this.isPlayer(e),this.store.add(t)),t}function $P(e){this.store.has(e)&&this.getUser(e).destroy(),this.store.rem(e)}function KP(e){var t,n=mP(Ek.clients.player);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.apiOgar&&r.apiOgar.playerID===e)return!0;if(r.apiTool&&r.apiTool.playerID===e)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}function ZP(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=!1,r=this.messagesLog.length;r--;)if(t-this.messagesLog[r].time<300&&this.messagesLog[r].text===e){n=!0;break}return this.messagesLog.push({text:e,time:t}),this.messagesLog.length>10&&this.messagesLog.shift(),n}function QP(e,t,n,r,o,i,a){var s=this.getUser(r);this.isHaveDuplicate(i)||(s.isChatUser=!0,ZC.displayChatMessage.apply(ZC,arguments))}function JP(e){this.store.has(e)&&this.remUser(e)}function eM(e){var t=!this.store.has(e.playerID),n=this.getUser(e.playerID);if(t&&this.emit("added",e.api,n),"DeltaApi"===e.api.apiName&&(n.hasIsPlayEventsOnServer=!0),"apiTool"===e.api.apiName&&(n.hasIsPlayEventsOnServer=!0),wP(e.protocol)&&(n.protocol=e.protocol),kP(e.x)&&kP(e.y)&&kP(e.mass)&&(n.setPosition(e.x,e.y),n.setMass(e.mass)),e.json)try{var r=JSON.parse(e.json);r.deltaPlayerID>0&&(n.deltaPlayerID=r.deltaPlayerID)}catch(e){}wP(e.nick)&&(n.nick=e.nick),wP(e.skinID)&&(n.skinID=e.skinID),wP(e.customColor)&&(n.customColor=e.customColor),wP(e.accountID)&&(n.accountID=e.accountID),kP(e.isAlive)&&(n.alive=e.isAlive,n.updateTime=Date.now()),this.store.set(n,"clanTag",Ek.master.profile.clanTag),this.store.set(n,"serverToken",Ek.server.serverToken),this.store.set(n,"tokenTag",Ek.server.serverToken+Ek.master.profile.clanTag),n.serverToken=Ek.server.serverToken,wP(e.skinURL)&&n.setSkin(e.skinURL),wP(e.secureColor)&&n.setColor(e.secureColor),kP(e.accountID)&&n.setAccountID(e.accountID)}function tM(e,t,n){Tw.receiveUsersQuadtant(n,t)}function nM(){return this.store.by.tokenTag[Ek.server.serverToken+Ob.mainProfile.clanTag]||[]}var rM=window.userManager=new(function(){function e(){yP(this,e),Object(r.l)(this),this.messagesLog=[],this.positionLog=[],this.store=new r.e("id",["clanTag","serverToken","tokenTag"]),this.store.by.serverToken={},this.on("added",WP)}return bP(e,[{key:"clearUsersFrom",value:YP},{key:"getUser",value:VP},{key:"remUser",value:$P},{key:"isPlayer",value:KP},{key:"isHaveDuplicate",value:ZP},{key:"onChatMessage",value:QP},{key:"onPlayerRemove",value:JP},{key:"onPlayer",value:eM},{key:"updateTeamQuadrant",value:tM},{key:"users",get:nM}]),e}());function oM(e){return(oM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iM(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return aM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aM(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function aM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uM(e,t,n){return t&&cM(e.prototype,t),n&&cM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hM(e,t)}function hM(e,t){return(hM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vM(e);if(t){var o=vM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pM(this,n)}}function pM(e,t){if(t&&("object"===oM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mM(e)}function mM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vM(e){return(vM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yM=window.preact,gM=yM.Component,bM=yM.render,wM=(yM.h,yM.createRef),kM=window.preactHooks,_M=(kM.useState,kM.useEffect);kM.useRef,window.htm.bind(preact.h);function SM(e){var t=e.mass,n=e.name,r=e.n,o=e.className;return preact.h("div",{class:o},preact.h("div",{class:"mass"},t),preact.h("div",{class:"n"},r),preact.h("div",{class:"name"},n))}var CM=function(e){fM(n,e);var t=dM(n);function n(){return lM(this,n),t.apply(this,arguments)}return uM(n,[{key:"render",value:SM}]),n}(gM);function TM(){var e=this.__P.classList;r.o.lbRightAlign?(e.remove("classic"),e.add("right")):(e.remove("right"),e.add("classic"))}function xM(){for(var e=this.state.pieChart,t="",n=0,r=0;e.length>r;r++){var o=e[r][1],i=100*e[r][0];t+="".concat(o," ").concat(n,"%,").concat(o," ").concat(n+i,"%"),n+=i,r!==e.length-1&&(t+=",")}return"conic-gradient(".concat(t,")")}function PM(){this.__P.style.fontSize=100*r.t.hudScale+"%"}function MM(){return Ek.prevServer()}function IM(){return Ek.nextServer()}function OM(e,t){var n=e.mass,r=e.name,o=e.n,i=e.className;return preact.h(CM,{mass:n,name:r,n:o,className:i})}function RM(){var e=this;function t(){return e.setCenteredLb()}function n(){return e.setState({visible:!e.state.visible})}function o(){return e.setState({no_cache:Math.random()})}function i(){return e.setState({no_cache:Math.random()})}function a(){return e.setState({no_cache:Math.random()})}function s(){return e.setState({})}function l(){return e.unlisten()}return _M((function(){return e.listenTo(r.o,"lbRightAlign",t),e.listenTo(r.n,"hk-showLb:down",n),e.listenTo(r.o,"normalLb",o),e.listenTo(r.o,"showLbTotal",i),e.listenTo(r.o,"showLbBots",a),e.listenTo(Ek.server,"userFriendlyToken",s),e.listenTo(r.t,"hudScale",e.updateRootStyles.bind(e)),e.setCenteredLb(),e.updateRootStyles(),l}),[1]),[preact.h("div",{class:"lb-title-controls"},preact.h("div",{class:"lb-title-texts"},preact.h("div",{class:"title"},r.o.normalLb?Object(r.j)("leaderboard"):"DELTAV4.GLITCH.ME"),preact.h("div",{class:"server"},preact.h("div",{class:"lb-server"},Ek.server.userFriendlyToken),preact.h("div",{class:"lb-title-buttons"},preact.h("div",{class:"lb-title-button",onclick:MM},preact.h("div",{class:"fas fa-chevron-left"})),preact.h("div",{class:"lb-title-button",onclick:IM},preact.h("div",{class:"fas fa-chevron-right"})))))),preact.h("div",{class:"lb-container"},preact.h("div",{class:"lb-pie "+(this.state.isPieChart?"visible":"hidden"),style:"background: "+(this.state.isPieChart?this.getPieChartBackground():"initial")+";"}),preact.h("div",{iiid:"leaderboard-data"}),!this.state.isPieChart&&this.state.leaderboard.length>0?[preact.h("div",{class:"lb-entries"},this.state.leaderboard.map(OM)),preact.h("div",{class:"icons-container"},preact.h("div",{class:"icon-info"+(r.o.showLbBots&&this.state.total>this.state.leaderboard.length?"":" hidden")},preact.h("div",{class:"fas fa-robot"}),preact.h("div",null,"Bots"),preact.h("div",{content:!0,class:"mono"},this.state.bots)),preact.h("div",{class:"icon-info"+(r.o.showLbTotal&&this.state.total>this.state.leaderboard.length?"":" hidden")},preact.h("div",{class:"fas fa-user-tie"}),preact.h("div",null,"Total"),preact.h("div",{content:!0,class:"mono"},this.state.total)))]:"")]}var UM=function(e){fM(n,e);var t=dM(n);function n(e){var r;return lM(this,n),sM(mM(r=t.call(this)),"state",{isPieChart:!1,leaderboard:[],pieChart:[],bots:0,total:0,visible:!0,no_cache:0}),e.callback&&e.callback(mM(r)),r}return uM(n,[{key:"setCenteredLb",value:TM},{key:"getPieChartBackground",value:xM},{key:"updateRootStyles",value:PM},{key:"render",value:RM}]),n}(O);function AM(e){this.lbStep++,this.lbStep%this.connectedLength==0&&(this.lbStep=0),this.lbStep==this.connectedLength-1&&(this.leaderboard=e.leaderboard,this._compileLeaderboard())}function EM(e){this.ghStep++,this.ghStep%this.connectedLength==0&&(this.ghStep=0),this.ghStep==this.connectedLength-1&&(this.ghostCells=e.ghostCells,this.compileGhostCells())}function LM(){var e,t=[],n=iM(Ek.clients.render);try{for(n.s();!(e=n.n()).done;)for(var r=e.value,o=0,i=r.ghostCells.length;o<i;o++){var a=r.ghostCells[o];a.inView=Ek.reverseCheckGhost(a.x,a.y,a.size/2,Ek.clients.render.length),t[o]=a}}catch(e){n.e(e)}finally{n.f()}this.ghostCells=t}function FM(){var e=this,t=[],n=5;e:for(var i=0;i<this.leaderboard.length;i++){var a,s=Ob.mainProfile.clanTag.length&&0==this.leaderboard[i].nick.indexOf(Ob.mainProfile.clanTag)||this.leaderboard[i].isFriend,l="".concat(i+1),c=this.leaderboard[i].nick,u=iM(Ek.clients.player);try{for(u.s();!(a=u.n()).done;){var f=a.value;if(f.playerPosition-1===i){var h="";this.ghostCells.length>0&&(h="".concat(r.o.showLbData?this.shortMassFormat(f.playerMass):"").concat(r.o.showLbSectors?" ["+this.calculateMapSector(f.viewX,f.viewY)+"]":"")),t.push({className:"me",mass:h,n:l,name:c});continue e}}}catch(e){u.e(e)}finally{u.f()}if(i<r.o.leaderboardLength||s&&n-- >0){var d=this.ghostCells[i]?"".concat(r.o.showLbData?this.shortMassFormat(this.ghostCells[i].mass):"").concat(r.o.showLbSectors?" ["+this.calculateMapSector(this.ghostCells[i].x,this.ghostCells[i].y)+"]":""):"";s?t.push({className:"teammate",mass:d,n:l,name:c}):t.push({className:"",mass:d,n:l,name:c})}}this.canSheludeFrame&&o.a.once("render",(function(){e.canSheludeFrame=!0;var n=~~(e.calcBots()/e.leaderboard.length*100)+"%";e.component.setState({leaderboard:t,total:e.leaderboard.length,bots:n,isPieChart:!1})})),this.canSheludeFrame=!1}function jM(){for(var e={},t=0,n=0,r=this.leaderboard.length;r>n;n++){var o=leaderboard.leaderboard[n];!e[o.nick]&&(e[o.nick]=0),e[o.nick]++}for(var i in e)(e[i]>(""===i?10:2)||i.indexOf("agarbot.")>-1)&&(t+=e[i]);return t}function DM(){var e=this;function t(t){e.connectedLength--,e.lbStep=e.connectedLength-1,e.ghStep=e.connectedLength-1,e.compileLeaderboard(),e.compileGhostCells()}Ek.on("initClient",(function(n){n.on("piechart",(function(t){e.component.setState({pieChart:n.pieChart,isPieChart:!0})})),n.on("leaderboard",(function(t){e.setLeaderboardData(n)})),n.on("ghostCells",(function(t){e.setGhostCellsdData(n)})),n.on("estabilished",(function(r){0==e.connectedLength&&(e.leaderboard=[],e.ghostCells=[]),e.connectedLength++,e.lbStep=e.connectedLength-1,e.ghStep=e.connectedLength-1,e.compileLeaderboard(),n.once("unestabilished",t)}))})),r.o.on("leaderboardLength","showLbSectors","showLbData",this._compileLeaderboard.bind(this))()}function BM(e){if(e<1e3)return e;var t=Math.round(e/100)/10;return"".concat(t%1==0?t+".0":t,"k")}function zM(e,t){if(!Ek.getActiveTab().mapOffsetFixed)return"";var n=Ek.getActiveTab().mapSizeH/2,o=Ek.getActiveTab().mapSizeV/2,i=Math.floor((e+n)/(Ek.getActiveTab().mapSizeH/r.t.sectorsY)),a=Math.floor((t+o)/(Ek.getActiveTab().mapSizeV/r.t.sectorsX));return i=i<0?0:i>=r.t.sectorsY?r.t.sectorsY-1:i,a=a<0?0:a>=r.t.sectorsX?r.t.sectorsX-1:a,String.fromCharCode(a+65)+(i+1)}function NM(){var e=$("<input>");$("body").append(e),e.val($(".lb-entries").text()).select();try{document.execCommand("copy")}catch(e){console.log("can't copy..")}e.remove()}var HM=new(function(){function e(){var t,n,o,i=this;lM(this,e),this.component=null,bM(preact.h(UM,{callback:function(e){return i.component=e}}),document.getElementById("leaderboard-hud")),this.canSheludeFrame=!0,this.leaderboard=[],this.lbStep=0,this.ghostCells=[],this.ghStep=0,this.connectedLength=0,this._compileLeaderboard=(t=this.compileLeaderboard.bind(this),n=100,function(e){var r=o;o=Date.now(),(void 0===r||o-r>n)&&t(e)}),r.n.on("hk-copyLb:down",this.copyLb.bind(this))}return uM(e,[{key:"setLeaderboardData",value:AM},{key:"setGhostCellsdData",value:EM},{key:"compileGhostCells",value:LM},{key:"compileLeaderboard",value:FM},{key:"calcBots",value:jM},{key:"start",value:DM},{key:"shortMassFormat",value:BM},{key:"calculateMapSector",value:zM},{key:"copyLb",value:NM}]),e}());function GM(e){var t=e.label,n=e.value;return preact.h("span",null,t,n)}function qM(e){fM(n,e);var t=dM(n);function n(){return lM(this,n),t.apply(this,arguments)}return uM(n,[{key:"render",value:GM}]),n}function XM(){this.$root.current.style.fontSize=100*r.t.hudScale+"%"}function WM(){this.setState({no_cache:Math.random()})}function YM(){var e=this;function t(){return e.rerender()}function n(){return e.rerender()}function o(){return e.rerender()}function i(){return e.rerender()}function a(){return e.rerender()}function s(){return e.rerender()}function l(){return e.rerender()}function c(){return e.unlisten()}if(_M((function(){return e.listenTo(r.o,"showStats",t),e.listenTo(r.o,"showStatsMass",n),e.listenTo(r.o,"showStatsSTE",o),e.listenTo(r.o,"showStatsN16",i),e.listenTo(r.o,"showStatsPING",a),e.listenTo(r.o,"showStatsFPS",s),e.listenTo(r.o,"showStatsPPS",l),e.listenTo(r.t,"hudScale",e.updateRootStyles.bind(e)),e.updateRootStyles(),c}),[1]),r.o.showStats)return preact.h("div",{ref:this.$root,class:"stats-hud hud-basic stats-hud-color hud-bottom "+(r.o.statsAtCenter?"center":"")},preact.h("div",{class:"hud-container"},this.state.play?[r.o.showStatsMass?preact.h("span",null,"Mass: ",this.state.mass):"",r.o.showStatsSTE?preact.h("span",null,"Score: ",this.state.score):"",r.o.showStatsSTE?preact.h("span",null,"STE: ",this.state.STE):"",r.o.showStatsN16?preact.h("span",null," ",this.state.pieces):""]:"",r.o.showStatsFPS?preact.h("span",null,"FPS: ",this.state.fps):"",r.o.showStatsPING&&this.state.ping>0?preact.h("span",null,"PING: ",this.state.ping):"",r.o.showStatsPPS?preact.h("span",null,"PPS: ",this.state.pps):""))}window.leaderboard=HM;var VM=function(e){fM(n,e);var t=dM(n);function n(e){var r;return lM(this,n),sM(mM(r=t.call(this)),"state",{fps:0,connected:!1,pps:0,play:!1,mass:0,score:0,STE:0,pieces:"0/16",ping:0,no_cache:0}),sM(mM(r),"$root",wM()),e.callback&&e.callback(mM(r)),r.Span=qM(gM),r}return uM(n,[{key:"updateRootStyles",value:XM},{key:"rerender",value:WM},{key:"render",value:YM}]),n}(O);function $M(){this.canSheludeFrame&&o.a.once("render",this._render),this.canSheludeFrame=!1}function KM(e){if(r.o.showStats){var t=Ek.getActiveTab(),n={fps:Math.round(e.fps),connected:t.connected};t&&Object.assign(n,{pps:t.pps,play:t.play,mass:t.playerMass,score:t.playerScore,STE:t.STE,pieces:t.playerSplitCells+"/16",ping:this.pingEnabled?t.ping:0}),this.emit("state",n),this.component.setState(n)}this.canSheludeFrame=!0}function ZM(e){var t=this;function n(){t.rafRender()}function r(){t.rafRender()}function o(){t.pingEnabled&&(t.pingEnabled=!1,t.rafRender())}this.rafRender(),Ek.on("initClient",(function(e){e.on("spawn",n),e.on("death",r),e.on("connecting",(function(){e.isAgario&&!t.pingEnabled&&(t.pingEnabled=!0,t.rafRender())})),e.on("unestabilished",o)})),setInterval((function(){t.rafRender()}),300)}function QM(){this.drawRender=window.drawRender}var JM=new(function(e){fM(n,e);var t=dM(n);function n(){var e;return lM(this,n),(e=t.call(this)).component=null,bM(preact.h(VM,{callback:function(t){return e.component=t}}),document.querySelector("#stats2")),e.canSheludeFrame=!0,e.pingEnabled=!1,e.drawRender=null,e._render=e.render.bind(mM(e)),e}return uM(n,[{key:"rafRender",value:$M},{key:"render",value:KM},{key:"initApplicationEvents",value:ZM},{key:"initRendererEvents",value:QM}]),n}(r.d));function eI(){window.time_is_widget={cb:this.setDifference.bind(this)};var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.src="https://widget.time.is/?UTC_za00&t="+(new Date).getTime(),t.referrerPolicy="no-referrer",e.parentNode.insertBefore(t,e)}function tI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;r||(n[0][0]=n[0][2]=0-(new Date).getTimezoneOffset());var o=new Date;this.timeDifference=o.getTime()-e-Math.round((o-t)/2),this.srv_v=n[0],this.stopTimer(),this.sheludUpdate()}function nI(e,t){for(var n=e.toString();n.length<t;n=0+n);return n}function rI(){clearTimeout(this.timerID)}function oI(){var e=this,t=new Date;function n(){return e.sheludUpdate()}t.setTime(t.getTime()-this.timeDifference),this.render(t),this.timerID=setTimeout((function(){return o.a.once("render",n)}),this.updateInterval-t%this.updateInterval)}function iI(e){null==e&&(e=new Date).setTime(e.getTime()-this.timeDifference);var t=this.pad,n=new Date;this.srv_v[0],0<this.srv_v[1]&&this.srv_v[1]<e.getTime()&&(this.srv_v[0]=this.srv_v[2],this.srv_v[1]=0),n.setTime(6e4*this.srv_v[0]+e.getTime());var r=String(n.getUTCFullYear()),o=n.getUTCMonth()+1,i=new Date(r,0,1),a=this.locale.day+" "+Math.floor((n-i+6e4*i.getTimezoneOffset())/864e5+1),s=i.getDay()-1;-1==s&&(s=6);var l,c=Math.floor((n-i+6e4*i.getTimezoneOffset())/6048e5+s/7);s<4&&c++,0==c&&(c=52,4!=new Date(r-1,0,1).getDay()&&4!=new Date(r-1,11,31).getDay()||(c=53)),l="hy"==this.locale.W?1==c?"1-ին շաբաթ":c+"-րդ շաբաթ":this.locale.W.replace(".n",c),this.srv_v[4],this.srv_v[6];var u={t:n.getUTCHours(),r:this.srv_v[3],s:this.srv_v[5]},f={};for(var h in u)f[h]=t(u[h],2),f[h+"H"]=f[h],f[h+"M"]="AM",11<f[h]&&(f[h+"M"]="PM",f[h]=t(f[h]-12,2)),"00"==f[h]&&(f[h]=12);var d=this.template.replace("srhour",f.rH).replace("sr12hour",f.r).replace("srAMPM",f.rM).replace("srminute",t(this.srv_v[4],2)).replace("sshour",f.sH).replace("ss12hour",f.s).replace("ssAMPM",f.sM).replace("ssminute",t(this.srv_v[6],2)).replace("dlhours",this.srv_v[7]).replace("dlminutes",this.srv_v[8]).replace("%h",f.t).replace("%H",f.tH).replace("%i",t(n.getUTCMinutes(),2)).replace("%s",t(n.getUTCSeconds(),2)).replace("%A",f.tM).replace("%j",n.getUTCDate()).replace("%d",t(n.getUTCDate(),2)).replace("%W",l).replace("%n",o).replace("%m",t(o,2)).replace("%y",r.substr(2,2)).replace("%Y",r).replace("%F",this.locale.names[13+o]).replace("%l",this.locale.names[n.getUTCDay()]).replace("%D",this.locale.names[7+n.getUTCDay()]).replace("%z",a);d!=this.previous&&(this.$timeText.childNodes[0]?this.$timeText.childNodes[0].nodeValue=d:this.$timeText.innerText=d)}window.TimeHud=new(function(){function e(){var t=this;lM(this,e),this.$timeHud=document.getElementById("time-hud"),this.$timeText=document.getElementById("time-text"),this.syncronize(),this.locale={names:Object(r.j)("daysAndMonths"),week:"week ",W:"week .n",day:" day"},this.locale.names=this.locale.names.split("."),26!=this.locale.names.length&&(this.locale.names="Sunday.Monday.Tuesday.Wednesday.Thursday.Friday.Saturday.Sun.Mon.Tue.Wed.Thu.Fri.Sat.January.February.March.April.May.June.July.August.September.October.November.December".split(".")),this.template="%d.%m.%Y, %H:%i:%s",this.timeDifference=0,this.timerID=null,this.updateInterval=1e3,this.srv_v=[0-(new Date).getTimezoneOffset(),(new Date).getTime(),0-(new Date).getTimezoneOffset(),0,0,0,0,0,0],this.setDifference((new Date).getTime(),(new Date).getTime(),[this.srv_v],!0),this.sheludUpdate(),r.o.on("showTime",(function(){t.$timeHud.style.display=r.o.showTime?"":"none",t.stopTimer(),r.o.showTime?t.sheludUpdate():t.stopTimer()}))(),r.o.on("timeHudTemplate",(function(){t.template=r.o.timeHudTemplate,t.render()}))(),r.t.on("hudScale",(function(){t.$timeHud.style.fontSize=72*r.t.hudScale+"%"}))()}return uM(e,[{key:"syncronize",value:eI},{key:"setDifference",value:tI},{key:"pad",value:nI},{key:"stopTimer",value:rI},{key:"sheludUpdate",value:oI},{key:"render",value:iI}]),e}());var aI={measureText:function(e,t,n,r){var o,i,a=aI.measureText.div||document.createElement("div");return a.style.font=t+" "+n+"px "+r,a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style.visibility="hidden",a.innerHTML=e,aI.measureText.div||document.body.appendChild(a),o=a.clientWidth,i=a.clientHeight,aI.measureText.div=a,{width:o,height:i}},text:"",trimmedText:"",fontSize:24,fontWeight:400,fontFamily:"Arial",lineWidth:0,strokeStyle:"#000000",fillStyle:"#ffffff",prevState:"",x:0,y:0,w:0,h:0,originX:0,originY:0,dirty:!1,c:null,ctx:null,init:function(e){return this.setText(e),this.c=document.createElement("canvas"),this.ctx=this.c.getContext("2d"),this},setText:function(e){return e&&(this.text=e+"",this.trimmedText=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),this},state:function(){return[this.fontSize,this.fontWeight,this.fontFamily,this.lineWidth,this.strokeStyle,this.fillStyle,this.text].join(",")},update:function(){var e=this.state();this.dirty=e!==this.prevState,this.prevState=e,this.dirty&&this.measure()},measure:function(){var e=aI.measureText(this.trimmedText,this.fontWeight,this.fontSize,this.fontFamily);this.w=this.c.width=e.width/.1,this.h=this.c.height=e.height},draw:function(e){this.render(),0!==this.w&&0!==this.h&&(e.save(),e.translate(-this.originX*this.w,-this.originY*this.h),e.drawImage(this.c,this.x,this.y),e.restore())},render:function(){this.dirty&&(this.ctx.lineJoin="round",this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.fillStyle=this.fillStyle,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.lineWidth>0&&(this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.strokeStyle,this.ctx.strokeText(this.trimmedText,this.w>>1,this.h>>1)),this.ctx.fillText(this.trimmedText,this.w>>1,this.h>>1),this.dirty=!1)}},sI=aI;function lI(e){return(lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cI(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return uI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function uI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dI(e,t,n){return t&&hI(e.prototype,t),n&&hI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mI(e,t)}function mI(e,t){return(mI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bI(e);if(t){var o=bI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yI(this,n)}}function yI(e,t){if(t&&("object"===lI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gI(e)}function gI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bI(e){return(bI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kI=window.preact,_I=kI.Component,SI=kI.render,CI=(kI.h,kI.createRef),TI=window.preactHooks,xI=(TI.useState,TI.useEffect);TI.useRef,window.htm.bind(preact.h);function PI(){var e,t,n=null===(e=(t=this.props).get)||void 0===e?void 0:e.call(t);this.state.value!=n&&(this.__P.childNodes[0]?this.__P.childNodes[0].nodeValue=n:this.__P.innerText=n)}function MI(){var e,t,n=this;function r(){return n.unlisten()}return xI((function(){return n.listenTo(n.props.target,n.props.event,n.renderValue.bind(n)),n.renderValue(),r}),[]),null===(e=(t=this.props).get)||void 0===e?void 0:e.call(t)}var II=function(e){pI(n,e);var t=vI(n);function n(){var e;fI(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return wI(gI(e=t.call.apply(t,[this].concat(o))),"state",{target:null,event:"",value:null}),e}return dI(n,[{key:"renderValue",value:PI},{key:"render",value:MI}]),n}(O);function OI(){r.o.teamboardLength=(r.o.teamboardLength+=10)%30+5}function RI(){this.$icon.current.className="fas fa-caret-down"}function UI(){var e=this.__P;this.forceUpdate(),e.classList.remove("hidden"),!r.o.showTop5&&e.classList.add("hidden"),e.style.fontSize=100*r.t.hudScale+"%"}function AI(e){var t=this,n=e.teamUi;function o(){return t.unlisten()}return xI((function(){return t.listenTo(r.o,"showTop5",t.updateRootStyles.bind(t)),t.listenTo(Ob.mainProfile,"clanTag",t.updateIcon.bind(t)),t.listenTo(r.t,"hudScale",t.updateRootStyles.bind(t)),t.updateIcon(),t.updateRootStyles(),o}),[]),preact.h("div",{class:"hud-container"},preact.h("div",{class:"frows",onclick:function(){return t.toggleLimit()}},preact.h("div",{class:"title frows",style:"align-items: center"},preact.h("div",{class:"fas fa-caret-down",ref:this.$icon}),preact.h("div",null," Team")),preact.h("div",{class:"frows"},preact.h("div",{class:"icon-info"},preact.h("div",{class:"fas fa-user-tie"}),preact.h("div",{class:"mono"},preact.h(II,{target:n,event:"total",get:function(){return r.o.showTop5?n.state.total:null}}))),preact.h("div",{class:"icon-info"},preact.h("div",{class:"fas fa-weight-hanging"}),preact.h("div",{class:"mono"},preact.h(II,{target:n,event:"totalMass",get:function(){return r.o.showTop5?n.state.totalMass:null}}))))),preact.h("div",{class:"icons-container"}),preact.h("div",{class:"team-top-menu"},preact.h("div",{class:"entries"},preact.h(DI,{teamUi:this.props.teamUi})),preact.h("div",{class:"bottom"})))}var EI=function(e){pI(n,e);var t=vI(n);function n(e){var r;return fI(this,n),wI(gI(r=t.call(this)),"props",{teamUi:null,callback:null}),wI(gI(r),"state",{total:0,totalMass:0,visible:!0,no_cache:0}),wI(gI(r),"$root",CI()),wI(gI(r),"$total",CI()),wI(gI(r),"$totalMass",CI()),wI(gI(r),"$icon",CI()),e.callback&&e.callback(gI(r)),r}return dI(n,[{key:"toggleLimit",value:OI},{key:"updateIcon",value:RI},{key:"updateRootStyles",value:UI},{key:"render",value:AI}]),n}(O);function LI(){r.o.showTop5?this.setState({list:qI.state.list}):this.state.list=qI.state.list}function FI(e,t){var n=e.mass,r=e.name;e.n,e.className;return preact.h(zI,{mass:n,name:r})}function jI(e){var t=this,n=e.teamUi;function o(){return t.update.bind(t)}function i(){return t.unlisten()}if(xI((function(){return t.listenTo(r.o,"showTop5",o),t.listenTo(n,"list",t.update.bind(t)),t.update(),i}),[]),r.o.showTop5)return this.state.list.map(FI)}var DI=function(e){pI(n,e);var t=vI(n);function n(){var e;fI(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return wI(gI(e=t.call.apply(t,[this].concat(o))),"state",{list:[]}),e}return dI(n,[{key:"update",value:LI},{key:"render",value:jI}]),n}(O);function BI(e){var t=e.mass,n=e.name;return preact.h("div",null,preact.h("div",{class:"skin"}),preact.h("div",{class:"info"},preact.h("div",{class:"mass"},t),preact.h("div",{class:"name"},n)))}var zI=function(e){pI(n,e);var t=vI(n);function n(){return fI(this,n),t.apply(this,arguments)}return dI(n,[{key:"render",value:BI}]),n}(_I);function NI(e,t){return t.mass-e.mass}function HI(){var e=this;this.top5=[];var t,n=cI(rM.users);try{var i=function(){var n=t.value;if(n.alive&&!n.isPlayer){if(40==n.mass){var r=Ek.getActiveTab();r&&r.leaderboard.forEach((function(e,t){e.nick==n.nick&&HM.ghostCells[t]&&(n.mass=HM.ghostCells[t].mass)}))}e.top5.push(n)}};for(n.s();!(t=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}this.top5.sort(NI);for(var a=[],s=0,l=this.top5.length,c=0;c<l;c++)s+=this.top5[c].mass,c>=r.o.teamboardLength||a.push({name:this.top5[c].nick,mass:this.shortMassFormat(this.top5[c].mass)});Ek.getActiveTab()&&Ek.getActiveTab().play&&Ek.getActiveTab().playerMass&&(s+=Ek.getActiveTab().playerMass,l++),this.canSheludeFrame&&o.a.once("render",(function(){e.canSheludeFrame=!0,e.state.totalMass=e.shortMassFormat(s),e.state.total=l,e.state.list=a,e.emit("totalMass"),e.emit("total"),e.emit("list",a),e.emit("state")})),this.canSheludeFrame=!1}function GI(e){if(e<1e3)return e;var t=Math.round(e/100)/10;return"".concat(t%1==0?t+".0":t,"k")}var qI=new(function(e){pI(n,e);var t=vI(n);function n(){var e;return fI(this,n),(e=t.call(this)).state={list:[],total:0,totalMass:0},e.component=null,SI(preact.h(EI,{callback:function(t){return e.component=t},teamUi:gI(e)}),document.getElementById("teamboard")),e._updateTeamPlayers=e.compileTop5.bind(gI(e)),setInterval((function(){return e._updateTeamPlayers()}),1e3),e.canSheludeFrame=!0,r.o.on("teamboardLength",(function(){e.canSheludeFrame=!0,e.compileTop5()}))(),r.o.on("showTop5",(function(){e.compileTop5()}))(),r.n.on("hk-showTop5:down",(function(){r.o.showTop5=!r.o.showTop5,e.compileTop5()})),e}return dI(n,[{key:"compileTop5",value:HI},{key:"shortMassFormat",value:GI}]),n}(r.d));function XI(e){r.o.showMiniMap=!r.o.showMiniMap}function WI(){var e=this;function t(){e.setCanvas(),e.drawMiniMapSectors(),e.draw()}this.$minimapHud=document.getElementById("minimap-hud"),this.$canvas=document.getElementById("minimap"),this.ctx=this.$canvas.getContext("2d"),this.$canvasSectors=document.getElementById("minimap-sectors"),this.ctxSectors=this.$canvasSectors.getContext("2d"),this.setCanvas(),this.setShow(),this.drawMiniMapSectors(),this.setSectorsOpacity(),o.a.on("render",(function(){return e.draw()})),r.o.on("showMiniMap",(function(){e.setShow()})),r.n.on("hk-showMiniMap:down",XI),window.addEventListener("resize",(function(e){return o.a.once("update",t)})),r.t.on("miniMapScale","miniMapCanvasScale",(function(){e.setCanvas(),e.drawMiniMapSectors()})),r.t.on("miniMapFont","miniMapSectorsColor","sectorsY","sectorsX",(function(){e.drawMiniMapSectors()})),r.t.on("miniMapSectorsOpacity",(function(){e.setSectorsOpacity()})),r.t.on("miniMapCanvasScale","miniMapNickfont","miniMapNickSize","miniMapNickStrokeSize","miniMapNickStrokeColor","miniMapNickColor",(function(){e.updateFonts()})),r.o.on("showMiniMapSectors","showMiniMapGrid",(function(){e.drawMiniMapSectors()}))}function YI(){$("#minimap-hud")[r.o.showMiniMap?"show":"hide"]()}function VI(e){e.nickCanvas&&(e.nickCanvas.dirty=!0)}function $I(){rM.users.forEach(VI)}function KI(){this.padding=20;var e=window.devicePixelRatio*r.h.miniMapCanvasScale;this.renderZoneWidth=this.renderZoneHeight=this.defaultWidth*e*r.h.miniMapScale;var t=this.padding/e*2;this.width=this.renderZoneWidth+2*this.padding,this.height=this.renderZoneHeight+2*this.padding,this.wi2=this.renderZoneWidth,this.he2=this.renderZoneHeight,this.$minimapHud.style.width=this.wi2/e+"px",this.$minimapHud.style.height=this.he2/e+"px",this.$canvas.width=this.width,this.$canvas.height=this.height,this.$canvas.style.width=this.width/e+"px",this.$canvas.style.height=this.height/e+"px",this.$canvas.style.margin="-"+t/2+"px",this.$canvasSectors.width=this.wi2,this.$canvasSectors.height=this.he2,this.$canvasSectors.style.width=this.wi2/e+"px",this.$canvasSectors.style.height=this.he2/e+"px"}function ZI(){this.$canvasSectors.style.opacity=r.t.miniMapSectorsOpacity+""}function QI(e,t,n,o,i,a,s){var l=Ek.getActiveTab();if(l.battleRoyale.state){var c=(l.battleRoyale.x+o)*a,u=(l.battleRoyale.y+i)*s,f=l.battleRoyale.radius*a;this.drawDangerArea(this.ctx,c,u,f,0,0,t,n,r.h.dangerAreaColor,.25),c=~~((l.battleRoyale.targetX+o)*a),u=~~((l.battleRoyale.targetY+i)*s),f=~~(l.battleRoyale.targetRadius*a),this.drawSafeArea(this.ctx,c,u,f,2,r.h.safeAreaColor)}}function JI(e,t,n,r,o,i,a,s,l,c){var u=Ek.getActiveTab();u.battleRoyale.radius==u.battleRoyale.maxRadius||r<=0||(e.save(),e.globalAlpha=c,e.fillStyle=l,e.fillRect(o,i,a,s),e.globalCompositeOperation="destination-out",e.globalAlpha=1,e.beginPath(),e.arc(t,n,r,0,this.pi2,!1),e.fill(),e.restore())}function eO(e,t,n,r,o,i){Ek.getActiveTab().battleRoyale.state>2||r<=0||this.drawDashedCircle(e,t,n,r,60,o,i)}function tO(e,t,n,r,o,i,a){var s=this.pi2/o;e.lineWidth=i,e.strokeStyle=a;for(var l=0;l<o;l+=2)e.beginPath(),e.arc(t,n,r-i/2,l*s,(l+1)*s,!1),e.stroke()}function nO(e){Ek.getActiveTab().play&&Ek.getActiveTab().playerSplitCells>1&&(e.fillStyle="#FFFFFF",e.globalAlpha=this.selectBiggestCell?.6:.3,e.beginPath(),e.arc(48,15,6,0,this.pi2,!1),e.closePath(),e.fill(),e.globalAlpha=this.selectBiggestCell?.3:.6,e.beginPath(),e.arc(60,15,4,0,this.pi2,!1),e.closePath(),e.fill())}function rO(){this.setCanvas(),this.ctxSectors.fillStyle="#FFFFFF",this.drawSectors(this.ctxSectors,Ek.getActiveTab().mapOffsetFixed,r.t.sectorsX,r.t.sectorsY,0,0,this.$canvasSectors.width,this.$canvasSectors.height,r.t.miniMapSectorsColor,r.t.miniMapSectorsColor,1,!1)}function oO(e,t,n,o,i,a,s,l,c,u,f,h){if(t||!h){var d=~~((s-i)/n),p=~~((l-a)/o),m=0,v=0;if(e.strokeStyle=c,e.fillStyle=u,e.lineWidth=f,r.o.showMiniMapGrid){e.beginPath();for(var y=1;y<n+0;y++)m=i+d*y,e.moveTo(y==n?s:m,a),e.lineTo(y==n?s:m,l);for(y=1;y<o+0;y++)v=a+p*y,e.moveTo(i-f/2,y==o?l:v),e.lineTo(s+f/2,y==o?l:v);e.stroke()}if(e.font="".concat(r.t.miniMapFont.fontWeight," ").concat(~~(.4*p),"px ").concat(r.t.miniMapFont.fontFamily),e.textAlign="center",e.textBaseline="middle",r.o.showMiniMapSectors)for(y=0;y<o;y++)for(var g=0;g<n;g++){var b=String.fromCharCode(65+y)+(g+1);m=~~(i+d/2+g*d),v=~~(a+p/2+y*p),e.fillText(b,m,v)}}}function iO(e,t){if(t.nick.length>0){t.nickCanvas&&!t.nickCanvas.dirty&&t.nickCanvas.text===t.nick||(t.nickCanvas||(t.nickCanvas=Object.create(sI).init()),t.nickCanvas.setText(t.nick),t.nickCanvas.fontFamily=r.h.miniMapNickfont.fontFamily,t.nickCanvas.fontSize=r.h.miniMapNickSize*(window.devicePixelRatio*r.h.miniMapCanvasScale),t.nickCanvas.fontWeight=r.h.miniMapNickfont.fontWeight,t.nickCanvas.lineWidth=r.h.miniMapNickStrokeSize,t.nickCanvas.strokeStyle=r.h.miniMapNickStrokeColor,t.nickCanvas.fillStyle=r.h.miniMapNickColor,t.nickCanvas.update());var n=t.nickCanvas;n.x=~~(t.renderX-(n.w>>1)),n.y=~~(t.renderY-(n.h+1*r.h.miniMapTeammatesSize)),n.draw(e)}}function aO(e,t){if(":party"===Ek.server.gameMode||"dl"!=t.protocol&&"v6"!=t.protocol)e.beginPath(),e.arc(t.renderX,t.renderY,r.h.miniMapTeammatesSize,0,this.pi2,!1),e.closePath();else{var n=t.renderY-r.h.miniMapTeammatesSize/3,o=r.h.miniMapTeammatesSize*Math.cos(Math.PI/6);e.beginPath(),e.moveTo(t.renderX-r.h.miniMapTeammatesSize,n+r.h.miniMapTeammatesSize),e.lineTo(t.renderX+r.h.miniMapTeammatesSize,n+r.h.miniMapTeammatesSize),e.lineTo(t.renderX,n-o),e.closePath()}r.g.oneColoredTeammates?e.fillStyle=r.h.miniMapTeammatesColor:e.fillStyle=t.color,e.fill()}function sO(){if(r.g.showMiniMap&&Ek.server.mapOffsetFixed){this.ctx.clearRect(0,0,this.width,this.height);var e=this.renderZoneWidth/Ek.server.mapSizeH,t=this.renderZoneHeight/Ek.server.mapSizeV,n=Ek.server.mapSizeH>>1,o=Ek.server.mapSizeV>>1;if(this.drawSelectedCell(this.ctx),this.ctx.globalAlpha=1,this.ctx.save(),this.ctx.translate(this.padding,this.padding),":battleroyale"===Ek.getActiveTab().gameMode&&this.drawBattleroyaleArea(this.ctx,this.renderZoneWidth,this.renderZoneHeight,n,o,e,t),r.g.showMiniMapGhostCells){var i=HM.ghostCells;this.ctx.beginPath();for(var a=0,s=i.length;s>a;a++){var l=i[a],c=~~((l.x+n)*e),u=~~((l.y+o)*t);this.ctx.moveTo(c,u),this.ctx.arc(c,u,~~(l.size*e),0,this.pi2,!1)}this.ctx.fillStyle=r.h.miniMapGhostCellsColor,this.ctx.globalAlpha=r.h.miniMapGhostCellsAlpha,this.ctx.shadowColor=r.h.miniMapGhostCellsColor,this.ctx.shadowBlur=10,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.fill(),this.ctx.globalAlpha=1,this.ctx.shadowBlur=0}if((r.g.showMiniMapGuides||r.g.showExtraMiniMapGuides)&&(this.ctx.lineWidth=1.5,this.ctx.strokeStyle=r.h.miniMapGuidesColor),r.g.showMiniMapGuides){var f=(Ek.getActiveTab().protocol_viewX+n)*e,h=(Ek.getActiveTab().protocol_viewY+o)*t;this.ctx.beginPath(),this.ctx.moveTo(f,0),this.ctx.lineTo(f,this.renderZoneWidth),this.ctx.moveTo(0,h),this.ctx.lineTo(this.renderZoneWidth,h),this.ctx.stroke()}if(r.g.showExtraMiniMapGuides){f=(Ek.getActiveTab().protocol_viewX+n)*e,h=(Ek.getActiveTab().protocol_viewY+o)*t;var d=drawRender.canvasWidth/(Ek.server.mapMaxX-Ek.server.mapMinX)/drawRender.scale,p=drawRender.canvasHeight/(Ek.server.mapMaxY-Ek.server.mapMinY)/drawRender.scale,m=this.renderZoneWidth*d,v=this.renderZoneWidth*p,y=f-m/2,g=h-v/2,b=4-12*p;if(b>0){this.ctx.globalAlpha=b<0?0:b;var w=[y+m,g],k=[y,g],_=[y,g+v],S=[y+m,g+v],C=80*d,T=60*p;this.ctx.beginPath(),this.ctx.moveTo(w[0],w[1]+T),this.ctx.lineTo(w[0],w[1]),this.ctx.lineTo(w[0]-C,w[1]),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(k[0],k[1]+T),this.ctx.lineTo(k[0],k[1]),this.ctx.lineTo(k[0]+C,k[1]),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(_[0]+C,_[1]),this.ctx.lineTo(_[0],_[1]),this.ctx.lineTo(_[0],_[1]-T),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(S[0]-C,S[1]),this.ctx.lineTo(S[0],S[1]),this.ctx.lineTo(S[0],S[1]-T),this.ctx.stroke(),this.ctx.globalAlpha=1}}for(var x=0,P=Ek.clients.player.length;P>x;x++)this.ctx.beginPath(),this.ctx.arc((Ek.clients.player[x].protocol_viewX+n)*e,(Ek.clients.player[x].protocol_viewY+o)*t,r.t.miniMapMyCellSize,0,this.pi2,!1),this.ctx.closePath(),r.h.miniMapMyCellStrokeSize>0&&(this.ctx.lineWidth=r.h.miniMapMyCellStrokeSize,this.ctx.strokeStyle=r.h.miniMapMyCellStrokeColor,this.ctx.stroke()),this.ctx.fillStyle=r.h.miniMapMyCellColor,this.ctx.fill();for(var M=rM.users,I=0,O=M.length;I<O;I++){var R=M[I];!R.isPlayer&&R.alive&&(R.lastX=(79*R.lastX+R.x)/80,R.lastY=(79*R.lastY+R.y)/80,R.renderX=(R.lastX+Ek.server.mapMaxX)*e,R.renderY=(R.lastY+Ek.server.mapMaxY)*t,this.drawDot(this.ctx,R))}for(var U=0,A=M.length;U<A;U++){var E=M[U];!E.isPlayer&&E.alive&&this.drawNick(this.ctx,E)}this.ctx.restore()}}var lO=new(function(){function e(){fI(this,e),wI(this,"$canvas",null),wI(this,"$canvasSectors",null),wI(this,"selectBiggestCell",!1),this.defaultWidth=200,this.padding=20,this.width=this.height=this.defaultWidth,this.pi2=2*Math.PI,this.miniMapSectorsDrawed=!1}return dI(e,[{key:"init",value:WI},{key:"setShow",value:YI},{key:"updateFonts",value:$I},{key:"setCanvas",value:KI},{key:"setSectorsOpacity",value:ZI},{key:"drawBattleroyaleArea",value:QI},{key:"drawDangerArea",value:JI},{key:"drawSafeArea",value:eO},{key:"drawDashedCircle",value:tO},{key:"drawSelectedCell",value:nO},{key:"drawMiniMapSectors",value:rO},{key:"drawSectors",value:oO},{key:"drawNick",value:iO},{key:"drawDot",value:aO},{key:"draw",value:sO}]),e}());function cO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uO(){this.x=0,this.y=0,this.vy=0,this.vx=0,this.r=0,this.reset(1920,0)}function fO(e,t){this.x=Math.random()*e,this.y=Math.random()*-t,this.vy=.5+3*Math.random(),this.vx=.5-Math.random(),this.r=1+2*Math.random(),this.o=.5+.5*Math.random()}function hO(e,t,n){e.fillStyle="#FFF";for(var r=0;r<this.COUNT;r++){var o=this.snowflakes[r];o.y+=o.vy,o.x+=o.vx,e.globalAlpha=o.o,e.beginPath(),e.arc(o.x,o.y,o.r,0,this.pi2,!1),e.closePath(),e.fill(),o.y>n&&o.reset(t,n)}}function dO(e){var t=this.COUNT,n=e-t;if(t===e)return!1;if(e-t<0)for(;n<0;n++)0!==this.snowflakes.length&&this.snowflakes.pop();else for(;n>0;n--)this.snowflakes.push(new this.Snowflake);this.COUNT=e}RP.init(),ZC.init(),setTimeout((function(){lO.init()}),1e3);var pO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.COUNT=0,this.snowflakes=[],this.pi2=2*Math.PI,this.Snowflake=uO,this.Snowflake.prototype.reset=fO}var t,n,r;return t=e,(n=[{key:"draw",value:hO},{key:"setCount",value:dO}])&&cO(t.prototype,n),r&&cO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),mO=n(4);function vO(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yO(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function yO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bO(e){var t=this.mouseClientX,n=this.mouseClientY;if(this._scantrickEnabled){var r=Math.atan2(this.mouseClientY-this.canvasHeight/2,this.mouseClientX-this.canvasWidth/2);t=1e7*Math.cos(r),n=1e7*Math.sin(r)}this.mouseServerX=e.cursorX=(t-this.canvasWidth/2)/this.scale+this.camX,this.mouseServerY=e.cursorY=(n-this.canvasHeight/2)/this.scale+this.camY}function wO(e){e.cursorX=(e._mouseClientX-this.canvasWidth/2)/e._scale+e._camX,e.cursorY=(e._mouseClientY-this.canvasHeight/2)/e._scale+e._camY}function kO(e){var t=this.zoomValue;t=2<(t=this.zoomValue*Math.pow(r.g.zoomSpeedValue,e.wheelDelta/-120||e.detail||0))?2:.02>t?.02:t,this.zoomValue=t}function _O(){var e=this.zoomValue;return Math.max(this.canvasWidth/1920,this.canvasHeight/1080)*e}function SO(){var e,t=0,n=0,o=0,i=vO(Ek.clients.player);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.playerCells.length&&(o++,a.calculatePlayerMassAndPosition(),t+=a.viewX,n+=a.viewY)}}catch(e){i.e(e)}finally{i.f()}if(t/=o,n/=o,r.g.autoZoom?Ek.multiboxEnabled&&Ek.clients.player[1].playerSize>Ek.clients.player[0].playerSize?this.calcAutoScale(Ek.clients.player[1]):this.calcAutoScale(Ek.clients.player[0]):this.calcScale(),(!r.g.mbCenterCamera||0===o&&Ek.clients.player[0])&&(t=Ek.clients.player[0].viewX,n=Ek.clients.player[0].viewY),Ek.play)if(!1===this.skipCameraAnimation)if(0===r.g.cameraDelay)this.camX=(this.camX+t)/2,this.camY=(this.camY+n)/2;else{var s=r.g.cameraDelay,l=r.g.cameraDelay-1;this.camX=(l*this.camX+t)/s,this.camY=(l*this.camY+n)/s}else this.skipCameraAnimation=!1,this.camX=t,this.camY=n;else this.camX=(29*this.camX+t)/30,this.camY=(29*this.camY+n)/30}function CO(){var e=this.canvasWidth/2/this.scale,t=this.canvasHeight/2/this.scale;this.cameraBounds.left=this.camX-e,this.cameraBounds.right=this.camX+e,this.cameraBounds.top=this.camY-t,this.cameraBounds.bottom=this.camY+t}function TO(){var e=r.g.zoomSmoothness,t=e-1;this.scale=(t*this.scale+this.getZoom())/e,this.scale=Math.round(1e5*this.scale)/1e5}function xO(e,t){return e.size===t.size?e.id-t.id:e.size-t.size}function PO(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d",{antialias:!1})}function MO(e){this.canvas.style.imageRendering=e?"":"pixelated"}function IO(e){if(void 0!==(e=Number(e)))switch(this.ctx.imageSmoothingEnabled=!0,e){case 0:this.ctx.imageSmoothingEnabled=!1,this.ctx.imageSmoothingQuality="low",this.setCanvasSmoothing(!1);break;case 1:this.ctx.imageSmoothingQuality="low",this.setCanvasSmoothing(!0);break;case 2:this.ctx.imageSmoothingQuality="medium",this.setCanvasSmoothing(!0);break;case 3:this.ctx.imageSmoothingQuality="high",this.setCanvasSmoothing(!0);break;case 4:this.ctx.imageSmoothingQuality="high",this.setCanvasSmoothing(!1)}}function OO(e,t){var n=r.o.canvasScale*window.devicePixelRatio;this.canvasWidth=Math.round((e||window.innerWidth)*n),this.canvasHeight=Math.round((t||window.innerHeight)*n),this.canvas.style.width=Math.round(e||window.innerWidth)+"px",this.canvas.style.height=Math.round(e||window.innerHeight)+"px",this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight}function RO(e){var t=1920/this.scale,n=1080/this.scale,r=this.camX-t/2,o=this.camY-n/2;this.quadtree=new PointQuadTree(r,o,t,n,16);for(var i=0;i<e.length;++i)for(var a=e[i],s=0;s<a.points.length;++s)this.quadtree.insert(a.points[s])}function UO(e){var t,n=r.g.zoomSmoothness,o=n-1;e.play?t=Math.pow(Math.min(64/e.playerSize,1),.2)*this.getZoom():t=e.protocol_spect_scale*this.getZoom();this.scale=(o*this.scale+t)/n}function AO(e,t){for(;t--;)return Ek.clients.render[t].isInViewHSLO(e)}function EO(e){return new Promise((function(t){return setTimeout(t,e)}))}function LO(e){this.cellsFrame=[],this.foodFrame=[],this.virusesFrame=[],this.quadtree=null;for(var t=o.a.runtime,n=0,i=Ek.clients.render.length;i>n;n++){var a=Ek.clients.render[n];a.time=t,r.g.jellyPhysics&&this.updateQuadtree(a.cells);for(var s=0,l=a.cells.length;s<l;s++)a.cells[s].moveCell(e),Ek.reverseCheckView(a.cells[s],n)||(this.cellsFrame.push(a.cells[s]),a.cells[s].isVirus&&this.virusesFrame.push(a.cells[s])),r.g.jellyPhysics&&(a.cells[s].updateNumPoints(this.scale),a.cells[s].movePoints(this.quadtree))}for(var c=this.removedCells.length;c--;){var u=this.removedCells[c];if(u.alpha<=0){var f=this.removedCells.indexOf(u);-1!=f&&this.removedCells.splice(f,1)}}this.setView(),this.calcCameraBounds(),this.setCursorPosition(Ek.getActiveTab()),this.cellsFrame.sort(this.zIndexSortCellsLayer)}function FO(){this.renderedObjects=0,mO.a.cleaner(),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)}function jO(e){this.renderedObjects=0,mO.a.cleaner(),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),r.g.showGrid&&this.drawGrid(this.ctx,this.canvasWidth,this.canvasHeight,this.scale,this.camX,this.camY),this.ctx.save(),this.ctx.translate((~~this.canvasWidth>>1)-this.camX*this.scale,(~~this.canvasHeight>>1)-this.camY*this.scale),this.ctx.scale(this.scale,this.scale),":battleroyale"===Ek._server.gameMode&&this.drawBattleroyaleArea(this.ctx,Ek._server.mapMinX,Ek._server.mapMinY,Ek._server.mapSizeH,Ek._server.mapSizeV,0,0,1,1);var t=i.a.getTexture(r.t.customMapTexture);this.hkTexture&&!0===Ek._server.mapOffsetFixed&&t&&t.image&&((!0===r.g.showGrid||":battleroyale"===Ek._server.gameMode)&&(this.ctx.globalCompositeOperation="destination-over"),this.ctx.drawImage(t.image,~~Ek._server.mapMinX,~~Ek._server.mapMaxY,~~Ek._server.mapMaxX-Ek._server.mapMinX,~~Ek._server.mapMinY-Ek._server.mapMaxY),(!0===r.g.showGrid||":battleroyale"===Ek._server.gameMode)&&(this.ctx.globalCompositeOperation="source-over")),!0===r.g.showBgSectors&&this.drawSectors(this.ctx,Ek._server.mapOffsetFixed,r.t.sectorsX,r.t.sectorsY,Ek._server.mapMinX,Ek._server.mapMinY,Ek._server.mapMaxX,Ek._server.mapMaxY,r.t.gridColor,r.t.sectorsColor,r.t.sectorsWidth,!0);var n=i.a.getTexture(r.w||r.t.customMapLogo);if(n&&n.image){var o=n.image.width,a=n.image.height,s=2.6;this.isInDisplay(Ek._server.mapMidX-o,Ek._server.mapMidY-a,o*s)&&(this.ctx.globalAlpha=r.w?.9:.2,this.ctx.drawImage(n.image,~~Ek._server.mapMidX-o*s>>1,~~Ek._server.mapMidY-a*s>>1,o*s,a*s),this.ctx.globalAlpha=1)}if(!0===r.g.showMapBorders){var l=r.t.bordersWidth>>1;this.drawMapBorders(this.ctx,Ek._server.mapOffsetFixed,Ek._server.mapMinX-l,Ek._server.mapMinY-l,Ek._server.mapMaxX+l,Ek._server.mapMaxY+l,r.t.bordersColor,r.t.bordersWidth)}!0===r.g.virusesRange&&this.drawVirusesRange(this.ctx,this.virusesFrame);for(var c=0,u=Ek.clients.player.length;u>c;c++)this.drawFood(Ek.clients.player[c],c,e);for(var f=0,h=Ek.clients.player.length;h>f;f++){var d=Ek.clients.player[f];if(d&&d.play&&((0==f||r.g.mbMultiSplitRange)&&r.g.splitRange&&(this.drawSplitRange(this.ctx,d,r.s.selectBiggestCell),r.g.doubleSplitRange&&this.drawDoubleSplitRange(this.ctx,d,r.s.selectBiggestCell),r.g.tripleSplitRange&&this.drawTripleSplitRange(this.ctx,d)),0==f&&r.g.oppRings&&this.drawOppRings(this.ctx,this.scale,d),(0==f||r.g.mbMultiCursorTracking)&&r.g.cursorTracking)){var p=d._cursorLocked?d.targetX:d.cursorX,m=d._cursorLocked?d.targetY:d.cursorY;this.drawCursorTracking(this.ctx,d.playerCells,p,m)}}HM.ghostCells.length&&this.drawGhostCells(HM);for(var v=0;this.removedCells.length>v;v++)this.renderedObjects++,this.drawCell(this.removedCells[v],e,Ek.clients.player[0]);if(this.ctx.closePath(),this.ctx.globalAlpha=1,r.g.debug)for(var y=0,g=Ek.clients.render.length;g>y;y++)this.drawViewport(this.ctx,"Bound "+Ek.clients.render[y].ID,Ek.clients.render[y].bound.left,Ek.clients.render[y].bound.bottom,Ek.clients.render[y].bound.right,Ek.clients.render[y].bound.top,"red",20);for(var b=0,w=this.cellsFrame.length;w>b;b++)!1!==this.isInDisplay(this.cellsFrame[b].targetX,this.cellsFrame[b].targetY,this.cellsFrame[b].size)&&(this.renderedObjects++,this.drawCell(this.cellsFrame[b],void 0,Ek.clients.player[0],Ek.multiboxEnabled));this.drawWaves(),this.ctx.restore(),r.g.snowEnabled&&(this.ctx.save(),this.snowDrawer.draw(this.ctx,this.canvasWidth,this.canvasHeight),this.ctx.restore())}function DO(e,t,n,r,o,i,a,s){e.strokeStyle=a,e.lineWidth=s,e.fillStyle="white",e.font="100px sans-serif",e.textAlign="end",e.textBaseline="hanging",e.beginPath(),e.moveTo(n,r),e.lineTo(o,r),e.lineTo(o,i),e.lineTo(n,i),e.closePath(),e.stroke(),e.fillText(t,o,r)}function BO(e,t,n,r,o){e.lineWidth=o,e.strokeStyle=n,e.fillStyle=r,e.font="100px sans-serif",e.textAlign="end",e.textBaseline="hanging",e.beginPath();for(var i=0;t.length>i;i++){var a=t[i][0];e.moveTo(a[0][0],a[0][1]);for(var s=1;s<a.length;s++)e.lineTo(a[s][0],a[s][1]);e.lineTo(a[0][0],a[0][1])}e.stroke(),e.closePath()}function zO(e,t,n){for(var r=!1,o=0,i=n.length-1;o<n.length;i=o++){var a=n[o][0],s=n[o][1],l=n[i][0],c=n[i][1];s>t!=c>t&&e<(l-a)*(t-s)/(c-s)+a&&(r=!r)}return r}function NO(e,t,n,r,o){return(e-n)*(e-n)+(t-r)*(t-r)<=o*o}function HO(e,t,n){return!(e+n<this.cameraBounds.left||t-n>this.cameraBounds.bottom||e-n>this.cameraBounds.right||t+n<this.cameraBounds.top)}function GO(e){return!(e.right<this.cameraBounds.left||e.top<this.cameraBounds.bottom||e.left>this.cameraBounds.right||e.bottom>this.cameraBounds.top)}function qO(e,t,n,r,o,i,a,s){return e<this.cameraBounds.right&&e+n>this.cameraBounds.left&&t<this.cameraBounds.bottom&&t+r>this.cameraBounds.top}function XO(e){return e<=40||this.scale<.5&&e<550&&e<20/this.scale}function WO(e){return e<=40||this.scale<.5&&e<550&&e<27/this.scale}function YO(e){return Math.floor(e*e/100)>183?"#C80000":r.t.virusColor}function VO(e,t){return Math.floor(e*e/100)/(r.s.selectBiggestCell?t.playerMaxMass:t.playerMinMass)>.76?"#FFDC00":"#C80000"}function $O(e,t,n,r,o,i){e.lineWidth=20,e.globalAlpha=o,e.strokeStyle=i,e.beginPath(),e.arc(t,n,r-10,0,this.pi2,!1),e.closePath(),e.stroke(),e.globalAlpha=1}function KO(e,t,n,o,i,a){if(o>=.1){var s=t/o,l=n/o,c=(s/2-i)%50,u=(l/2-a)%50;for(e.globalAlpha=o>=.1?1*o-.1:0,e.strokeStyle=r.t.gridColor,e.beginPath();c<s;c+=50)e.moveTo(c*o-.5,0),e.lineTo(c*o-.5,l*o);for(;u<l;u+=50)e.moveTo(0,u*o-.5),e.lineTo(s*o,u*o-.5);e.stroke(),e.globalAlpha=1}}function ZO(e,t,n,o,i,a,s,l,c,u,f,h){if(t){var d=~~((s-i)/n),p=~~((l-a)/o),m=0,v=0;if(e.strokeStyle=c,e.fillStyle=u,e.lineWidth=f,h||!h&&r.g.showMiniMapGrid){e.beginPath();for(var y=0;y<n+1;y++)m=i+d*y,e.moveTo(y==n?s:m,a),e.lineTo(y==n?s:m,l);for(y=0;y<o+1;y++)v=a+p*y,e.moveTo(i-f/2,y==o?l:v),e.lineTo(s+f/2,y==o?l:v);e.stroke()}else this.drawMapBorders(e,t,i,a,s,l,c,f);e.font=r.h.sectorsfont.fontWeight+" "+r.h.sectorsfontSize+"px "+r.h.sectorsfont.fontFamily,e.textAlign="center",e.textBaseline="middle";for(var g=0;g<o;g++)for(var b=0;b<n;b++)if(this.boxInDisplay(i+b*d,a+g*p,d,p)){var w=r.g.customBgSectorsSymbol||String.fromCharCode(65+g)+(b+1);m=~~(i+d/2+b*d),v=~~(a+p/2+g*p),e.fillText(w,m,v)}}}function QO(e,t,n,r,o,i,a,s){t&&(e.strokeStyle=a,e.lineWidth=s,e.beginPath(),e.moveTo(n,r),e.lineTo(o,r),e.lineTo(o,i),e.lineTo(n,i),e.closePath(),e.stroke())}function JO(e,t,n,o){if(t&&t.length){e.beginPath();for(var i=0;i<t.length;i++){var a=t[i].x,s=t[i].y,l=t[i].size+820;e.moveTo(a,s),e.arc(a,s,l,0,this.pi2,!1)}e.fillStyle=r.t.virusRangeColor,e.globalAlpha=.1,e.fill(),e.globalAlpha=1}}function eR(e,t,n){if(e&&r.g.showFood&&!(r.g.autoHideFoodOnZoom&&this.scale<.2)&&!(r.g.autoHideFood&&e.playerMass>1e3))if(r.g.rainbowFood){for(var o=0;o<e.food.length;o++)this.drawCell(e.food[o],n);this.renderedObjects+=e.food.length}else this.drawCachedFood(this.ctx,e,t)}function tR(e,t,n,r){e.lineWidth=2*r,e.lineCap="round",e.beginPath(),e.moveTo(t,n),e.lineTo(t,n),e.stroke()}function nR(e,t,n,o){var a,s,l,c=this.ctx,u=!1,f=0;if(1!=e.redrawed&&(e.redrawed=!0),t&&(r.g.jellyPhysics&&(e.updateNumPoints(this.scale),e.movePoints(this.quadtree)),e.moveCell(t),e.removed&&(c.globalAlpha=e.alpha,u=!0)),this.scale>.44?(a=e.isFood?e.size+r.h.foodSize:e.size,l=e.x,s=e.y):(a=e.isFood?e.size+r.h.foodSize:~~e.size,s=~~e.y,l=~~e.x),c.beginPath(),r.g.jellyPhysics&&e.points.length&&e.size*this.scale>17){var h=e.points[0];c.moveTo(h.x,h.y);for(var d=0;d<e.points.length;++d)h=e.points[d],c.lineTo(h.x,h.y),e.points[d].rl>f&&(f=e.points[d].rl);c.closePath()}else if(e.isVirus&&r.g.spikedViruses){var p=this.pi2/100;c.moveTo(e.x,e.y+e.size+3);for(d=1;d<100;d++){var m=d*p,v=e.size-3+6*(d%2==0);c.lineTo(e.x+v*Math.sin(m),e.y+v*Math.cos(m))}c.lineTo(e.x,e.y+e.size+3),c.closePath()}else c.arc(l,s,a,0,this.pi2,!0);if(e.isFood)c.fillStyle=e.color,c.fill(),c.globalAlpha=this.startAlpha;else if(e.isVirus){if(r.g.virColors&&e.c.play?(c.fillStyle=this.setVirusColor(e.size),c.strokeStyle=this.setVirusStrokeColor(e.size,e.c)):e.size<=147?(c.fillStyle=r.h.virusColor,c.strokeStyle=r.h.virusStrokeColor):(c.fillStyle=r.h.mothercellColor,c.strokeStyle=r.h.mothercellStrokeColor),r.g.transparentViruses?(c.globalAlpha*=r.h.virusAlpha,c.fill(),c.globalAlpha/=r.h.virusAlpha):c.fill(),c.lineWidth=r.h.virusStrokeSize,c.stroke(),0===r.g.virMassType);else if(3===r.g.virMassType&&e.size<148){var y=3*(e.size-100);y>0&&(c.fillStyle=c.strokeStyle,c.beginPath(),c.arc(e.x,e.y,y,0,this.pi2,!0),c.closePath(),c.fill())}else{if(e.mass=~~(e.size*e.size/100),O=mO.a.mass(e,e.targetSize,this.scale)){var g=O.originW*e.size*r.h.virMassScale,b=O.originH*e.size*r.h.virMassScale;c.drawImage(O,~~(e.x-(g>>1)),~~(e.y-(b>>1)),~~g,~~b)}}c.globalAlpha=this.startAlpha}else{var w=e.isPlayerCell||null!==e.playerOriginTab,k=e.color;w?r.g.myCustomColor&&(k=Ob.mainProfile.color):e.c.play&&r.g.oppColors&&!r.g.oppRings&&(k=e.oppColor);var _=null;if(r.s.showAnySkins&&((_=!!r.g.customSkins&&(i.a.getCustomSkin(e.accountID+e.secureColor)||i.a.getCustomSkin(e.targetNick+e.secureColor)||i.a.getCustomSkin(e.targetNick)))?_.type===_.Types.ANIMATION&&_.animation&&_.animation.isParsed&&(_.animation.move(),_.image=_.animation.c):r.g.vanillaSkins&&(e.hasVanillaNamedSkin?_=i.a.getVanillaSkin(e.nameSkin):e.hasVanillaCustomSkin?_=i.a.getVanillaCustomSkin(e.skin):e.skin&&(_=i.a.getVanillaSkin(e.skin))),_&&_.image&&(_.alphaAverage<200&&(c.fillStyle=k,r.g.transparentCells?(c.globalAlpha*=r.h.cellsAlpha,c.fill(),c.globalAlpha/=r.h.cellsAlpha):c.fill()),((r.g.transparentSkins||e.c.play&&r.g.oppColors)&&(!w||r.g.myTransparentSkin)||w&&r.g.myTransparentSkin&&1!==r.h.skinsAlpha)&&(c.globalAlpha*=r.h.skinsAlpha,u=!0),r.g.jellyPhysics?(c.save(),c.clip(),e.size*this.scale>17?c.drawImage(_.image,0,0,512,512,e.x-f,e.y-f,2*f,2*f):c.drawImage(_.image,0,0,512,512,~~e.x-~~a,~~e.y-~~a,2*~~a,2*~~a),c.restore()):c.drawImage(_.image,l-a,s-a,2*a,2*a),u&&(c.globalAlpha/=r.h.skinsAlpha,u=!1))),_&&_.image||(c.fillStyle=k,r.g.transparentCells?(c.globalAlpha*=r.h.cellsAlpha,c.fill(),c.globalAlpha/=r.h.cellsAlpha):c.fill()),r.g.cellStroke&&e.size>20&&(r.g.cellStrokePlayer&&w?(c.strokeStyle=_&&_.image?_.averageColor:e.strokeColor,c.lineWidth=Math.min(Math.max(~~(e.size/50),4),4),c.stroke(),c.strokeStyle="#FEB201",c.lineWidth=Math.min(Math.max(~~(e.size/50),2),2),c.stroke(),c.strokeStyle="#FFF906",c.lineWidth=Math.min(Math.max(~~(e.size/50),1),1),c.stroke()):(c.strokeStyle=_&&_.image?_.averageColor:e.strokeColor,c.lineWidth=Math.min(Math.max(~~(e.size/50),8),8),c.stroke())),r.g.teammatesInd&&!e.isPlayerCell&&a<=200&&i.a.customSkinMap.has(e.targetNick)&&this.drawTeammatesInd(c,l,s,~~a),r.g.mbRings&&w&&o&&n){var S=a/100*r.h.mbRingWidth;c.lineWidth=S,c.globalAlpha=1,c.strokeStyle=n.ID===e.playerOriginTab?r.h.mboxActiveCellStroke:r.h.mboxUnactiveCellStroke,c.beginPath(),c.arc(l,s,a-S/2,0,this.pi2,!0),c.closePath(),c.stroke(),c.globalAlpha=1}if(r.g.mergeIndicator&&e.isPlayerCell&&n.ID===e.playerOriginTab){e.calcMerge();var C=e.mergeTimeLeft/e.cellMergeFull*2;if(C>=0){var T=Math.PI*(2-C+1.5),x=3.5*Math.PI,P=a/100*15;c.lineCap="round",c.lineWidth=P,c.globalAlpha=1,c.strokeStyle=r.h.mergeIndicatorColor,c.beginPath(),c.arc(e.x,e.y,a-P/2,x,T,!0),c.stroke(),c.closePath(),c.lineCap="square",c.globalAlpha=1}}var M=e.removed||r.g.autoHideNames&&this.setAutoHideCellInfoNick(a),I=e.removed||r.g.autoHideMass&&this.setAutoHideCellInfoMass(a);if(M&&I||a<=40)c.globalAlpha=this.startAlpha;else{1!==r.h.textAlpha&&(c.globalAlpha*=r.h.textAlpha);var O,R=0===r.g.textScaleMode?e.targetSize:a;if(!M&&r.g.showNames&&(!w||!r.g.hideMyName)&&(!_||!r.g.hideTeammatesNames)){var U=mO.a.nick(e.targetNick,a,this.scale);if(U){g=U.originW*R*r.h.namesScale,b=U.originH*R*r.h.namesScale;c.drawImage(U,l-g/2,s-b/2,g,b)}}if(!I&&r.g.showMass&&(!w||!r.g.hideMyMass)&&(!r.g.hideEnemiesMass||w||e.isVirus))if(e.mass=~~(R*R/100),O=mO.a.mass(e,a,this.scale)){g=O.originW*R*r.h.massScale/2,b=O.originH*R*r.h.massScale/2;var A=!r.g.showNames||w&&r.g.hideMyName?s-b/2:a/4+s;c.drawImage(O,l-g/2,A,g,b)}1!==r.h.textAlpha&&(c.globalAlpha=this.startAlpha)}}}function rR(e,t,n){var o=t.food;if(o.length){if(e.beginPath(),e.fillStyle=r.h.foodColor,e.globalAlpha=1,this.scale>.16)for(var i=0,a=o.length;a>i;i++){var s=o[i];this.reverseCheckView(s,n)||(this.renderedObjects++,e.moveTo(~~s.targetX,~~s.targetY),e.arc(~~s.targetX,~~s.targetY,~~s.foodSize,0,this.pi2,!1))}else for(var l=0,c=o.length;c>l;l++){var u=o[l];this.reverseCheckView(u,n)||(this.renderedObjects++,e.rect(~~(u.targetX-u.foodSize),~~(u.targetY-u.foodSize),u.foodSize<<1,u.foodSize<<1))}e.closePath(),e.fill()}}function oR(e,t,n){for(var o=[t.biggerHSTECellsCache,t.biggerDSTECellsCache,t.biggerSTECellsCache],i=0;i<o.length;i++)this.drawCircles(e,o[i],760,4,.4,r.h.bSTEColor,1);var a=t.playerCells;if(a.length){var s=n?a.length-1:0;e.lineWidth=6,e.globalAlpha=r.h.darkTheme?.7:.35,e.strokeStyle=r.h.splitRangeColor,e.beginPath(),e.arc(a[s].x,a[s].y,a[s].size+760,0,this.pi2,!1),e.closePath(),e.stroke()}e.globalAlpha=1}function iR(e,t,n){for(var o=[t.biggerHSTECellsCache,t.biggerDSTECellsCache],i=0;i<o.length;i++)this.drawCircles(e,o[i],760,4,.4,r.h.bDSTEColor,2);var a=t.playerCells;if(a.length){var s=n?a.length-1:0;if(a[s].size*a[s].size/100<666)return;e.lineWidth=4,e.globalAlpha=r.h.darkTheme?.7:.35,e.strokeStyle=r.h.splitRangeColor,e.beginPath(),e.arc(a[s].x,a[s].y,2*a[s].size+760,0,this.pi2,!1),e.closePath(),e.stroke()}e.globalAlpha=1}function aR(e,t){this.drawCircles(e,t.biggerHSTECellsCache,760,4,.4,r.h.bHSTEColor,3),e.globalAlpha=1}function sR(e,t,n){for(var o=14+2/t,i=12+1/t,a=[n.biggerHSTECellsCache,r.h.bHSTEColor,n.biggerDSTECellsCache,r.h.bDSTEColor,n.biggerSTECellsCache,r.h.bSTEColor,n.biggerCellsCache,r.h.bColor,n.smallerCellsCache,r.h.sColor,n.smallerSTECellsCache,r.h.sSTEColor,n.smallerDSTECellsCache,r.h.sDSTEColor,n.smallerHSTECellsCache,r.h.sHSTEColor],s=0;s<a.length;s+=2)this.drawCircles(e,a[s],o,i,.75,a[s+1],1)}function lR(e,t,n,o){e.lineWidth=r.h.cursorTrackingSize,e.strokeStyle=r.h.cursorTrackingColor;for(var i=0;i<t.length;i++)e.beginPath(),e.moveTo(n,o),e.lineTo(t[i].x,t[i].y),e.stroke(),e.closePath()}function cR(e,t,n,r,o,i,a){e.lineWidth=r,e.globalAlpha=o,e.strokeStyle=i;for(var s=0;s<t.length;s++)e.beginPath(),e.arc(t[s].x,t[s].y,a*t[s].size+n,0,this.pi2,!1),e.stroke(),e.closePath();e.globalAlpha=1}function uR(e,t,n,r){this.indicator&&e.drawImage(this.indicator,t-45,n-r-90)}function fR(){for(var e=Ek.waves,t=e.length;t--;){var n=e[t];if(n.move(),n.duration<n.delta)e.splice(t,1);else if(!(1>n.delta)){var r=n.r*n.delta/n.duration;this.ctx.globalAlpha=333<r?(n.r-r)/n.fadeTime:1;var o=this.ctx.createRadialGradient(n.x,n.y,.7*r,n.x,n.y,r);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,n.color),this.ctx.fillStyle=o,this.ctx.beginPath(),this.ctx.arc(n.x,n.y,r,0,this.pi2,!0),this.ctx.closePath(),this.ctx.fill()}}}function hR(e,t,n,o,i,a,s,l,c){var u=Ek.getActiveTab();if(u.battleRoyale.state){var f=(u.battleRoyale.x+a)*l,h=(u.battleRoyale.y+s)*c,d=u.battleRoyale.radius*l;this.drawDangerArea(this.ctx,f,h,d,t,n,o,i,r.h.dangerAreaColor,.25),f=~~((u.battleRoyale.targetX+a)*l),h=~~((u.battleRoyale.targetY+s)*c),d=~~(u.battleRoyale.targetRadius*l),this.drawSafeArea(this.ctx,f,h,d,20,r.h.safeAreaColor)}}function dR(e,t,n,r,o,i,a,s,l,c){var u=Ek.getActiveTab();u.battleRoyale.radius==u.battleRoyale.maxRadius||r<=0||(e.save(),e.globalAlpha=c,e.fillStyle=l,e.fillRect(o,i,a,s),e.globalCompositeOperation="destination-out",e.globalAlpha=1,e.beginPath(),e.arc(t,n,r,0,this.pi2,!1),e.fill(),e.restore())}function pR(e,t,n,r,o,i){Ek.getActiveTab().battleRoyale.state>2||r<=0||this.drawDashedCircle(e,t,n,r,60,o,i)}function mR(e,t,n,r,o,i,a){var s=this.pi2/o;e.lineWidth=i,e.strokeStyle=a;for(var l=0;l<o;l+=2)e.beginPath(),e.arc(t,n,r-i/2,l*s,(l+1)*s,!1),e.stroke()}function vR(e,t){if(r.g.showGhostCells){var n=e.ghostCells;this.ctx.beginPath();for(var o=0;o<n.length;o++)if(!n[o].inView){var i=n[o].x,a=n[o].y;this.isInDisplay(i,a,n[o].size)&&(n.inView||(this.renderedObjects++,this.ctx.moveTo(i,a),this.ctx.arc(i,a,n[o].size,0,this.pi2,!1)))}this.ctx.fillStyle=r.h.ghostCellsColor,this.ctx.globalAlpha=r.h.ghostCellsAlpha,this.ctx.shadowColor=r.h.ghostCellsColor,this.ctx.shadowBlur=40,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.fill(),this.ctx.globalAlpha=1,this.ctx.shadowBlur=0;for(var s=0;s<n.length;s++)if(!n[s].inView){var l=n[s].x,c=n[s].y;if(this.isInDisplay(l,c,n[s].size)&&!n.inView&&(this.renderedObjects++,r.g.ghostCellsNames)){var u=mO.a.nick(n[s].name,n[s].size,this.scale);if(u){var f=u.originW*n[s].size*r.h.namesScale,h=u.originH*n[s].size*r.h.namesScale;this.ctx.drawImage(u,l-(f>>1),c-(h>>1),f,h)}}}}}function yR(){this.pellet=null;var e=10+r.h.foodSize,t=document.createElement("canvas");t.width=2*e,t.height=2*e;var n=t.getContext("2d");n.arc(e,e,e,0,this.pi2,!1),n.fillStyle=r.h.foodColor,n.fill(),this.pellet=new Image,this.pellet.src=t.toDataURL(),t=null}function gR(){this.indicator=null;var e=document.createElement("canvas");e.width=90,e.height=50;var t=e.getContext("2d");t.lineWidth=2,t.fillStyle=r.h.teammatesIndColor,t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,0),t.lineTo(90,0),t.lineTo(45,50),t.closePath(),t.fill(),t.stroke(),this.indicator=new Image,this.indicator.src=e.toDataURL(),e=null}function bR(e){this.updateScene(e.delta),this.renderFrame(e.delta)}function wR(){var e=this;r.n.on("hk-resetZoom:down",(function(t){e.zoomValue=.25})),r.n.on("hk-zoom1:down",(function(t){e.zoomValue=.5})),r.n.on("hk-zoom2:down",(function(t){e.zoomValue=.25})),r.n.on("hk-zoom3:down",(function(t){e.zoomValue=.125})),r.n.on("hk-zoom4:down",(function(t){e.zoomValue=.075})),r.n.on("hk-zoom5:down",(function(t){e.zoomValue=.035})),r.n.on("hk-undefined:down",(function(t){e._scantrickEnabled=!0})),r.n.on("hk-undefined:up",(function(t){e._scantrickEnabled=!1})),r.n.on("hk-switchPlayer:down",(function(t){!r.o.mbCenterCamera&&r.o.mbSkipCameraScroll&&(e.skipCameraAnimation=!0)})),r.n.on("hk-customMapTexture:down",(function(t){e.hkTexture=!e.hkTexture})),r.n.on("LEFT MOUSE:down",(function(t){var n=Ek.getActiveTab();e.setCursorPosition(n);var r=n.findCell(n.cursorX,n.cursorY);if(n.isFreeSpectate)if(r)n.isInViewport2(r)&&n.spectateTo(r);else{n.isInViewport(n.cursorX,n.cursorY,1);n.spectateTo()}}))}function kR(){var e=this;function t(){e.resizeCanvas(),e.setCanvasAntialiasing(r.o.antialiasing)}window.addEventListener("resize",(function(){o.a.once("update",t)})),/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",this.setZoom.bind(this)):document.body.onmousewheel=this.setZoom.bind(this);function n(){e.setCanvas(),e.resizeCanvas()}window.addEventListener("mousemove",(function(t){if(e.mouseClientX=t.clientX*(window.devicePixelRatio*r.o.canvasScale),e.mouseClientY=t.clientY*(window.devicePixelRatio*r.o.canvasScale),r.o.mbFollowMouse){var n,o=vO(Ek.clients.player);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.setCursorPosition(i)}}catch(e){o.e(e)}finally{o.f()}}else{var a=Ek.getActiveTab();a&&e.setCursorPosition(a)}})),r.o.on("antialiasing",(function(){return e.setCanvasAntialiasing(r.o.antialiasing)}))(),r.o.on("canvasScale",(function(){o.a.once("update",n)}))}function _R(){var e=this;this.setCanvas(),this.resizeCanvas(),this.initHK(),this.initEvents(),r.o.on("snowCount",(function(t){e.snowDrawer.setCount(r.o.snowCount)}))(),r.t.on("foodColor","foodSize",(function(){e.preDrawPellet()})),r.t.on("teammatesIndColor",(function(){e.preDrawIndicator()})),this.preDrawPellet(),this.preDrawIndicator(),o.a.on("render",(function(t){e.render(t)})),Ek.on("initClient",(function(t){t.on("removeCell",(function(n,r){0===t.TYPE&&n.redrawed&&e.removedCells.push(n)}))}))}var SR=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camX=0,this.camY=0,this.cameraBounds={left:0,right:0,top:0,bottom:0},this.scale=1,this.zoomValue=.16,this.skipCameraAnimation=!1,this.mouseClientX=0,this.mouseClientY=0,this.mouseServerX=0,this.mouseServerY=0,this.canvas=null,this.canvasWidth=0,this.canvasHeight=0,this._scantrickEnabled=!1,this.pi2=2*Math.PI,this.ctx=null,this.pellet=null,this.indicator=null,this.snowDrawer=new pO,this.startAlpha=1,this.quadtree=null,this.renderedObjects=0,this.hkTexture=!0,this.cellsFrame=[],this.foodFrame=[],this.virusesFrame=[],this.removedCells=[]}var t,n,r;return t=e,(n=[{key:"setCursorPosition",value:bO},{key:"setCursorPositionKeepPos",value:wO},{key:"setZoom",value:kO},{key:"getZoom",value:_O},{key:"setView",value:SO},{key:"calcCameraBounds",value:CO},{key:"calcScale",value:TO},{key:"zIndexSortCellsLayer",value:xO},{key:"setCanvas",value:PO},{key:"setCanvasSmoothing",value:MO},{key:"setCanvasAntialiasing",value:IO},{key:"resizeCanvas",value:OO},{key:"updateQuadtree",value:RO},{key:"calcAutoScale",value:UO},{key:"reverseCheckView",value:AO},{key:"sleep",value:EO},{key:"updateScene",value:LO},{key:"postRender",value:FO},{key:"renderFrame",value:jO},{key:"drawViewport",value:DO},{key:"drawPolygon",value:BO},{key:"poinInPolygon",value:zO},{key:"pointInCircle",value:NO},{key:"isInDisplay",value:HO},{key:"viewportInDisplay",value:GO},{key:"boxInDisplay",value:qO},{key:"setAutoHideCellInfoNick",value:XO},{key:"setAutoHideCellInfoMass",value:WO},{key:"setVirusColor",value:YO},{key:"setVirusStrokeColor",value:VO},{key:"drawRing",value:$O},{key:"drawGrid",value:KO},{key:"drawSectors",value:ZO},{key:"drawMapBorders",value:QO},{key:"drawVirusesRange",value:JO},{key:"drawFood",value:eR},{key:"drawCircle",value:tR},{key:"drawCell",value:nR},{key:"drawCachedFood",value:rR},{key:"drawSplitRange",value:oR},{key:"drawDoubleSplitRange",value:iR},{key:"drawTripleSplitRange",value:aR},{key:"drawOppRings",value:sR},{key:"drawCursorTracking",value:lR},{key:"drawCircles",value:cR},{key:"drawTeammatesInd",value:uR},{key:"drawWaves",value:fR},{key:"drawBattleroyaleArea",value:hR},{key:"drawDangerArea",value:dR},{key:"drawSafeArea",value:pR},{key:"drawDashedCircle",value:mR},{key:"drawGhostCells",value:vR},{key:"preDrawPellet",value:yR},{key:"preDrawIndicator",value:gR},{key:"render",value:bR},{key:"initHK",value:wR},{key:"initEvents",value:kR},{key:"init",value:_R}])&&gO(t.prototype,n),r&&gO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),CR={},TR=[],xR={};function PR(e){this.init(e||{})}function MR(e){this.phase=e.phase||0,this.offset=e.offset||0,this.frequency=e.frequency||.001,this.amplitude=e.amplitude||1}function IR(e){this.init(e||{})}function OR(){this.x=0,this.y=0,this.vy=0,this.vx=0}function RR(e){this.spring=e.spring+.1*Math.random()-.05,this.friction=xR.friction+.01*Math.random()-.005,this.nodes=[];for(var t,n=0;n<xR.size;n++)(t=new OR).x=CR.x,t.y=CR.y,this.nodes.push(t)}function UR(){var e=this.spring,t=this.nodes[0];t.vx+=(CR.x-t.x)*e,t.vy+=(CR.y-t.y)*e;for(var n,r=0,o=this.nodes.length;r<o;r++)t=this.nodes[r],r>0&&(n=this.nodes[r-1],t.vx+=(n.x-t.x)*e,t.vy+=(n.y-t.y)*e,t.vx+=n.vx*xR.dampening,t.vy+=n.vy*xR.dampening),t.vx*=this.friction,t.vy*=this.friction,t.x+=t.vx,t.y+=t.vy,e*=xR.tension}function AR(){var e,t,n=this.nodes[0].x,r=this.nodes[0].y;SR.ctx.beginPath(),SR.ctx.moveTo(n,r);for(var o=1,i=this.nodes.length-2;o<i;o++)e=this.nodes[o],t=this.nodes[o+1],n=.5*(e.x+t.x),r=.5*(e.y+t.y),SR.ctx.quadraticCurveTo(e.x,e.y,n,r);e=this.nodes[o],t=this.nodes[o+1],SR.ctx.quadraticCurveTo(e.x,e.y,t.x,t.y),SR.ctx.stroke(),SR.ctx.closePath()}function ER(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}xR.debug=!1,xR.friction=.4,xR.trails=5,xR.size=3,xR.dampening=.001,xR.tension=1,Math.TWO_PI=2*Math.PI,PR.prototype=function(){var e=0;return{init:MR,update:function(){return this.phase+=this.frequency,e=this.offset+Math.sin(this.phase)*this.amplitude},value:function(){return e}}}(),IR.prototype={init:RR,update:UR,draw:AR},window.onload=function(){new PR({phase:Math.random()*Math.TWO_PI,amplitude:85,frequency:.0115,offset:285}),CR.x=Math.random()*Ek.server.mapSizeH,CR.y=Math.random()*Ek.server.mapSizeV,function(){TR=[],window.tendrils=TR;for(var e=0;e<xR.trails;e++)TR.push(new IR({spring:.45+e/xR.trails*.025}))}()};var LR=PIXI;function FR(e){this.pi2=2*Math.PI,this.render=e,this.virusCell=this.circle(64,0),this.virusRange=this.circle(256,0),this.virusRange.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,this.virusRange.baseTexture.mipmap=0,this.virusTension=this.circle(128,0),this.virusTension.mipmap=1,this.cellRing=this.circle(256,12),this.cellRange=this.circle(1024,2),this.cellRange.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,this.cellRange.baseTexture.mipmap=0,this.ownRange=this.circle(512,4),this.virusBorder=this.circle(128,16),this.food=this.circle(16,0),this.indicator=this.drawIndicator(),this.ghostCell=this.circle(32,0),this.cell=this.preDrawCell(),this.wave=this.preDrawWave(),this.pellet=this.preDrawPellet()}function jR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new LR.Graphics;n.filters=[new PIXI.filters.BlurFilter(1)],t?(n.lineStyle(t,16777215),n.drawCircle(0,0,e)):(n.beginFill(16777215),n.drawCircle(0,0,e),n.endFill());var r=this.render.generateTexture(n);return r.baseTexture.mipmap=2,r.ratioSize=1/r.orig.width,r.thick=t,r.size=e,r}function DR(){var e=new LR.Graphics;return e.beginFill(16777215),e.moveTo(-45,-25),e.lineTo(0,25),e.lineTo(45,-25),e.lineTo(-70),this.render.generateTexture(e)}function BR(){}function zR(){var e=document.createElement("canvas");e.width=512,e.height=512;var t=e.getContext("2d"),n=e.width/2,r=e.height/2,o=t.createRadialGradient(n,r,0,n,r,256);o.addColorStop(0,"rgba(220, 220, 220,1)"),o.addColorStop(1,"rgba(255,255,255,1)"),t.fillStyle=o,t.beginPath(),t.arc(n,r,256,0,this.pi2,!0),t.closePath(),t.fill();var i=PIXI.Texture.from(e);return i.defaultAnchor.set(.5,.5),i.ratioSize=1/i.orig.width,i}function NR(){var e=document.createElement("canvas");e.width=512,e.height=512;var t=e.getContext("2d"),n=t.createRadialGradient(256,256,179.2,256,256,256);return n.addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(255,255,255,1)"),t.fillStyle=n,t.beginPath(),t.arc(256,256,256,0,this.pi2,!0),t.closePath(),t.fill(),this.wave=PIXI.Texture.from(e),this.wave}function HR(){var e=document.createElement("canvas");e.width=20,e.height=20;var t=e.getContext("2d");return t.arc(10,10,10,0,this.pi2,!1),t.fillStyle="#ffffff",t.fill(),this.pellet=PIXI.Texture.from(e),this.pellet}var GR=window.sprites=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:FR},{key:"circle",value:jR},{key:"drawIndicator",value:DR},{key:"preDrawVirus",value:BR},{key:"preDrawCell",value:zR},{key:"preDrawWave",value:NR},{key:"preDrawPellet",value:HR}])&&ER(t.prototype,n),r&&ER(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function qR(e){return(qR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YR(e,t,n){return t&&WR(e.prototype,t),n&&WR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$R(e,t)}function $R(e,t){return($R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=QR(e);if(t){var o=QR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZR(this,n)}}function ZR(e,t){if(t&&("object"===qR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function QR(e){return(QR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var JR=PIXI;function eU(e){if(null!==this.cell.fadeOutStartTime&&!1===this.firstDrawed)return this.selfRemove();//!application.reverseCheckView(this.cell, this.cell.c.indexPosition) 
if(!1===r.g.showFood)return null!==this.cell.fadeOutStartTime?this.selfRemove():void 0;if(!this.firstDrawed&&null!==e&&this.firstDraw(),null!==this.cell.fadeOutStartTime){if(!1===r.g.showFood)return this.selfRemove();if(null!==this.cell.fadeInStartTime&&!1===this.updated)return this.selfRemove();var t=0<this.cell.fadeOutStartTime?Math.max(1-(o.a.runtime-this.cell.fadeOutStartTime)/(this.cell.isFood?1.9*r.g.animation:r.g.animation),0):1;if(this.alpha=t,t<=0)return this.selfRemove()}else if(null!==this.cell.fadeInStartTime){var n=(o.a.runtime-this.cell.fadeInStartTime)/(1.9*r.g.animation);this.alpha=n<1?n:1,n>=1&&(this.cell.fadeInStartTime=null)}this.cell.moveCell(e),this.syncCellPosition()}function tU(){this.roundPixels=!0,this.texture=GR.pellet,this.anchor.set(.5,.5),this.isInitialized=!0}function nU(){!1===this.isInitialized&&this.initDraw(),this.visible=!0,this.reDrawSize(),this.reDrawTint(),this.updated=!0,this.firstDrawed=!0}function rU(){this.position.set(this.cell.x,this.cell.y),this.updated}function oU(){this.tint=r.g.rainbowFood?th.colorAnyTransformCallBack(this.cell.color,"cursor").decimal:th.colorAnyTransformCallBack(r.t.foodColor,"cursor").decimal}function iU(){var e=1/this.texture.orig.width*(2*(this.cell.size+r.h.foodSize));this.scale.set(e)}function aU(){this.alpha=r.g.showFood}function sU(){this.cell=null,this.updated=!1,this.firstDrawed=!1}function lU(){this.destroy(),this.removeChild(this.colorLayer)}function cU(){this.parent.removeChild(this),this.pool.releaseElement(this),this.reset()}var uU=function(e){VR(n,e);var t=KR(n);function n(){var e;return XR(this,n),(e=t.call(this)).texture=null,e.updated=!1,e.firstDrawed=!1,e.isInitialized=!1,e.cell,e}return YR(n,[{key:"animate",value:eU},{key:"initDraw",value:tU},{key:"firstDraw",value:nU},{key:"syncCellPosition",value:rU},{key:"reDrawTint",value:oU},{key:"reDrawSize",value:iU},{key:"redrawVisibility",value:aU},{key:"reset",value:sU},{key:"remove",value:lU},{key:"selfRemove",value:cU}]),n}(JR.Sprite);function fU(){this.roundPixels=!0,this.drawColorLayer(),this.isInitialized=!0}function hU(){0==this.isInitialized&&this.initDraw(),this.visible=!1,this.reDrawTintAlpha(),this.drawSkin(),this.reDrawNick(),this.reDrawMass(),this.drawMBShield(),this.updated=!0,this.firstDrawed=!0}function dU(e){this.colorLayer=new JR.Sprite,this.colorLayer.anchor.set(.5,.5),this.colorLayer.zOrder=1,this.addChild(this.colorLayer),this.colorLayer.scale.set(GR.cell.ratioSize*this.basicSize),this.colorLayer.texture=GR.cell}function pU(){if(this.colorLayer){var e=th.colorAnyTransformCallBack(this.cell.color,"cursor").decimal;this.colorLayer.tint=e,this.colorLayer.alpha=r.h.cellsAlpha}}function mU(e){var t=this;if(this.cell&&"cell"===this.cell.type&&(this.skinLayer&&this.removeChild(this.skinLayer),this.colorLayer&&(this.colorLayer.visible=!0),0!=r.s.showAnySkins)){var n=!!r.g.customSkins&&(i.a.getCustomSkin(this.cell.accountID+this.cell.secureColor)||i.a.getCustomSkin(this.cell.targetNick+this.cell.secureColor)||i.a.getCustomSkin(this.cell.targetNick));if(n||(this.cell.hasVanillaNamedSkin&&r.g.vanillaSkins?n=i.a.getVanillaSkin(this.cell.nameSkin):this.cell.hasVanillaCustomSkin&&r.g.vanillaSkins?n=i.a.getVanillaCustomSkin(this.cell.skin):this.cell.skin&&r.g.vanillaSkins&&(n=i.a.getVanillaSkin(this.cell.skin))),n.bitmap){this.skinLayer=new JR.Sprite,this.addChild(this.skinLayer),this.skinLayer.anchor.set(.5,.5);var o=this.basicSize/n.bitmap.orig.width;this.skinLayer.scale.set(o),this.skinLayer.zOrder=3,this.skinLayer.texture=n.bitmap,n.alphaAverage>199&&(this.colorLayer.visible=!1),this.reDrawSkinAlpha()}!1!==n&&null===n.bitmap&&i.a.once(n.name,(function(e){e.bitmap&&(t.drawSkin(),t.sortChildren())}))}}function vU(){this.skinLayer&&(this.skinLayer.alpha=r.h.skinsAlpha)}function yU(){if(this.nick&&(this.removeChild(this.nick),this.nick.destroy(),this.nick=null),r.g.showNames){if(!this.nick){var e=mO.a.nick(this.cell.targetNick,1024,.25);e&&(this.nick=new JR.Sprite(e.bitmap),this.addChild(this.nick),this.nick.anchor.set(.5,.5),this.nick.scale.set(1/512*this.basicSize),this.nick.zOrder=4)}this.nick&&(this.nick.alpha=r.h.textAlpha)}}function gU(){this.nick&&(this.nick.visible=!this.setAutoHideCellInfoNick())}function bU(){this.removeChild(this.mass),r.g.showMass&&(this.mass=new JR.BitmapText("0",{fontName:"Mass"}),this.addChild(this.mass),this.mass.anchor.set(.5,.5),this.mass.zOrder=5,this.mass.style=UL.massStyle,this.mass.alpha=r.h.textAlpha,this.rePositionScaleMass())}function wU(){this.mass&&(this.mass.position.set(0,r.o.showNames?this.basicSize/6:0),this.mass.scale.set(1/512*this.basicSize*r.h.massScale*1.5))}function kU(){if(this.setAutoHideCellInfoMass(this.cell.targetSize))this.mass.visible=!1;else{this.mass.visible=!0;var e=~~(this.cell.size*this.cell.size/100),t=r.g.shortMass&&999<e?this.shortMassFormat(e):e;this.mass.text=t}}function _U(e){if(null!==this.cell.fadeOutStartTime&&!this.firstDrawed)return this.selfRemove();if(!this.firstDrawed&&this.firstDraw(),null!==this.cell.fadeOutStartTime){if(null!==this.cell.fadeInStartTime&&!1===this.updated)return this.selfRemove();var t=0<this.cell.fadeOutStartTime?Math.max(1-(o.a.runtime-this.cell.fadeOutStartTime)/r.g.animation*1,0):1;if(this.alpha=t,t<=0)return this.selfRemove()}this.cell.moveCell(e),this.visible=this.cell.c.isInDisplayCached&&null!==this.cell.c.indexPosition&&!Ek.reverseCheckView(this.cell,this.cell.c.indexPosition),this.updateObject()}function SU(){this.position.x=this.cell.x,this.position.y=this.cell.y;var e=1/this.basicSize*(2*this.cell.size);this.scale.set(e),this.drawCursorLine();var t=Ek.clients.player[0].ID==this.cell.playerOriginTab?r.h.mboxActiveCellStroke:r.h.mboxUnactiveCellStroke;t!==this.currentShieldColor&&(this.currentShieldColor=t,this.updMBShieldColor()),this.multiShield&&(this.multiShield.visible=Ek.multiboxEnabled,this.updMBShieldPosition()),this.updateCircles(),this.mass&&this.updateMass(),this.nick&&this.updateNick(),!this.updated&&(this.updated,this.visible=!0)}function CU(){if(this.cell.isPlayerCell&&r.g.cursorTracking&&(r.g.mbMultiCursorTracking||Ek.getActiveTab().indexPosition===this.cell.c.indexPosition)&&!this.cell.removed){var e=th.colorAnyTransformCallBack(r.h.cursorTrackingColor,"cursor");UL.cursorlinesLayer.lineStyle(r.h.cursorTrackingSize,e.decimal,e.alpha),UL.cursorlinesLayer.moveTo(this.cell.x,this.cell.y),this.cell.c._cursorLocked?UL.cursorlinesLayer.lineTo(this.cell.c.targetX,this.cell.c.targetY):UL.cursorlinesLayer.lineTo(this.cell.c.cursorX,this.cell.c.cursorY)}}function TU(){if(this.cell.isPlayerCell){var e=i.a.getTexture("https://i.imgur.com/DgqZdQS.png");e&&e.bitmap&&(this.multiShield=new JR.Sprite(e.bitmap),this.multiShield.anchor.set(.5,.5),this.updMBShieldColor(),this.updMBShieldPosition(),UL.multiboxshieldLayer.addChild(this.multiShield))}}function xU(){var e=1.5*this.cell.size;this.multiShield.position.x=this.cell.x,this.multiShield.position.y=this.cell.y,this.multiShield.width=2*e,this.multiShield.height=2*e}function PU(){var e=this.cell.isPlayerCell||null!==this.cell.playerOriginTab;!this.multiShield&&e&&this.drawMBShield(),this.multiShield&&(this.multiShield.tint=th.colorAnyTransformCallBack(this.currentShieldColor,"cursor").decimal)}function MU(e){var t=e.targetSize*e.targetSize/100/(r.s.selectBiggestCell?Ek.getActiveTab().playerMaxMass:Ek.getActiveTab().playerMinMass),n=t>=4/3*8?[8,r.h.bHSTEColor]:t>=4/3*4?[4,r.h.bDSTEColor]:t>=4/3*2?[2,r.h.bSTEColor]:t>=4/3?[1.5,r.h.bColor]:t<.75/8?[.125,r.h.sHSTEColor]:t<.1875?[.25,r.h.sDSTEColor]:t<.375?[.5,r.h.sSTEColor]:t<.75?[.75,r.h.sColor]:[1,r.h.eColor];return{val:n[0],col:n[1]}}function IU(){var e=Ek.getActiveTab();if(e.play&&this.cell.c.indexPosition===e.indexPosition&&(r.g.oppRings||r.g.splitRange||r.g.oppColors)){var t,n=this.cell.size,o=null;if(!this.cell.isPlayerCell&&r.g.oppRings&&(o=this.classify(this.cell))&&1!=o.val&&e){this.ring||(this.ring=this.reDrawDelegatedSprite(UL.ringsLayer,GR.cellRing));var i=(n+(2+GR.cellRing.thick*n/(GR.cellRing.baseTexture.width/2))+2/UL.scale)/(GR.cellRing.baseTexture.width/2);this.ring.tint=th.colorAnyTransformCallBack(o.col,"cursor").decimal,this.updDelegatedPosition(this.ring,i)}else this.remDelegatedSprite(UL.ringsLayer,this.ring),this.ring=null;if(o=null!==(t=o)&&void 0!==t?t:this.classify(this.cell),r.g.splitRange&&(1==o.val&&this.cell.isPlayerCell&&(r.s.selectBiggestCell&&this.cell==e.playerCells[e.playerCells.length-1]||!r.s.selectBiggestCell&&this.cell==e.playerCells[0])||o.val>=2&&!this.cell.isPlayerCell)){var a,s=r.h.darkTheme?.7:.35;a=1==o.val?th.colorAnyTransformCallBack(r.h.splitRangeColor,"cursor").decimal:th.colorAnyTransformCallBack(r.h.bSTEColor,"cursor").decimal,this.range1||(this.range1=this.reDrawDelegatedSprite(UL.rangesLayer,GR.cellRange)),this.range1.alpha=s,this.range1.tint=a;var l=(this.cell.size+760)/GR.cellRange.size;return this.updDelegatedPosition(this.range1,l),r.g.doubleSplitRange&&o.val>=4?(this.range2||(this.range2=this.reDrawDelegatedSprite(UL.rangesLayer,GR.cellRange)),this.range2.alpha=s,this.range2.tint=th.colorAnyTransformCallBack(r.h.bDSTEColor,"cursor").decimal,this.updDelegatedPosition(this.range2,(2*this.cell.size+760)/GR.cellRange.size)):(this.remDelegatedSprite(UL.rangesLayer,this.range2),this.range2=null),void(r.g.tripleSplitRange&&o.val>=8?(this.range3||(this.range3=this.reDrawDelegatedSprite(UL.rangesLayer,GR.cellRange)),this.range3.alpha=s,this.range3.tint=th.colorAnyTransformCallBack(r.h.bHSTEColor,"cursor").decimal,this.updDelegatedPosition(this.range3,(3*n+760)/GR.cellRange.size)):(this.remDelegatedSprite(UL.rangesLayer,this.range3),this.range3=null))}return this.remDelegatedSprite(UL.rangesLayer,this.range1),this.remDelegatedSprite(UL.rangesLayer,this.range2),this.remDelegatedSprite(UL.rangesLayer,this.range3),this.range1=null,this.range2=null,void(this.range3=null)}this.remDelegatedSprite(UL.ringsLayer,this.ring),this.remDelegatedSprite(UL.rangesLayer,this.range1),this.remDelegatedSprite(UL.rangesLayer,this.range2),this.remDelegatedSprite(UL.rangesLayer,this.range3),this.ring=null,this.range1=null,this.range2=null,this.range3=null}function OU(e,t){var n=new JR.Sprite;return n.origin=this,n.anchor.set(.5,.5),n.texture=t,e.addChild(n),n.parent,n}function RU(e,t){e.position.x=this.cell.x,e.position.y=this.cell.y,e.scale.set(t)}function UU(e,t){t&&e.removeChild(t)}function AU(){this.cursorLineSprite&&(UL.cursorlinesLayer.removeChild(this.cursorLineSprite),this.cursorLineSprite=null),this.multiShield&&(UL.multiboxshieldLayer.removeChild(this.multiShield),this.multiShield=null),this.remDelegatedSprite(UL.ringsLayer,this.ring),this.ring=null,this.remDelegatedSprite(UL.rangesLayer,this.range1),this.range1=null,this.remDelegatedSprite(UL.rangesLayer,this.range2),this.range2=null,this.remDelegatedSprite(UL.rangesLayer,this.range3),this.range3=null}function EU(){this.skinLayer&&(this.removeChild(this.skinLayer),this.skinLayer=null),this.nick&&(this.nick.destroy(),this.nick=null),this.mass&&(this.mass.destroy(),this.mass=null)}function LU(){this.cell=null,this.updated=!1,this.firstDrawed=!1,this.colorLayer&&(this.colorLayer.visible=!0),this.nick&&(this.removeChild(this.nick),this.nick.destroy(),this.nick=null),this.mass&&(this.removeChild(this.mass),this.mass.destroy(),this.mass=null),this.skinLayer&&(this.removeChild(this.skinLayer),this.skinLayer.destroy(),this.skinLayer=null),this.alpha=1,this.removeSelfObjects()}function FU(){this.removeDepedencies(),this.parent.removeChild(this),this.pool.releaseElement(this),this.reset()}function jU(e){if(e<1e3)return e;var t=Math.round(e/100)/10;return"".concat(t%1==0?t+".0":t,"k")}function DU(){return this.cell.size<=40||this.cell.size<25/this.ikRen.scale}function BU(){return this.cell.size<=40||this.cell.size<35/this.ikRen.scale}function zU(){var e,t,n,r=this.children,o=r.length;for(e=1;e<o;e++){for(n=r[e],t=e-1;t>=0;){if(n.zOrder<r[t].zOrder)r[t+1]=r[t];else{if(!(n.zOrder===r[t].zOrder&&n.arrivalOrder<r[t].arrivalOrder))break;r[t+1]=r[t]}t--}r[t+1]=n}}var NU=function(e){VR(n,e);var t=KR(n);function n(e){var r;return XR(this,n),(r=t.call(this)).updated=!1,r.firstDrawed=!1,r.isInitialized=!1,r.basicSize=20,r.ikRen=e,r.cell,r.cursorLineSprite=null,r.multiShield=null,r.currentShieldColor=null,r.nick=null,r.mass=null,r.colorLayer=null,r.skinLayer=null,r.ring=null,r.range1=null,r.range2=null,r.range3=null,r.skinListener=null,r}return YR(n,[{key:"initDraw",value:fU},{key:"firstDraw",value:hU},{key:"drawColorLayer",value:dU},{key:"reDrawTintAlpha",value:pU},{key:"drawSkin",value:mU},{key:"reDrawSkinAlpha",value:vU},{key:"reDrawNick",value:yU},{key:"updateNick",value:gU},{key:"reDrawMass",value:bU},{key:"rePositionScaleMass",value:wU},{key:"updateMass",value:kU},{key:"animate",value:_U},{key:"updateObject",value:SU},{key:"drawCursorLine",value:CU},{key:"drawMBShield",value:TU},{key:"updMBShieldPosition",value:xU},{key:"updMBShieldColor",value:PU},{key:"classify",value:MU},{key:"updateCircles",value:IU},{key:"reDrawDelegatedSprite",value:OU},{key:"updDelegatedPosition",value:RU},{key:"remDelegatedSprite",value:UU},{key:"removeDepedencies",value:AU},{key:"removeSelfObjects",value:EU},{key:"reset",value:LU},{key:"selfRemove",value:FU},{key:"shortMassFormat",value:jU},{key:"setAutoHideCellInfoNick",value:DU},{key:"setAutoHideCellInfoMass",value:BU},{key:"sortChildren",value:zU}]),n}(JR.Container);function HU(){this.isInitialized=!0}function GU(){0==this.isInitialized&&this.initDraw(),this.reDrawAsVirus(),this.reDrawMass(),this.reDrawTensionVirus(),this.updated=!0,this.firstDrawed=!0}function qU(){this.position.x=this.cell.x,this.position.y=this.cell.y;var e=1/this.basicSize*(2*this.cell.size);this.scale.set(e),this.mass&&this.updateMassVirus(),this.virusRange&&this.updVirusPos(),this.tensionLayer&&this.updTension(),!this.updated&&(this.updated=!0,this.visible=!0)}function XU(){if(!this.colorLayer){this.colorLayer=new JR.Sprite,this.colorLayer.anchor.set(.5,.5);var e=this.basicSize/GR.virusCell.baseTexture.width;this.colorLayer.scale.set(e,e),this.colorLayer.zOrder=1,this.colorLayer.texture=GR.virusCell,this.addChild(this.colorLayer)}if(this.colorLayer.tint=th.colorAnyTransformCallBack(r.h.virusColor,"cursor").decimal,this.colorLayer.alpha=r.h.virusAlpha,!this.virusStroke){this.virusStroke=new JR.Sprite,this.virusStroke.anchor.set(.5,.5);var t=this.basicSize/GR.virusBorder.baseTexture.width;this.virusStroke.scale.set(t,t),this.virusStroke.texture=GR.virusBorder,this.addChild(this.virusStroke)}this.virusStroke.tint=th.colorAnyTransformCallBack(r.h.virusStrokeColor,"cursor").decimal,r.g.virusesRange?(this.virusRange||(this.virusRange=new JR.Sprite,this.virusRange.anchor.set(.5,.5),this.virusRange.texture=GR.virusRange,UL.virusesRangesLayer.addChild(this.virusRange)),this.virusRange.tint=th.colorAnyTransformCallBack(r.h.virusRangeColor,"cursor").decimal):this.virusRange&&(UL.virusesRangesLayer.removeChild(this.virusRange),this.virusRange.destroy(),this.virusRange=null)}function WU(){this.cell.eatenBy||(this.virusRange.x=this.cell.x,this.virusRange.y=this.cell.y,this.virusRange.width=2*(this.cell.size+820),this.virusRange.height=2*(this.cell.size+820)),this.virusRange.alpha=this.alpha}function YU(){var e=this.basicSize/GR.virusTension.baseTexture.width*(3*(this.cell.size-100)/this.cell.size);this.tensionLayer.scale.set(e,e)}function VU(){this.removeChild(this.mass),2!=r.g.virMassType&&1!=r.g.virMassType||(this.mass=new JR.BitmapText("0",{fontName:"Mass"}),this.addChild(this.mass),this.mass.anchor.set(.5,.6),this.mass.zOrder=5,this.mass.style=UL.massStyle,this.mass.alpha=r.h.textAlpha,this.rePositionScaleMass())}function $U(){this.mass&&(this.mass.position.set(0,0),this.mass.scale.set(1/512*this.basicSize*r.h.virMassScale*3.4))}function KU(){this.tensionLayer&&(this.removeChild(this.tensionLayer),this.tensionLayer.destroy(),this.tensionLayer=null),3===r.g.virMassType&&this.cell.size<148&&(this.tensionLayer=new JR.Sprite,this.tensionLayer.anchor.set(.5,.5),this.tensionLayer.zOrder=3,this.tensionLayer.texture=GR.virusTension,this.addChild(this.tensionLayer)),this.tensionLayer&&(this.tensionLayer.tint=th.colorAnyTransformCallBack(r.h.virusStrokeColor,"cursor").decimal)}function ZU(){this.mass.visible=!0;var e="";e=2===r.o.virMassType?this.calcVirusShots(this.cell.targetSize*this.cell.targetSize/100):~~(this.cell.size*this.cell.size/100),this.mass.text=e}function QU(e){return~~((200-e)/14)}function JU(){this.colorLayer&&(this.colorLayer.destroy(),this.colorLayer=null),this.virusStroke&&(this.virusStroke.destroy(),this.virusStroke=null),this.tensionLayer&&(this.tensionLayer.destroy(),this.tensionLayer=null),this.mass&&(this.mass.destroy(),this.mass=null)}function eA(){this.virusRange&&(this.virusRange.destroy(),this.virusRange=null)}function tA(){this.cell=null,this.updated=!1,this.firstDrawed=!1,this.alpha=1}function nA(){this.removeDepedencies(),this.parent.removeChild(this),this.reset(),this.pool.releaseElement(this)}var rA=function(e){VR(n,e);var t=KR(n);function n(e){var r;return XR(this,n),(r=t.call(this,e)).cell,r.colorLayer=null,r.virusRange=null,r.virusStroke=null,r.tensionLayer=null,r.mass=null,r}return YR(n,[{key:"initDraw",value:HU},{key:"firstDraw",value:GU},{key:"updateObject",value:qU},{key:"reDrawAsVirus",value:XU},{key:"updVirusPos",value:WU},{key:"updTension",value:YU},{key:"reDrawMass",value:VU},{key:"rePositionScaleMass",value:$U},{key:"reDrawTensionVirus",value:KU},{key:"updateMassVirus",value:ZU},{key:"calcVirusShots",value:QU},{key:"removeSelfObjects",value:JU},{key:"removeDepedencies",value:eA},{key:"reset",value:tA},{key:"selfRemove",value:nA}]),n}(NU);function oA(e){return(oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aA(e,t){return(aA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cA(e);if(t){var o=cA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lA(this,n)}}function lA(e,t){if(t&&("object"===oA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cA(e){return(cA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uA(e){if(this.alpha=this.wave.alpha,this.wave.duration<this.wave.delta)return this.selfRemove();!this.firstDrawed&&this.firstDraw(),this.wave.move(),this.updateObject(),this.redrawSize()}function fA(){}function hA(){this.colorLayer=new PIXI.Sprite,this.addChild(this.colorLayer),this.colorLayer.anchor.x=.5,this.colorLayer.anchor.y=.5,this.colorLayer.texture=GR.wave,this.colorLayer.tint=th.colorAnyTransformCallBack(this.wave.color,"cursor").decimal,this.redrawSize(),this.updated=!0,this.firstDrawed=!0}function dA(){this.position.set(this.wave.x,this.wave.y),!this.updated&&this.updated}function pA(){}function mA(){var e=1/512*(2*this.wave.animSize);this.scale.set(e)}function vA(){this.removeChild(this.colorLayer)}function yA(){this.remove(),this.parent.removeChild(this),this.wave.remove()}var gA,bA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aA(e,t)}(i,PIXI.Container);var t,n,r,o=sA(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).ID=5,t.texture=null,t.updated=!1,t.firstDrawed=!1,t.wave=e,t.colorLayer=null,t.updateObject(),t}return t=i,(n=[{key:"animate",value:uA},{key:"move",value:fA},{key:"firstDraw",value:hA},{key:"updateObject",value:dA},{key:"redrawVisibility",value:pA},{key:"redrawSize",value:mA},{key:"remove",value:vA},{key:"selfRemove",value:yA}])&&iA(t.prototype,n),r&&iA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),wA=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,kA=new WeakMap,_A=function(e,t){return function(n){var r=t.get(n),o=void 0===r?n.size:r<1073741824?r+1:0;if(!n.has(o))return e(n,o);if(n.size<536870912){for(;n.has(o);)o=Math.floor(1073741824*Math.random());return e(n,o)}if(n.size>wA)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*wA);return e(n,o)}}((gA=kA,function(e,t){return gA.set(e,t),t}),kA),SA={addUniqueNumber:function(e){return function(t){var n=e(t);return t.add(n),n}}(_A),generateUniqueNumber:_A};function CA(){}function TA(){}var xA=null,PA=function(e,t){return function(){if(null!==xA)return xA;var n=new Blob([t],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(n);return(xA=e(r)).setTimeout((function(){return URL.revokeObjectURL(r)}),0),xA}}((function(e){var t=new Map([[0,CA]]),n=new Map([[0,TA]]),r=new Map,o=new Worker(e);o.addEventListener("message",(function(e){var o=e.data;if(function(e){return void 0!==e.method&&"call"===e.method}(o)){var i=o.params,a=i.timerId,s=i.timerType;if("interval"===s){var l=t.get(a);if("number"==typeof l){var c=r.get(l);if(void 0===c||c.timerId!==a||c.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if(void 0===l)throw new Error("The timer is in an undefined state.");l()}}else if("timeout"===s){var u=n.get(a);if("number"==typeof u){var f=r.get(u);if(void 0===f||f.timerId!==a||f.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if(void 0===u)throw new Error("The timer is in an undefined state.");u(),n.delete(a)}}}else{if(!function(e){return null===e.error&&"number"==typeof e.id}(o)){var h=o.error.message;throw new Error(h)}var d=o.id,p=r.get(d);if(void 0===p)throw new Error("The timer is in an undefined state.");var m=p.timerId,v=p.timerType;r.delete(d),"interval"===v?t.delete(m):n.delete(m)}}));return{clearInterval:function(e){var n=SA.generateUniqueNumber(r);r.set(n,{timerId:e,timerType:"interval"}),t.set(e,n),o.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var t=SA.generateUniqueNumber(r);r.set(t,{timerId:e,timerType:"timeout"}),n.set(e,t),o.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e,n){var r=SA.generateUniqueNumber(t);return t.set(r,(function(){e(),"function"==typeof t.get(r)&&o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}})})),o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}}),r},setTimeout:function(e,t){var r=SA.generateUniqueNumber(n);return n.set(r,e),o.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:r,timerType:"timeout"}}),r}}}),'(()=>{var e={67:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error(\'The given type "\'.concat(c,\'" is not supported\'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error(\'The given method "\'.concat(t.method,\'" is not supported\'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error(\'The given type "\'.concat(v,\'" is not supported\'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(67)})()})();'),MA=function(e,t){return PA().setTimeout(e,t)};function IA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UA(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,EA(e,t,"set"),n),n}function AA(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,EA(e,t,"get"))}function EA(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var LA=new WeakMap,FA=new WeakMap,jA=new WeakMap;function DA(e){return e}function BA(){}function zA(){}function NA(){return UA(this,FA,1+ +AA(this,FA)),AA(this,LA).push(this.resetFunction(this.constructorFunction())),AA(this,LA)[AA(this,LA).length-1]}function HA(){for(var e=Math.round(20*AA(this,LA).length/100),t=0;t<e;t++)this.createElement()}function GA(){var e;AA(this,FA)/AA(this,LA).length<=.1&&this.increasePoolSize(),UA(this,FA,+AA(this,FA)-1);var t=AA(this,LA)[AA(this,jA)];return AA(this,LA)[(UA(this,jA,1+(e=+AA(this,jA))),e)]=null,t}function qA(e){UA(this,FA,1+ +AA(this,FA)),AA(this,LA)[UA(this,jA,+AA(this,jA)-1)]=e,this.resetFunction(e)}function XA(){return AA(this,LA).length}var WA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DA,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;IA(this,e),LA.set(this,{writable:!0,value:[]}),FA.set(this,{writable:!0,value:0}),jA.set(this,{writable:!0,value:0}),RA(this,"resetFunction",BA),RA(this,"constructorFunction",zA),this.resetFunction=n,this.constructorFunction=t;for(var o=0;o<r;o++)this.createElement()}var t,n,r;return t=e,(n=[{key:"createElement",value:NA},{key:"increasePoolSize",value:HA},{key:"getElement",value:GA},{key:"releaseElement",value:qA},{key:"size",get:XA}])&&OA(t.prototype,n),r&&OA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function YA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VA(e,t,n,r,o){var i=(e/n/2-r)%50,a=(-t/n/2-o)%50;this.uniforms.offset={x:-i*n,y:a*n},this.uniforms.alpha=n>=.1?1*n-.1:0,this.uniforms.gridLineThickness=30/(500*n),this.rectGrid.visible=n>=.1,this.uniforms.scaleFactor=n}function $A(e,t,n,r,o){this.image.width=Ek._server.mapSizeH*n,this.image.height=Ek._server.mapSizeV*n,this.image.anchor.x=.5,this.image.anchor.y=.5,this.image.x=e/2-r*n,this.image.y=t/2-o*n}function KA(e,t){e+=.5,t+=.5,this.rectGrid.width=e,this.rectGrid.height=t,this.uniforms.vpw=e,this.uniforms.vph=t,this.uniforms.resolution.x=e,this.uniforms.resolution.y=t}function ZA(e){var t=this,n=e.resize;if(e.redraw){this.image.texture=null;var o=i.a.getTexture(r.t.customMapTexture);!0===Ek._server.mapOffsetFixed&&o&&o.bitmap&&(this.image.texture=o.bitmap),o&&!1===o.isLoaded&&i.a.once(r.t.customMapTexture,(function(e){e.bitmap&&t.drawMapBackground({resize:!0,redraw:!0})}))}n&&(this.image.width=Ek._server.mapSizeH,this.image.height=Ek._server.mapSizeV,this.image.anchor.set(.5))}var QA=function(){function e(){var t,n,r,o=this;function i(e){o.shader=e,o.filter=new PIXI.Filter("",o.shader,o.uniforms),o.rectGrid.filters=[o.filter]}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n="container",r=new PIXI.Container,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.uniforms={},this.uniforms.scaleFactor=1,this.uniforms.vpw=500,this.uniforms.vph=500,this.uniforms.offset={x:-25,y:25},this.uniforms.pitch={x:50,y:50},this.uniforms.resolution={x:500,y:500},this.uniforms.gridColor=[0,0,0],this.uniforms.alpha=1,this.image=new PIXI.Sprite,this.container.addChild(this.image),this.rectGrid=(new PIXI.Graphics).drawRect(0,0,1,1),this.rectGrid.visible=!1,this.container.addChild(this.rectGrid),fetch(document.baseURI+"/shader/grid.frag").then((function(e){return e.text().then(i)}))}var t,n,r;return t=e,(n=[{key:"renderGrid",value:VA},{key:"renderBackground",value:$A},{key:"resize",value:KA},{key:"drawMapBackground",value:ZA}])&&YA(t.prototype,n),r&&YA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function JA(e){return(JA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e,t){return(eE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rE(e);if(t){var o=rE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nE(this,n)}}function nE(e,t){if(t&&("object"===JA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rE(e){return(rE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oE(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function iE(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return aE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function aE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cE(e,t,n){return t&&lE(e.prototype,t),n&&lE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Array.prototype.pushSorted=function(e,t){return this.splice(function(n){for(var r=0,o=n.length-1;r<=o;){var i=o+r>>1,a=t(e,n[i]);if(a>0)r=i+1;else{if(!(a<0))return i;o=i-1}}return-r-1}(this),0,e),this.length};var uE=PIXI;function fE(e){return e}function hE(e){return e}function dE(e){return e}function pE(e){var t=this.mouseClientX,n=this.mouseClientY;if(this._scantrickEnabled){var r=Math.atan2(this.mouseClientY-this.canvasHeight/2,this.mouseClientX-this.canvasWidth/2);t=1e7*Math.cos(r),n=1e7*Math.sin(r)}this.mouseServerX=e.cursorX=(t-this.canvasWidth/2)/this.scale+this.camX,this.mouseServerY=e.cursorY=(n-this.canvasHeight/2)/this.scale+this.camY}function mE(e){e.cursorX=(e._mouseClientX-this.canvasWidth/2)/e._scale+e._camX,e.cursorY=(e._mouseClientY-this.canvasHeight/2)/e._scale+e._camY}function vE(e){var t=this.zoomValue;t=2<(t=this.zoomValue*Math.pow(r.g.zoomSpeedValue,e.wheelDelta/-120||e.detail||0))?2:.02>t?.02:t,this.zoomValue=t}function yE(){var e=this.zoomValue;return Math.max(this.canvasWidth/1920,this.canvasHeight/1080)*e}function gE(){var e,t=0,n=0,o=0,i=iE(Ek.clients.player);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.playerCells.length&&(o++,a.calculatePlayerMassAndPosition(),t+=a.viewX,n+=a.viewY)}}catch(e){i.e(e)}finally{i.f()}if(t/=o,n/=o,r.g.autoZoom?Ek.multiboxEnabled&&Ek.clients.player[1].playerSize>Ek.clients.player[0].playerSize?this.calcAutoScale(Ek.clients.player[1]):this.calcAutoScale(Ek.clients.player[0]):this.calcScale(),(!r.g.mbCenterCamera||0===o&&Ek.clients.player[0])&&(t=Ek.clients.player[0].viewX,n=Ek.clients.player[0].viewY),Ek.play)if(!1===this.skipCameraAnimation)if(0===r.g.cameraDelay)this.camX=(this.camX+t)/2,this.camY=(this.camY+n)/2;else{var s=r.g.cameraDelay,l=r.g.cameraDelay-1;this.camX=(l*this.camX+t)/s,this.camY=(l*this.camY+n)/s}else this.skipCameraAnimation=!1,this.camX=t,this.camY=n;else this.camX=(29*this.camX+t)/30,this.camY=(29*this.camY+n)/30}function bE(){var e=this.canvasWidth/2/this.scale,t=this.canvasHeight/2/this.scale;this.cameraBounds.left=this.camX-e,this.cameraBounds.right=this.camX+e,this.cameraBounds.top=this.camY-t,this.cameraBounds.bottom=this.camY+t}function wE(){var e=r.g.zoomSmoothness,t=e-1;this.scale=(t*this.scale+this.getZoom())/e}function kE(e,t){return e.cell.size===t.cell.size?e.cell.id-t.cell.id:e.cell.size-t.cell.size}function _E(){this.canvas=document.getElementById("canvas")}function SE(e){this.canvas.style.imageRendering=e?"":"pixelated"}function CE(e){if(void 0!==(e=Number(e)))switch(e){case 0:this.setCanvasSmoothing(!1);break;case 1:case 2:case 3:this.setCanvasSmoothing(!0);break;case 4:this.setCanvasSmoothing(!1)}}function TE(e,t){var n=r.o.canvasScale*window.devicePixelRatio;this.canvasWidth=Math.round((e||window.innerWidth)*n),this.canvasHeight=Math.round((t||window.innerHeight)*n),this.canvas.style.width=Math.round(e||window.innerWidth)+"px",this.canvas.style.height=Math.round(e||window.innerHeight)+"px",this.renderer.resize(this.canvasWidth,this.canvasHeight)}function xE(e){var t=1920/this.scale,n=1080/this.scale,r=this.camX-t/2,o=this.camY-n/2;this.quadtree=new PointQuadTree(r,o,t,n,16);for(var i=0;i<e.length;++i)for(var a=e[i],s=0;s<a.points.length;++s)this.quadtree.insert(a.points[s])}function PE(e){var t=r.o.zoomSmoothness,n=t-1;e.play?this.scale=(n*this.scale+Math.pow(Math.min(64/e.playerSize,1),.2)*this.getZoom())/t:this.scale=(n*this.scale+e.protocol_spect_scale*this.getZoom())/t}function ME(e,t){for(;t--;)return Ek.clients.render[t].isInViewHSLO(e)}function IE(e){return new Promise((function(t){return MA(t,e)}))}function OE(e){mO.a.cleaner(),console.log("dafsdfsd");for(var t=o.a.runtime,n=0,r=Ek.clients.render.length;r>n;n++){var i=Ek.clients.render[n];i.time=t;for(var a=0,s=i.cells.length;a<s;a++)Ek.reverseCheckView(i.cells[a],n)||(this.cellsFrame.push(i.cells[a]),i.cells[a].isVirus&&this.virusesFrame.push(i.cells[a]));for(a=0,s=i.food.length;a<s;a++)this.reverseCheckView(i.food[a],n)||this.foodFrame.push(i.food[a])}this.setView(),this.setCursorPosition(Ek.getActiveTab())}function RE(e){this.renderedObjects=0,mO.a.cleaner();Ek.clients.player[0];this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),r.o.showGrid&&this.drawGrid(this.ctx,this.canvasWidth,this.canvasHeight,this.scale,this.camX,this.camY),this.ctx.save(),this.ctx.translate((~~this.canvasWidth>>1)-this.camX*this.scale,(~~this.canvasHeight>>1)-this.camY*this.scale),this.ctx.scale(this.scale,this.scale),":battleroyale"===Ek.server.gameMode&&this.drawBattleroyaleArea(this.ctx,Ek.server.mapMinX,Ek.server.mapMinY,Ek.server.mapSizeH,Ek.server.mapSizeV,0,0,1,1);var t=i.a.getTexture(r.t.customMapTexture);this.hkTexture&&!0===Ek.server.mapOffsetFixed&&t&&(!0===r.o.showGrid&&(this.ctx.globalCompositeOperation="destination-over"),this.ctx.drawImage(t,~~Ek.server.mapMinX,~~Ek.server.mapMaxY,~~Ek.server.mapMaxX-Ek.server.mapMinX,~~Ek.server.mapMinY-Ek.server.mapMaxY),!0===r.o.showGrid&&(this.ctx.globalCompositeOperation="source-over")),!0===r.o.showBgSectors&&this.drawSectors(this.ctx,Ek.server.mapOffsetFixed,r.t.sectorsX,r.t.sectorsY,Ek.server.mapMinX,Ek.server.mapMinY,Ek.server.mapMaxX,Ek.server.mapMaxY,r.t.gridColor,r.t.sectorsColor,r.t.sectorsWidth,!0);var n=i.a.getTexture(r.t.customMapLogo);if(n){var o=n.width,a=n.height,s=2.6;this.isInDisplay(Ek.server.mapMidX-o,Ek.server.mapMidY-a,o*s)&&(this.ctx.globalAlpha=.2,this.ctx.drawImage(n,~~Ek.server.mapMidX-o*s>>1,~~Ek.server.mapMidY-a*s>>1,o*s,a*s),this.ctx.globalAlpha=1)}if(!0===r.o.showMapBorders){var l=r.t.bordersWidth>>1;this.drawMapBorders(this.ctx,Ek.server.mapOffsetFixed,Ek.server.mapMinX-l,Ek.server.mapMinY-l,Ek.server.mapMaxX+l,Ek.server.mapMaxY+l,r.t.bordersColor,r.t.bordersWidth)}!0===r.o.virusesRange&&this.drawVirusesRange(this.ctx,this.virusesFrame);for(var c=0,u=Ek.clients.player.length;u>c;c++)this.drawFood(Ek.clients.player[c],c);for(var f=0,h=Ek.clients.player.length;h>f;f++){var d=Ek.clients.player[f];d&&d.play&&((0==f||r.o.mbMultiSplitRange)&&r.o.splitRange&&(this.drawSplitRange(this.ctx,d,r.s.selectBiggestCell),r.o.doubleSplitRange&&this.drawDoubleSplitRange(this.ctx,d,r.s.selectBiggestCell),r.o.tripleSplitRange&&this.drawTripleSplitRange(this.ctx,d)),0==f&&r.o.oppRings&&this.drawOppRings(this.ctx,this.scale,d),(0==f||r.o.mbMultiCursorTracking)&&r.o.cursorTracking&&this.drawCursorTracking(this.ctx,d.playerCells,d.cursorX,d.cursorY))}Ek.ghostCells.length&&this.drawGhostCells(Ek),this.startAlpha=this.ctx.globalAlpha;for(var p=0,m=Ek.clients.render.length;m>p;p++){r.o.debug&&this.drawViewport(this.ctx,"Bound "+Ek.clients.render[p].ID,Ek.clients.render[p].bound.left,Ek.clients.render[p].bound.bottom,Ek.clients.render[p].bound.right,Ek.clients.render[p].bound.top,"red",20);for(var v=0;Ek.clients.render[p].removedCells.length>v;v++)this.renderedObjects++,this.drawCell(Ek.clients.render[p].removedCells[v],!0,Ek.clients.player[0]);this.ctx.closePath()}for(var y=0,g=this.cellsFrame.length;g>y;y++)!1!==this.isInDisplay(this.cellsFrame[y].targetX,this.cellsFrame[y].targetY,this.cellsFrame[y].size)&&(this.renderedObjects++,this.drawCell(this.cellsFrame[y],void 0,Ek.clients.player[0],Ek.multiboxEnabled));this.drawWaves(),this.ctx.restore(),r.o.snowEnabled&&(this.ctx.save(),this.snowDrawer.draw(this.ctx,this.canvasWidth,this.canvasHeight),this.ctx.restore())}function UE(e,t,n,r,o,i,a,s){e.strokeStyle=a,e.lineWidth=s,e.fillStyle="white",e.font="100px sans-serif",e.textAlign="end",e.textBaseline="hanging",e.beginPath(),e.moveTo(n,r),e.lineTo(o,r),e.lineTo(o,i),e.lineTo(n,i),e.closePath(),e.stroke(),e.fillText(t,o,r)}function AE(e,t,n,r,o){e.lineWidth=o,e.strokeStyle=n,e.fillStyle=r,e.font="100px sans-serif",e.textAlign="end",e.textBaseline="hanging",e.beginPath();for(var i=0;t.length>i;i++){var a=t[i][0];e.moveTo(a[0][0],a[0][1]);for(var s=1;s<a.length;s++)e.lineTo(a[s][0],a[s][1]);e.lineTo(a[0][0],a[0][1])}e.stroke(),e.closePath()}function EE(e,t,n){for(var r=!1,o=0,i=n.length-1;o<n.length;i=o++){var a=n[o][0],s=n[o][1],l=n[i][0],c=n[i][1];s>t!=c>t&&e<(l-a)*(t-s)/(c-s)+a&&(r=!r)}return r}function LE(e,t,n,r,o){return(e-n)*(e-n)+(t-r)*(t-r)<=o*o}function FE(e,t,n){return!(e+n<this.cameraBounds.left||t-n>this.cameraBounds.bottom||e-n>this.cameraBounds.right||t+n<this.cameraBounds.top)}function jE(e){return!(e.right<this.cameraBounds.left||e.top<this.cameraBounds.bottom||e.left>this.cameraBounds.right||e.bottom>this.cameraBounds.top)}function DE(e){return!(e.left>=this.cameraBounds.right||this.cameraBounds.left>=e.right)&&!(e.top>=this.cameraBounds.bottom||this.cameraBounds.top>=e.bottom)}function BE(e){return e<=40||this.scale<.5&&e<550&&e<20/this.scale}function zE(e){return e<=40||this.scale<.5&&e<550&&e<27/this.scale}function NE(e){return Math.floor(e*e/100)>183?"#C80000":r.t.virusColor}function HE(e,t){return Math.floor(e*e/100)/(r.s.selectBiggestCell?t.playerMaxMass:t.playerMinMass)>.76?"#FFDC00":"#C80000"}function GE(e,t,n,r,o,i){e.lineWidth=20,e.globalAlpha=o,e.strokeStyle=i,e.beginPath(),e.arc(t,n,r-10,0,this.pi2,!1),e.closePath(),e.stroke(),e.globalAlpha=1}function qE(e,t,n,o,i,a,s,l,c,u,f,h){if(t||!h){var d=~~((s-i)/n),p=~~((l-a)/o),m=0,v=0;if(e.strokeStyle=c,e.fillStyle=u,e.lineWidth=f,h||!h&&r.o.showMiniMapGrid){e.beginPath();for(var y=0;y<n+1;y++)m=i+d*y,e.moveTo(y==n?s:m,a),e.lineTo(y==n?s:m,l);for(y=0;y<o+1;y++)v=a+p*y,e.moveTo(i-f/2,y==o?l:v),e.lineTo(s+f/2,y==o?l:v);e.stroke()}else this.drawMapBorders(e,t,i,a,s,l,c,f);e.font=r.t.sectorsfont.fontWeight+" "+r.t.sectorsfontSize+"px "+r.t.sectorsfont.fontFamily,e.textAlign="center",e.textBaseline="middle";for(var g=0;g<o;g++)for(var b=0;b<n;b++){var w=r.g.customBgSectorsSymbol||String.fromCharCode(65+g)+(b+1);m=~~(i+d/2+b*d),v=~~(a+p/2+g*p),e.fillText(w,m,v)}}}function XE(){var e=this;this.mapsectors.texture=null;this.canvasTexturer=document.createElement("canvas"),this.ctxTexturer=this.canvasTexturer.getContext("2d"),this.canvasTexturer.width=Ek.server.mapSizeH/7,this.canvasTexturer.height=Ek.server.mapSizeV/7,this.ctxTexturer.restore(),this.ctxTexturer.restore(),this.ctxTexturer.clearRect(0,0,this.canvasTexturer.width,this.canvasTexturer.height),this.ctxTexturer.save();var t=this.canvasTexturer.width/Ek.server.mapSizeH,n=this.canvasTexturer.height/Ek.server.mapSizeV;this.ctxTexturer.translate(this.canvasTexturer.width/2,this.canvasTexturer.height/2),this.ctxTexturer.scale(t,n),r.o.showBgSectors&&this.drawCanvasSectors(this.ctxTexturer,1,r.t.sectorsX,r.t.sectorsY,Ek.server.mapMinX,Ek.server.mapMinY,Ek.server.mapMaxX,Ek.server.mapMaxY,r.t.gridColor,r.t.sectorsColor,r.t.sectorsWidth,!0);var o=i.a.getTexture(r.w||r.t.customMapLogo);if(o&&o.canvas){var a=o.canvas.width,s=o.canvas.height,l=2.6;this.ctxTexturer.globalAlpha=r.w?.9:.2,this.ctxTexturer.drawImage(o.canvas,Ek._server.mapMidX-a*l>>1,Ek._server.mapMidY-s*l>>1,a*l,s*l),this.ctxTexturer.globalAlpha=1}o&&!1===o.isLoaded&&i.a.once(r.w||r.t.customMapLogo,(function(t){t.canvas&&e.drawSectors()})),this.mapsectors.texture=PIXI.Texture.from(this.canvasTexturer),this.mapsectors.anchor.set(.5),this.mapsectors.scale.set(7,7)}function WE(){if(this.mapborders.clear(),r.o.showMapBorders){this.mapborders.visible=!0;var e=r.t.bordersWidth>>1,t=Ek.server.mapMinX-e,n=Ek.server.mapMinY-e,o=Ek.server.mapMaxX+e,i=Ek.server.mapMaxY+e;this.mapborders.lineStyle(r.t.bordersWidth,this.hex(r.t.bordersColor)),this.mapborders.moveTo(t,n),this.mapborders.lineTo(o,n),this.mapborders.lineTo(o,i),this.mapborders.lineTo(t,i),this.mapborders.lineTo(t,n)}else this.mapborders.visible=!1}function YE(e,t,n,o){if(t&&t.length){e.beginPath();for(var i=0;i<t.length;i++){var a=t[i].x,s=t[i].y,l=t[i].size+820;e.moveTo(a,s),e.arc(a,s,l,0,this.pi2,!1)}e.fillStyle=r.t.virusColor,e.globalAlpha=.1,e.fill(),e.globalAlpha=1}}function VE(e,t){if(e&&r.s.showFood&&!(r.o.autoHideFoodOnZoom&&this.scale<.2)){if(r.o.autoHideFood&&!r.s.foodIsHidden&&e.playerMass>1e3)return r.s.showFood=!1,void(r.s.foodIsHidden=!0);if(r.o.rainbowFood){for(var n=0;n<e.food.length;n++)this.drawCell(e.food[n],!0);this.renderedObjects+=e.food.length}else this.drawCachedFood(this.ctx,e,t)}}function $E(e,t,n,o){e.redrawed=!0,t&&(e.moveCell(),e.removed&&(this.ctx.globalAlpha*=1-e.alpha));var a=!1,s=0,l=~~(e.isFood?e.size+r.t.foodSize:e.size),c=~~e.x,u=~~e.y;if(this.scale>.44&&(!0,l=e.isFood?e.size+r.t.foodSize:e.size,c=e.x,u=e.y),this.ctx.beginPath(),r.o.jellyPhysics&&e.points.length&&e.size*this.scale>17){var f=e.points[0];this.ctx.moveTo(f.x,f.y);for(var h=0;h<e.points.length;++h)f=e.points[h],this.ctx.lineTo(f.x,f.y),e.points[h].rl>s&&(s=e.points[h].rl);this.ctx.closePath()}else if(e.isVirus&&r.o.spikedViruses){var d=this.pi2/100;this.ctx.moveTo(e.x,e.y+e.size+3);for(h=1;h<100;h++){var p=h*d,m=e.size-3+6*(h%2==0);this.ctx.lineTo(e.x+m*Math.sin(p),e.y+m*Math.cos(p))}this.ctx.lineTo(e.x,e.y+e.size+3),this.ctx.closePath()}else this.ctx.arc(c,u,l,0,this.pi2,!1);if(e.isFood)return this.ctx.fillStyle=e.color,this.ctx.fill(),void(this.ctx.globalAlpha=this.startAlpha);var v=e.isPlayerCell||null!==e.playerOriginTab;if(e.isVirus){if(r.o.transparentViruses&&(this.ctx.globalAlpha*=r.t.virusAlpha,a=!0),r.o.virColors&&e.c.play?(this.ctx.fillStyle=this.setVirusColor(e.size),this.ctx.strokeStyle=this.setVirusStrokeColor(e.size,e.c)):e.size<=147?(this.ctx.fillStyle=r.t.virusColor,this.ctx.strokeStyle=r.t.virusStrokeColor):(this.ctx.fillStyle=r.t.mothercellColor,this.ctx.strokeStyle=r.t.mothercellStrokeColor),this.ctx.fill(),a&&(this.ctx.globalAlpha=1,a=!1),this.ctx.lineWidth=r.t.virusStrokeSize,this.ctx.stroke(),0===r.o.virMassType);else if(3===r.o.virMassType&&e.size<148){var y=3*(e.size-100);y>0&&(this.ctx.fillStyle=this.ctx.strokeStyle,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,y,0,this.pi2,!0),this.ctx.closePath(),this.ctx.fill())}else{if(e.mass=~~(e.size*e.size/100),I=mO.a.mass(e,l,this.scale)){var g=I.originW*e.size*r.t.virMassScale,b=I.originH*e.size*r.t.virMassScale;this.ctx.drawImage(I,~~(e.x-(g>>1)),~~(e.y-(b>>1)),~~g,~~b)}}this.ctx.globalAlpha=this.startAlpha}else{r.o.transparentCells&&(this.ctx.globalAlpha*=r.t.cellsAlpha,a=!0);var w=e.color;e.c.play&&(e.isPlayerCell?r.o.myCustomColor&&(w=Ob.mainProfile.color):r.o.oppColors&&!r.o.oppRings&&(w=e.oppColor)),this.ctx.fillStyle=w,this.ctx.fill(),a&&(this.ctx.globalAlpha=1,a=!1);var k=null;if(r.s.showAnySkins&&(r.o.customSkins&&(k=i.a.getCustomSkin(e.targetNick))&&k.animated&&(r.o.customGifSkins?(k.value.move(),k=k.value.c):k=null),r.o.vanillaSkins&&!k&&void 0!==k&&(k=e.hasVanillaNamedSkin?i.a.getVanillaSkin(e.nameSkin):e.hasVanillaCustomSkin?i.a.getVanillaCustomSkin(e.skin):i.a.getVanillaSkin(e.skin)),k&&(((r.o.transparentSkins||e.c.play&&r.o.oppColors)&&(!v||r.o.myTransparentSkin)||v&&r.o.myTransparentSkin&&1!==r.t.skinsAlpha)&&(this.ctx.globalAlpha*=r.t.skinsAlpha,a=!0),r.o.jellyPhysics?(this.ctx.save(),this.ctx.clip(),e.size*this.scale>17?this.ctx.drawImage(k,0,0,512,512,e.x-s,e.y-s,2*s,2*s):this.ctx.drawImage(k,0,0,512,512,~~e.x-~~l,~~e.y-~~l,2*~~l,2*~~l),this.ctx.restore()):this.ctx.drawImage(k,c-l,u-l,2*l,2*l),a&&(this.ctx.globalAlpha=1,a=!1))),r.o.cellStroke&&(this.ctx.strokeStyle=k?k.averageColor:e.strokeColor,this.ctx.lineWidth=Math.max(~~(e.size/50),8),e.size>20&&this.ctx.stroke()),r.o.teammatesInd&&!e.isPlayerCell&&l<=200&&i.a.customSkinMap.has(e.targetNick)&&this.drawTeammatesInd(this.ctx,c,u,~~l),r.o.mbRings&&v&&o&&n){var _=l/100*r.t.mbRingWidth;this.ctx.lineWidth=_,this.ctx.globalAlpha=1,this.ctx.strokeStyle=n.ID===e.playerOriginTab?r.t.mboxActiveCellStroke:r.t.mboxUnactiveCellStroke,this.ctx.beginPath(),this.ctx.arc(c,u,l-_/2,0,this.pi2,!1),this.ctx.closePath(),this.ctx.stroke(),this.ctx.globalAlpha=1}if(r.o.mergeIndicator&&e.isPlayerCell&&n.ID===e.playerOriginTab){e.calcMerge();var S=e.mergeTimeLeft/e.cellMergeFull*2;if(S>=0){var C=Math.PI*(2-S+1.5),T=3.5*Math.PI,x=l/100*15;this.ctx.lineWidth=x,this.ctx.globalAlpha=1,this.ctx.strokeStyle=r.t.mergeIndicatorColor,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,l-x/2,T,C,!0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=1}}var P=this.setAutoHideCellInfoNick(l)&&r.o.autoHideNames,M=this.setAutoHideCellInfoMass(l)&&r.o.autoHideMass;if(P&&M||l<=40)this.ctx.globalAlpha=this.startAlpha;else{1!==r.t.textAlpha&&(this.ctx.globalAlpha*=r.t.textAlpha);var I,O=0===r.o.textScaleMode?e.targetSize:l;if(!P&&r.o.showNames&&(!v||!r.o.hideMyName)&&(!k||!r.o.hideTeammatesNames)){var R=mO.a.nick(e.targetNick,l,this.scale);if(R){g=R.originW*O*r.t.namesScale,b=R.originH*O*r.t.namesScale;this.ctx.drawImage(R,c-g/2,u-b/2,g,b)}}if(!M&&r.o.showMass&&(!v||!r.o.hideMyMass)&&(!r.o.hideEnemiesMass||v||e.isVirus))if(e.mass=~~(O*O/100),I=mO.a.mass(e,this.scale)){g=I.originW*O*r.t.massScale/2,b=I.originH*O*r.t.massScale/2;var U=!r.o.showNames||v&&r.o.hideMyName?u-b/2:l/4+u;this.ctx.drawImage(I,c-g/2,U,g,b)}this.ctx.globalAlpha=this.startAlpha}}}function KE(e,t,n){var o=t.food;if(o.length){if(e.beginPath(),e.fillStyle=r.t.foodColor,e.globalAlpha=1,this.scale>.16)for(var i=0,a=o.length;a>i;i++){var s=o[i];this.reverseCheckView(s,n)||(this.renderedObjects++,e.moveTo(~~s.targetX,~~s.targetY),e.arc(~~s.targetX,~~s.targetY,~~(s.size+r.t.foodSize),0,this.pi2,!1))}else for(var l=0,c=o.length;c>l;l++){var u=o[l];if(!this.reverseCheckView(u,n)){this.renderedObjects++;var f=u.size+r.t.foodSize;e.rect(~~(u.targetX-f),~~(u.targetY-f),~~f<<1,~~f<<1)}}e.closePath(),e.fill()}}function ZE(e,t,n){for(var o=[t.biggerHSTECellsCache,t.biggerDSTECellsCache,t.biggerSTECellsCache],i=0;i<o.length;i++)this.drawCircles(e,o[i],760,4,.4,r.t.bSTEColor,1);var a=t.playerCells;if(a.length){var s=n?a.length-1:0;e.lineWidth=6,e.globalAlpha=r.t.darkTheme?.7:.35,e.strokeStyle=r.t.splitRangeColor,e.beginPath(),e.arc(a[s].x,a[s].y,a[s].size+760,0,this.pi2,!1),e.closePath(),e.stroke()}e.globalAlpha=1}function QE(e,t,n){for(var o=[t.biggerHSTECellsCache,t.biggerDSTECellsCache],i=0;i<o.length;i++)this.drawCircles(e,o[i],760,4,.4,r.t.bDSTEColor,2);var a=t.playerCells;if(a.length){var s=n?a.length-1:0;if(a[s].size*a[s].size/100<666)return;e.lineWidth=4,e.globalAlpha=r.t.darkTheme?.7:.35,e.strokeStyle=r.t.splitRangeColor,e.beginPath(),e.arc(a[s].x,a[s].y,2*a[s].size+760,0,this.pi2,!1),e.closePath(),e.stroke()}e.globalAlpha=1}function JE(e,t){this.drawCircles(e,t.biggerHSTECellsCache,760,4,.4,r.t.bHSTEColor,3),e.globalAlpha=1}function eL(e,t,n){for(var o=14+2/t,i=12+1/t,a=[n.biggerHSTECellsCache,r.t.bHSTEColor,n.biggerDSTECellsCache,r.t.bDSTEColor,n.biggerSTECellsCache,r.t.bSTEColor,n.biggerCellsCache,r.t.bColor,n.smallerCellsCache,r.t.sColor,n.smallerSTECellsCache,r.t.sSTEColor,n.smallerDSTECellsCache,r.t.sDSTEColor,n.smallerHSTECellsCache,r.t.sHSTEColor],s=0;s<a.length;s+=2)this.drawCircles(e,a[s],o,i,.75,a[s+1],1)}function tL(e,t,n,o){e.lineWidth=r.t.cursorTrackingSize,e.strokeStyle=r.t.cursorTrackingColor,e.beginPath();for(var i=0;i<t.length;i++)e.moveTo(t[i].x,t[i].y),e.lineTo(n,o);e.stroke()}function nL(e,t,n,r,o,i,a){e.lineWidth=r,e.globalAlpha=o,e.strokeStyle=i;for(var s=0;s<t.length;s++)e.beginPath(),e.arc(t[s].x,t[s].y,a*t[s].size+n,0,this.pi2,!1),e.stroke(),e.closePath();e.globalAlpha=1}function rL(e,t,n,r){this.indicator&&e.drawImage(this.indicator,t-45,n-r-90)}function oL(){for(var e=Ek.waves,t=e.length;t--;){var n=e[t].x,r=e[t].y,o=e[t].color,i=e[t].r,a=e[t].duration,s=Date.now()-e[t].time;if(a<s)e.splice(t,1);else if(!(1>s)){var l=i*s/a;this.ctx.globalAlpha=333<l?(i-l)/800:1;var c=this.ctx.createRadialGradient(n,r,.7*l,n,r,l);c.addColorStop(0,"rgba(0,0,0,0)"),c.addColorStop(1,o),this.ctx.fillStyle=c,this.ctx.beginPath(),this.ctx.arc(n,r,l,0,this.pi2,!0),this.ctx.closePath(),this.ctx.fill()}}}function iL(e,t,n,o,i,a,s,l,c){var u=Ek.getActiveTab();if(u.battleRoyale.state){var f=(u.battleRoyale.x+a)*l,h=(u.battleRoyale.y+s)*c,d=u.battleRoyale.radius*l;this.drawDangerArea(this.ctx,f,h,d,t,n,o,i,r.t.dangerAreaColor,.25),f=~~((u.battleRoyale.targetX+a)*l),h=~~((u.battleRoyale.targetY+s)*c),d=~~(u.battleRoyale.targetRadius*l),this.drawSafeArea(this.ctx,f,h,d,4,r.t.safeAreaColor)}}function aL(e,t,n,r,o,i,a,s,l,c){var u=Ek.getActiveTab();u.battleRoyale.radius==u.battleRoyale.maxRadius||r<=0||(e.save(),e.globalAlpha=c,e.fillStyle=l,e.fillRect(o,i,a,s),e.globalCompositeOperation="destination-out",e.globalAlpha=1,e.beginPath(),e.arc(t,n,r,0,this.pi2,!1),e.fill(),e.restore())}function sL(e,t,n,r,o,i){Ek.getActiveTab().battleRoyale.state>2||r<=0||this.drawDashedCircle(e,t,n,r,60,o,i)}function lL(e,t,n,r,o,i,a){var s=this.pi2/o;e.lineWidth=i,e.strokeStyle=a;for(var l=0;l<o;l+=2)e.beginPath(),e.arc(t,n,r-i/2,l*s,(l+1)*s,!1),e.stroke()}function cL(e,t){if(r.o.showGhostCells){var n=e.ghostCells;this.ctx.beginPath();for(var o=0;o<n.length;o++)if(!n[o].inView){var i=n[o].x,a=n[o].y;if(this.isInDisplay(i,a,n[o].size)&&!n.inView&&(this.renderedObjects++,this.ctx.moveTo(i,a),this.ctx.arc(i,a,n[o].size,0,this.pi2,!1),r.o.ghostCellsNames)){var s=mO.a.nick(n[o].name,n[o].size,this.scale);if(s){var l=s.originW*n[o].size*r.t.namesScale,c=s.originH*n[o].size*r.t.namesScale;this.ctx.drawImage(s,i-(l>>1),a-(c>>1),l,c)}}}this.ctx.fillStyle=r.t.ghostCellsColor,this.ctx.globalAlpha=r.t.ghostCellsAlpha,this.ctx.shadowColor=r.t.ghostCellsColor,this.ctx.shadowBlur=40,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.fill(),this.ctx.globalAlpha=1,this.ctx.shadowBlur=0}}function uL(){var e=document.createElement("canvas");e.width=20,e.height=20;var t=e.getContext("2d");t.arc(10,10,10,0,this.pi2,!1),t.fillStyle="#ffffff",t.fill(),this.pellet=PIXI.Texture.from(e)}function fL(){var e=document.createElement("canvas");e.width=512,e.height=512;var t=e.getContext("2d"),n=e.width/2,r=e.height/2,o=t.createRadialGradient(n,r,0,n,r,256);o.addColorStop(0,"rgba(200, 200, 200,1)"),o.addColorStop(1,"rgba(255,255,255,1)"),t.fillStyle=o,t.beginPath(),t.arc(n,r,256,0,this.pi2,!0),t.closePath(),t.fill(),this.cellBitmap=PIXI.Texture.from(e),this.cellBitmap.defaultAnchor.set(.5,.5)}function hL(){this.indicator=null;var e=document.createElement("canvas");e.width=90,e.height=50;var t=e.getContext("2d");t.lineWidth=2,t.fillStyle=r.t.teammatesIndColor,t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,0),t.lineTo(90,0),t.lineTo(45,50),t.closePath(),t.fill(),t.stroke(),this.indicator=new Image,this.indicator.src=e.toDataURL(),e=null}function dL(e){this.updateScene(e.delta)}function pL(){this.massfont&&this.massfont.destroy();var e=new uE.TextStyle({fontFamily:r.t.massfont.fontFamily,fontWeight:r.t.massfont.fontWeight,fill:r.t.massColor,stroke:r.t.massStrokeColor,strokeThickness:r.o.massStroke2?2.5*r.t.strokeScale:0,lineJoin:"round"});this.massfont=uE.BitmapFont.from("Mass",e,{chars:[["0","9"],"k."],resolution:3,padding:0,textureWidth:256,textureHeight:256})}function mL(){return this.uniforms.uAlpha}function vL(e){this.uniforms.uAlpha=e}function yL(){var e,t,n,r;function o(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}(o,n);var r=tE(o);function o(){var n;return sE(this,o),(n=r.call(this,t,e)).alpha=1,n}return cE(o,[{key:"alpha",get:mL,set:vL}]),o}return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.Background.resize(this.canvasWidth,this.canvasHeight),this.Background.drawMapBackground({resize:!0,redraw:!0}),this.display.addChild(this.Background.container),this.display.addChild(this.stage),this.drawSectors(),this.drawMapBorders(),this.stage.addChild(this.mapbackground),this.stage.addChild(this.mapborders),this.stage.interactive=!1,this.stage.interactiveChildren=!1,this.stage.addChild(this.mapsectors),e="\n            varying vec2 vTextureCoord;\n            uniform sampler2D uSampler;\n            uniform float uAlpha;\n            void main(void) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n            }\n        ",t="\n            attribute vec2 aVertexPosition;\n            attribute vec2 aTextureCoord;\n            uniform mat3 projectionMatrix;\n            varying vec2 vTextureCoord;\n            void main(void) {\n                gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n                vTextureCoord = aTextureCoord;\n            }\n        ",n=o(PIXI.Filter),this.stage.addChild(this.virusesRangesLayer),(r=new n).alpha=.1,this.virusesRangesLayer.filters=[r],this.foodLayer.indexed={},this.foodLayer.children,this.stage.addChild(this.foodLayer),this.foodLayer.roundPixels=!0,this.stage.addChild(this.cursorlinesLayer),this.stage.addChild(this.multiboxshieldLayer),this.stage.addChild(this.ringsLayer),this.stage.addChild(this.rangesLayer),this.playersLayer.indexed={},this.playersLayer.children,this.stage.addChild(this.playersLayer),this.wavesLayer.indexed={},this.stage.addChild(this.wavesLayer);case 31:case"end":return i.stop()}}),yL,this)}function gL(){var e,t=(e=regeneratorRuntime.mark(yL),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oE(i,r,o,a,s,"next",e)}function s(e){oE(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}function bL(e){mO.a.cleaner(),this.setView(),this.setCursorPosition(Ek.getActiveTab()),this.stage.x=this.canvasWidth/2-this.camX*this.scale,this.stage.y=this.canvasHeight/2-this.camY*this.scale,this.stage.scale.x=this.scale,this.stage.scale.y=this.scale,this.calcCameraBounds(),r.g.showGrid&&this.Background.renderGrid(this.canvasWidth,this.canvasHeight,this.scale,this.camX,this.camY),r.h.customMapTexture&&this.Background.renderBackground(this.canvasWidth,this.canvasHeight,this.scale,this.camX,this.camY);var t=0;for(t=this.clients.length;t--;){var n=this.clients[t];n.isInDisplayCached=this.overlaps(n.bound)}for(t=this.foodLayer.children.length;t--;){this.foodLayer.children[t].animate(e)}for(t=this.wavesLayer.children.length;t--;)this.wavesLayer.children[t].animate(e);for(var i=o.a.runtime,a=0,s=Ek.clients.render.length;s>a;a++){Ek.clients.render[a].time=i}for(this.cursorlinesLayer.clear(),t=this.playersLayer.children.length;t--;){this.playersLayer.children[t].animate(e)}this.playersLayer.children.sort(this.zIndexSortCellsLayer)}function wL(e,t){var n=Number(t.ID+"000"+e.id);if(e.sid=n,"food"===e.type){if(0===t.TYPE||2===t.TYPE){if(this.foodLayer.indexed[n])throw Error("Alreadly have cell id");var r=this.foodPool.getElement();r.cell=e,r.pool=this.foodPool,this.foodLayer.addChild(r),this.foodLayer.indexed[n]=r}}else{if(this.playersLayer.indexed[n])throw Error("Alreadly have cell id");switch(e.type){case"cell":var o=this.cellPool.getElement();o.ikRen=this,o.cell=e,o.pool=this.cellPool,this.playersLayer.addChild(o),this.playersLayer.indexed[n]=o;break;case"virus":var i=this.virusPool.getElement();i.ikRen=this,i.cell=e,i.pool=this.virusPool,this.playersLayer.addChild(i),this.playersLayer.indexed[n]=i}}}function kL(e,t,n){var r=Number(t.ID+"000"+e.id);if("food"===e.type){if(!this.foodLayer.indexed[r])return;this.foodLayer.indexed[r].animate(1),delete this.foodLayer.indexed[r]}else switch(e.type){case"cell":case"virus":this.playersLayer.indexed[r].animate(1),delete this.playersLayer.indexed[r]}}function _L(e){var t=new bA(e,this);this.wavesLayer.addChild(t)}function SL(e){return this.hexCache[e]||(this.hexCache[e]=parseInt(e.substr(1),16))}function CL(){var e,t=iE(drawRender.playersLayer.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.drawSkin(),n.sortChildren()}}catch(e){t.e(e)}finally{t.f()}}function TL(){var e,t=iE(drawRender.foodLayer.children);try{for(t.s();!(e=t.n()).done;){e.value.reDrawTint()}}catch(e){t.e(e)}finally{t.f()}}function xL(){var e=this;r.n.on("hk-resetZoom:down",(function(t){e.zoomValue=.25})),r.n.on("hk-zoom1:down",(function(t){e.zoomValue=.5})),r.n.on("hk-zoom2:down",(function(t){e.zoomValue=.25})),r.n.on("hk-zoom3:down",(function(t){e.zoomValue=.125})),r.n.on("hk-zoom4:down",(function(t){e.zoomValue=.075})),r.n.on("hk-zoom5:down",(function(t){e.zoomValue=.035})),r.n.on("hk-undefined:down",(function(t){e._scantrickEnabled=!0})),r.n.on("hk-undefined:up",(function(t){e._scantrickEnabled=!1})),r.n.on("hk-switchPlayer:down",(function(t){!r.o.mbCenterCamera&&r.o.mbSkipCameraScroll&&(e.skipCameraAnimation=!0)})),r.n.on("hk-customMapTexture:down",(function(t){e.hkTexture=!e.hkTexture})),r.n.on("LEFT MOUSE:down",(function(t){var n=Ek.getActiveTab();e.setCursorPosition(n);var r=n.findCell(n.cursorX,n.cursorY);if(n.isFreeSpectate)if(r)n.isInViewport2(r)&&n.spectateTo(r);else{n.isInViewport(n.cursorX,n.cursorY,1);n.spectateTo()}}))}function PL(){var e=this;function t(){e.resizeCanvas(),e.setCanvasAntialiasing(r.o.antialiasing),e.Background.resize(e.canvasWidth,e.canvasHeight)}window.addEventListener("resize",(function(){o.a.once("update",t)})),/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",this.setZoom.bind(this)):document.body.onmousewheel=this.setZoom.bind(this);function n(){e.setCanvas(),e.resizeCanvas(),e.Background.resize(e.canvasWidth,e.canvasHeight)}window.addEventListener("mousemove",(function(t){if(e.mouseClientX=t.clientX*(window.devicePixelRatio*r.o.canvasScale),e.mouseClientY=t.clientY*(window.devicePixelRatio*r.o.canvasScale),r.o.mbFollowMouse){var n,o=iE(Ek.clients.player);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.setCursorPosition(i)}}catch(e){o.e(e)}finally{o.f()}}else{var a=Ek.getActiveTab();a&&e.setCursorPosition(a)}})),r.o.on("antialiasing",(function(){return e.setCanvasAntialiasing(r.o.antialiasing)}))(),r.o.on("canvasScale",(function(){o.a.once("update",n)}))}function ML(e){e.bitmap=PIXI.Texture.from(e)}function IL(e,t){e.bitmap=PIXI.Texture.from(e.canvas),t&&t()}function OL(){var e,t=iE(drawRender.foodLayer.children);try{for(t.s();!(e=t.n()).done;){e.value.redrawSize()}}catch(e){t.e(e)}finally{t.f()}}function RL(){var e=this;function t(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.cell.isVirus&&r.updateCircles()}}catch(e){n.e(e)}finally{n.f()}}function n(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.cell.isVirus&&r.reDrawNick()}}catch(e){n.e(e)}finally{n.f()}}function a(){e.prepareFonts();var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){t.value.reDrawMass()}}catch(e){n.e(e)}finally{n.f()}}function s(t){e.updateObjects(t.delta),e.renderer.render(e.display)}function l(){o.a.on("render",s)}PIXI.utils.skipHello(),this.setCanvas(),PIXI.settings.GC_MAX_IDLE=100,PIXI.settings.MIPMAP_TEXTURES=4,PIXI.settings.RESOLUTION=1,this.renderer=new uE.Renderer({view:this.canvas,backgroundAlpha:0,antialias:!0,legacy:!0,powerPreference:"high-performance",preserveDrawingBuffer:!1}),this.renderer.plugins.interaction.destroy(),this.renderer.plugins.accessibility.destroy(),this.resizeCanvas(),this.initHK(),this.initEvents(),mO.a.saveContextCallback=ML,console.log("initcallback"),i.a.saveContextCallback=IL,r.t.on("gridColor","sectorsColor","sectorsfontSize","customMapLogo","sectorsWidth",(function(){return e.drawSectors()})),r.t.on("customMapTexture",(function(){return e.Background.drawMapBackground({resize:!0,redraw:!0})})),r.t.on("sectorsfont",(function(t){r.t.sectorsfont.load().then(e.drawSectors.bind(e))}))(),r.o.on("customBgSectorsSymbol","showBgSectors",(function(t){return e.drawSectors()})),r.o.on("showMapBorders",(function(){return e.drawMapBorders()})),Ek.server.on("estabilished",(function(){e.drawSectors(),e.drawMapBorders(),e.Background.drawMapBackground({resize:!0,redraw:!0})})),i.a.texturesMap.set("https://i.imgur.com/DgqZdQS.png","https://i.imgur.com/DgqZdQS.png"),i.a.getTexture("https://i.imgur.com/DgqZdQS.png"),r.o.on("rainbowFood",(function(){e.redrawFoodColors()})),r.t.on("foodColor","cellBrightness","cellSaturation",(function(){e.redrawFoodColors()})),r.o.on("showFood",(function(){var t,n=iE(e.foodLayer.children);try{for(n.s();!(t=n.n()).done;){t.value.redrawVisibility()}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("foodSize",OL),r.o.on("oppRings","splitRange","doubleSplitRange","tripleSplitRange","oppColors",(function(){MA(t,100)})),r.o.on("showMass",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.reDrawMass(),r.sortChildren()}}catch(e){n.e(e)}finally{n.f()}})),r.o.on("customSkins",(function(){return e.drawSkins()})),r.o.on("vanillaSkins",(function(){return e.drawSkins()})),r.o.on("showNames",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.reDrawNick(),r.sortChildren(),r.rePositionScaleMass()}}catch(e){n.e(e)}finally{n.f()}})),r.o.on("showGrid",(function(){e.Background.rectGrid.visible=r.o.showGrid})),r.t.on("gridColor",(function(){var t=th.colorAnyTransformCallBack(r.t.gridColor,"cellcolor");e.Background.uniforms.gridColor=[t.r*(1/255),t.g*(1/255),t.b*(1/255)]}))(),r.t.on("cellBrightness","cellSaturation","cellsAlpha",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.cell.isVirus&&r.reDrawTintAlpha()}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("skinsAlpha",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.cell.isVirus&&r.reDrawSkinAlpha()}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("massScale",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){t.value.rePositionScaleMass()}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("textAlpha","namesScale","namesColor","namesStrokeColor","strokeScale",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.cell.isVirus&&r.reDrawNick()}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("nickfont",(function(){return r.t.nickfont.load().then(n)}))(),r.n.on("hk-showSkins:down",(function(){return e.drawSkins()})),r.o.on("virusesRange",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.cell.isVirus&&r.reDrawAsVirus()}}catch(e){n.e(e)}finally{n.f()}})),r.o.on("virMassType",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.cell.isVirus&&(r.reDrawTensionVirus(),r.reDrawMass())}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("virusColor","virusStrokeColor","virusRangeColor","virusAlpha",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.cell.isVirus&&r.reDrawAsVirus()}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("virMassScale",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.cell.isVirus&&r.rePositionScaleMass()}}catch(e){n.e(e)}finally{n.f()}})),r.t.on("massStroke2","massColor","massStrokeColor","strokeScale","strokeScale",(function(){e.prepareFonts();var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){t.value.reDrawMass()}}catch(e){n.e(e)}finally{n.f()}}))(),r.t.on("massfont",(function(){return r.t.massfont.load().then(a)}))(),r.t.on("textAlpha",(function(){var t,n=iE(e.playersLayer.children);try{for(n.s();!(t=n.n()).done;){t.value.reDrawMass()}}catch(e){n.e(e)}finally{n.f()}})),GR.init(this.renderer),this.preDrawIndicator(),this.prepareScene().then((function(){MA(l,1e3)})),Ek.on("newWave",(function(t){return e.onNewWave(t)})),Ek.on("initClient",(function(t){var n,r;e.clients.push(t),t.on("removeCell",n=function(n,r){e.onRemoveCell(n,t,r)}),t.on("newCell",r=function(n){e.onNewCell(n,t)}),t.on("removeEvents",(function(){var o=e.clients.indexOf(t);e.clients.splice(o,1),t.removeListener("removeCell",n),t.removeListener("newCell",r)}))}))}var UL=new(function(){function e(){var t=this;sE(this,e),this.camX=0,this.camY=0,this.cameraBounds={left:0,right:0,top:0,bottom:0},this.scale=1,this.zoomValue=.16,this.skipCameraAnimation=!1,this.mouseClientX=0,this.mouseClientY=0,this.mouseServerX=0,this.mouseServerY=0,this.canvas=null,this.canvasWidth=0,this.canvasHeight=0,this._scantrickEnabled=!1,this.pi2=2*Math.PI,this.ctx=null,this.pellet=null,this.indicator=null,this.startAlpha=1,this.quadtree=null,this.renderedObjects=0,this.hkTexture=!0,this.cellsFrame=[],this.foodFrame=[],this.virusesFrame=[],this.removedCells=[],this.clients=[],this.foodPool=new WA((function(){var e=new uU(t);return e.pool=t.foodPool,e}),fE,300),this.virusPool=new WA((function(){var e=new rA(t);return e.pool=t.virusPool,e}),hE,50),this.cellPool=new WA((function(){var e=new NU(t);return e.pool=t.cellPool,e}),dE,200),this.rps="-",this.sps="-",this.massfont=null,this.display=new uE.Container,this.stage=new uE.Container,this.stage.interactiveChildren=!1,this.Background=new QA,this.mapborders=new uE.Graphics,this.mapsectors=new uE.Sprite,this.mapbackground=new uE.Sprite,this.foodLayer=new uE.ParticleContainer(8192,{position:!0,tint:!0,scale:!1}),this.virusesRangesLayer=new uE.Container,this.playersLayer=new uE.Container,this.multiboxshieldLayer=new uE.Container,this.wavesLayer=new uE.Container,this.ringsLayer=new uE.ParticleContainer(2048,{position:!0,tint:!0,scale:!0,autoResize:!0,vertices:!0}),this.rangesLayer=new uE.ParticleContainer(2048,{position:!0,tint:!0,scale:!0}),this.cursorlinesLayer=new uE.Graphics,this.firstDrawQueue=[],this.frameCells=new Set,this.hexCache={},this.canvasTexturer=null,this.ctxTexturer=null,this.foodLayer.sortableChildren=!1,this.virusesRangesLayer.sortableChildren=!1,this.playersLayer.sortableChildren=!1,this.multiboxshieldLayer.sortableChildren=!1,this.wavesLayer.sortableChildren=!1,this.playersLayer.sortableChildren=!1}return cE(e,[{key:"setCursorPosition",value:pE},{key:"setCursorPositionKeepPos",value:mE},{key:"setZoom",value:vE},{key:"getZoom",value:yE},{key:"setView",value:gE},{key:"calcCameraBounds",value:bE},{key:"calcScale",value:wE},{key:"zIndexSortCellsLayer",value:kE},{key:"setCanvas",value:_E},{key:"setCanvasSmoothing",value:SE},{key:"setCanvasAntialiasing",value:CE},{key:"resizeCanvas",value:TE},{key:"updateQuadtree",value:xE},{key:"calcAutoScale",value:PE},{key:"reverseCheckView",value:ME},{key:"sleep",value:IE},{key:"updateScene",value:OE},{key:"renderFrame",value:RE},{key:"drawViewport",value:UE},{key:"drawPolygon",value:AE},{key:"poinInPolygon",value:EE},{key:"pointInCircle",value:LE},{key:"isInDisplay",value:FE},{key:"viewportInDisplay",value:jE},{key:"overlaps",value:DE},{key:"setAutoHideCellInfoNick",value:BE},{key:"setAutoHideCellInfoMass",value:zE},{key:"setVirusColor",value:NE},{key:"setVirusStrokeColor",value:HE},{key:"drawRing",value:GE},{key:"drawCanvasSectors",value:qE},{key:"drawSectors",value:XE},{key:"drawMapBorders",value:WE},{key:"drawVirusesRange",value:YE},{key:"drawFood",value:VE},{key:"drawCell",value:$E},{key:"drawCachedFood",value:KE},{key:"drawSplitRange",value:ZE},{key:"drawDoubleSplitRange",value:QE},{key:"drawTripleSplitRange",value:JE},{key:"drawOppRings",value:eL},{key:"drawCursorTracking",value:tL},{key:"drawCircles",value:nL},{key:"drawTeammatesInd",value:rL},{key:"drawWaves",value:oL},{key:"drawBattleroyaleArea",value:iL},{key:"drawDangerArea",value:aL},{key:"drawSafeArea",value:sL},{key:"drawDashedCircle",value:lL},{key:"drawGhostCells",value:cL},{key:"preDrawPellet",value:uL},{key:"preDrawCell",value:fL},{key:"preDrawIndicator",value:hL},{key:"render",value:dL},{key:"prepareFonts",value:pL},{key:"prepareScene",value:gL()},{key:"updateObjects",value:bL},{key:"onNewCell",value:wL},{key:"onRemoveCell",value:kL},{key:"onNewWave",value:_L},{key:"hex",value:SL},{key:"drawSkins",value:CL},{key:"redrawFoodColors",value:TL},{key:"initHK",value:xL},{key:"initEvents",value:PL},{key:"init",value:RL}]),e}());function AL(e){return(AL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DL(e,t,n){return t&&jL(e.prototype,t),n&&jL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zL(e,t)}function zL(e,t){return(zL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=GL(e);if(t){var o=GL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HL(this,n)}}function HL(e,t){if(t&&("object"===AL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function GL(e){return(GL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qL=window.preact,XL=qL.Component,WL=qL.render,YL=(qL.h,preactHooks),VL=(YL.useState,YL.useEffect),$L=YL.useRef;window.htm.bind(preact.h);function KL(){for(var e=[],t=0,n=Object.entries(Ob._selected);t<n.length;t++){var r=EL(n[t],2),o=r[0],i=r[1];this.props.profile.id===i&&e.push(Number(o)+1+"P")}this.setState({as:e.join("+")})}function ZL(e){var t=this.props.profile;Ob.selected[e]=t.id}function QL(e){var t=this,n=e.profile;function o(e,r,o){r!==n.id&&o!==n.id||t.recalcAs()}function i(e,r){t.setState({deletion:e===n.id})}function a(){return t.unlisten()}return VL((function(){return t.recalcAs(),t.listenTo(Ob.selected,"*",o),t.listenTo(Ob.state,"deletion",i),t.setState({deletion:n.id==Ob.state.deletion}),a}),[n.id]),preact.h("div",{class:"thumb"+(n.id==Ob.state.deletion?" selectedX":"")+(this.state.as?" selected":""),"data-as":this.state.as,onClick:function(){t.onclick(0)},onContextmenu:function(){t.onclick(1)}},preact.h("img",{src:Object(r.i)(n.skinURL)?n.skinURL:"assets/transparent.png"}))}var JL=function(e){BL(n,e);var t=NL(n);function n(){var e;return FL(this,n),(e=t.call(this)).state={as:"",deletion:!1},e}return DL(n,[{key:"recalcAs",value:KL},{key:"onclick",value:ZL},{key:"render",value:QL}]),n}(O);function eF(e){return e*Math.PI/180}function tF(){for(var e=eF,t=this.$thumbs.current.children,n=(t.length,Math.ceil(t.length/2)),r=Math.floor(t.length/2),o=Math.max(n,r)-1,i=e(45),a=e(90/(o+(o>r-1?-1:0))),s=e(-45),l=e(-90/o),c=n;c--;){var u=50+39.5*Math.cos(s),f=50-39.5*Math.sin(s);t[c].style="top: "+u+"%;left: "+f+"%;",s+=l}for(c=t.length;c-- >r;){u=50+39.5*Math.cos(i),f=50-39.5*Math.sin(i);t[c].style="top: "+u+"%;left: "+f+"%;",i+=a}}function nF(){var e=this;this.setState(null),this.listenTo(Ob.store,"add",(function(){return e.setState(e.state)})),this.listenTo(Ob.store,"remove",(function(){return e.setState(e.state)}))}function rF(){this.unlisten()}function oF(e,t){return preact.h(JL,{profile:e,index:t})}function iF(){var e=this;return this.$thumbs=$L(null),VL((function(){e.setPosition()})),preact.h("div",{class:"thumbs",ref:this.$thumbs},Object.values(Ob.store.all).reverse().map(oF))}var aF=function(e){BL(n,e);var t=NL(n);function n(){return FL(this,n),t.call(this)}return DL(n,[{key:"setPosition",value:tF},{key:"componentDidMount",value:nF},{key:"componentWillUnmount",value:rF},{key:"render",value:iF}]),n}(O);function sF(){var e=this,t=$L(null),n=$L(null);function o(e){return t.current.src=Object(r.i)(Ob.mainProfile.skinURL)?Ob.mainProfile.skinURL:"assets/transparent.png"}function i(e){return n.current.src=Object(r.i)(Ob.profileB.skinURL)?Ob.profileB.skinURL:"assets/transparent.png"}function a(t){return e.setState({})}function s(){return e.unlisten()}return VL((function(){return e.listenTo(Ob.mainProfile,"skinURL",o),e.listenTo(Ob.profileB,"skinURL",i),e.listenTo(r.o,"showMultiProfile",a),e.setState({}),s}),[]),preact.h("div",{class:"skin-preview "+(r.o.showMultiProfile?"double":"")},preact.h("div",{class:"skin-preview-B"},preact.h("img",{ref:t,src:Object(r.i)(Ob.mainProfile.skinURL)?Ob.mainProfile.skinURL:"assets/transparent.png"})),preact.h("div",{class:"skin-preview-A"},preact.h("img",{ref:n,src:Object(r.i)(Ob.profileB.skinURL)?Ob.profileB.skinURL:"assets/transparent.png"})))}var lF=function(e){BL(n,e);var t=NL(n);function n(){return FL(this,n),t.call(this)}return DL(n,[{key:"render",value:sF}]),n}(O);function cF(e){Ob.state.deletion=e?Ob.selected[0]||"err":""}function uF(e){return e.preventDefault()}function fF(){return Ob.addProfile()}function hF(){Ob.remProfile()}function dF(){var e=this;return preact.h("div",{onContextmenu:uF,class:"frows content-center",style:"\n            justify-content: center;\n            align-items: center;\n            display: flex;\n            width: 100%; \n            height: 200px;\n            overflow: hidden;\n            position: relative;"},preact.h("div",{class:"frows w100",style:"justify-content: center; display: flex; height:250px; position: relative;"},preact.h("div",{class:"skin-center column-center justify-center"},preact.h("div",{class:"skin-left"})),preact.h(lF,null),preact.h(aF,null)),preact.h("div",{class:"skin-dial-bar"},preact.h("div",{onClick:fF,class:"btn size-small mr0",style:"height: 18px; width:100%"},preact.h("div",{class:"btn-layer"},preact.h("div",{class:"fas fa-plus-square"}))),preact.h("div",{onMouseEnter:function(){return e.highlightDeletion(1)},onMouseLeave:function(){return e.highlightDeletion(0)},onClick:hF,class:"btn size-small mr0",style:"height: 18px; width:100%"},preact.h("div",{class:"btn-layer"},preact.h("div",{class:"fas fa-minus-square"})))))}var pF=function(e){BL(n,e);var t=NL(n);function n(){return FL(this,n),t.call(this)}return DL(n,[{key:"highlightDeletion",value:cF},{key:"render",value:dF}]),n}(XL);function mF(e){if(Ob.getfancyLength(e.value)>15){var t=e.selectionEnd,n=Array.from(e.value);n.splice(t-(e.value.length-15),e.value.length-15),e.value=n.join(""),e.selectionEnd=e.selectionStart=t-1+(e.value.length-15)}}function vF(e){Object(r.i)(e.value)||""==e.value?e.classList.remove("input-wrong"):e.classList.add("input-wrong")}function yF(e){Ob.mainProfile.clanTag=e.target.value,Ob.formToStore(Ob.mainProfile)}function gF(e){return r.o.hideUserForms=!r.o.hideUserForms}function bF(){var e=this;function t(t){return e.$clantag.current.value=Ob.mainProfile.clanTag}function n(t){return e.$nick0.current.value=Ob.mainProfile.nick}function o(t){return e.$nick1.current.value=Ob.profileB.nick}function i(t){e.$skin0.current.value=Ob.mainProfile.skinURL,e.validateSkinInput(e.$skin0.current)}function a(t){e.$skin1.current.value=Ob.profileB.skinURL,e.validateSkinInput(e.$skin1.current)}function s(t){return e.setState({})}function l(){e.validateSkinInput(e.$skin0.current),e.validateSkinInput(e.$skin1.current)}function c(){return e.unlisten()}return this.$clantag=$L(null),this.$nick0=$L(null),this.$nick1=$L(null),this.$skin0=$L(null),this.$skin1=$L(null),VL((function(){return e.listenTo(Ob.mainProfile,"clanTag",t),e.listenTo(Ob.mainProfile,"nick",n),e.listenTo(Ob.profileB,"nick",o),e.listenTo(Ob.mainProfile,"skinURL",i),e.listenTo(Ob.profileB,"skinURL",a),e.listenTo(r.o,"showMultiProfile",s),e.setState({}),setTimeout(l,100),c}),[]),[preact.h("div",{class:"container gy-1"},preact.h("div",{class:"row"},preact.h("div",{class:"col-3"},preact.h("div",{class:"input-box size-medium"},preact.h("input",{ref:this.$clantag,value:Ob.mainProfile.clanTag,onChange:yF,class:"user-form input",type:"search",autocomplete:"off",maxlength:"10",placeholder:"Tag"}))),preact.h("div",{class:"col"},preact.h("div",{class:"input-box size-medium w100"},preact.h("input",{ref:this.$nick0,value:Ob.mainProfile.nick,onInput:function(t){e.handleNickLength(e.$nick0.current),Ob.mainProfile.nick=t.target.value,Ob.formToStore(Ob.mainProfile)},class:"user-form input",type:"search",autocomplete:"off",placeholder:"Nick"}))),preact.h("div",{class:"col "+(r.o.showMultiProfile?"visible":"hidden")},preact.h("div",{class:"input-box size-medium w100"},preact.h("input",{ref:this.$nick1,value:Ob.profileB.nick,onInput:function(t){e.handleNickLength(e.$nick1.current),Ob.profileB.nick=t.target.value,Ob.formToStore(Ob.profileB)},class:"user-form input",type:"search",autocomplete:"off",placeholder:"Nick"}))))),preact.h("div",{class:"container gy-1"},preact.h("div",{class:"row"},preact.h("div",{class:"col"},preact.h("div",{class:"input-box size-small grow",role:"tooltip","data-microtip-position":"left"},preact.h("tty",null,preact.h("a",{href:"https://imgur.com/t/agario_skins",target:"_blank"},"=Free skins=")),preact.h("input",{ref:this.$skin0,value:Ob.mainProfile.skinURL,onInput:function(t){Ob.mainProfile.skinURL=t.target.value,Ob.formToStore(Ob.mainProfile),e.validateSkinInput(t.target)},class:"user-form input",type:"search",id:"skin",maxlength:"50",autocomplete:"off",placeholder:"Custom Skin"}))),preact.h("div",{class:"col "+(r.o.showMultiProfile?"visible":"hidden")},preact.h("div",{class:"input-box size-small grow",role:"tooltip","data-microtip-position":"left"},preact.h("tty",null,preact.h("a",{href:"https://imgur.com/t/agario_skins",target:"_blank"},"=Free skins=")),preact.h("input",{ref:this.$skin1,value:Ob.profileB.skinURL,onInput:function(t){Ob.profileB.skinURL=t.target.value,Ob.formToStore(Ob.profileB),e.validateSkinInput(t.target)},class:"user-form input",type:"search",id:"skinB",maxlength:"50",autocomplete:"off",placeholder:"Custom Skin"}))),preact.h("div",{class:"col-3"},preact.h("div",{id:"toggleForms",onClick:gF,class:"col btn size-small",style:"flex: 0 1 20%;"},preact.h("div",{class:"btn-layer"},"Hide")))))]}var wF=function(e){BL(n,e);var t=NL(n);function n(){return FL(this,n),t.call(this)}return DL(n,[{key:"handleNickLength",value:mF},{key:"validateSkinInput",value:vF},{key:"render",value:bF}]),n}(O);function kF(e){return(kF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CF(e,t,n){return t&&SF(e.prototype,t),n&&SF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xF(e,t)}function xF(e,t){return(xF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=OF(e);if(t){var o=OF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MF(this,n)}}function MF(e,t){if(t&&("object"===kF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IF(e)}function IF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OF(e){return(OF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}WL(preact.h(pF,null),document.getElementById("profiles")),WL(preact.h(wF,null),document.getElementById("profile-inputs")),Ob.init();preactHooks;var RF=preact.Component,UF=preact.render;preact.createRef,htm.bind(preact.h);preact.createContext();function AF(e,t,n,r){e[r?"once":"on"](t,n);var o=[e,t,n];return this.evs.push(o),o}function EF(e){if(e){var t=e[0],n=e[1],r=e[2];t.removeListener(n,r);var o=this.evs.indexOf(e);~o&&this.evs.splice(o,1)}else for(var i=0;this.evs.length>i;i++){var a=this.evs[i][0],s=this.evs[i][1],l=this.evs[i][2];a.removeListener(s,l);var c=this.evs.indexOf(this.evs[i]);~c&&this.evs.splice(c,1)}}function LF(){this.setState(this.state)}function FF(){this.setState(this.state)}function jF(e,t){var n=this;if(e.client!==this.client){this.unlisten(),this.client=e.client;var r=this.client.mobileData;this.listenTo(r.UserWallet,"coin",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_2x_1h",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_2x_24h",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_3x_1h",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_3x_24h",(function(){return n.setState(n.state)})),this.listenTo(r.state,"loggedIn",(function(){return n.setState(n.state)})),this.listenTo(r.UserActiveQuests,"quest_activation_24h",(function(){return n.setState(n.state)})),this.listenTo(r,"dayliQuest-tick",(function(){return n.setState(n.state)}))}this.client.mobileData}function DF(e){var t=this;gtag("event","buyBoost",{send_to:"shop"});var n=this.client.mobileData;if(this.setState({waiting:!0}),n.UserWallet.amount(e)>0)n.activateBoostRequest(e);else{n.softPurchaseRequest("1_"+e);var r=n.UserWallet.once(e,(function(){t.setState({waiting:!1}),n.activateBoostRequest(e)}));MA((function(){t.setState({waiting:!1}),n.UserWallet.removeListener(e,r)}),1e4)}}function BF(){var e=this;gtag("event","buyQuest",{send_to:"shop"});var t=this.client.mobileData;this.setState({waiting:!0}),0==t.duration("dailyQuest")?t.activateTimedEventRequest("dailyQuest"):t.softPurchaseRequest("1_quest_activation_24h");var n=t.UserWallet.once("quest_activation_24h",(function(){e.setState({waiting:!1}),t.activateQuestRequest("quest_activation_24h")}));MA((function(){e.setState({waiting:!1}),t.UserWallet.removeListener("quest_activation_24h",n)}),5e3)}function zF(e){var t=86400-e;return 90-5*Math.floor(t/7200)}function NF(e){return preact.h(nj,{seconds:e.expiresInSeconds})}function HF(e,t){var n,r=this,o=e.client.mobileData;if(o.state.loggedIn)return[preact.h("div",{class:"container g-1"},preact.h("div",{class:"row"},preact.h("div",{class:"gy-1 col-2",style:"width:2.8em;height:2.8em;  image-rendering: -webkit-optimize-contrast;"},preact.h("img",{style:"width: 100%;",class:"avatar",src:null===(n=o.userInfo.realmInfo)||void 0===n?void 0:n.avatarUrl})),preact.h("div",{class:"gy-1 col"},preact.h("div",null,preact.h("i",{class:"sp-currency"})," ",o.UserWallet.amount("coin")),preact.h("div",null,preact.h("i",{class:"sp-dna"})," ",o.UserWallet.amount("dna"))),preact.h("div",{class:"gy-1 col"},preact.h("div",null,preact.h("i",{class:"sp-cup"})," ",o.UserWallet.amount("trophy")),preact.h("div",null,preact.h("i",{class:"sp-exp"})," ",o.userInfo.level)))),preact.h("div",{class:"container gx-1"},preact.h("div",{class:"row"},preact.h("div",{class:"col-6"},preact.h("div",{class:"hoverflow frows grow"},preact.h("div",{class:"btn size-small"},preact.h("div",{class:"btn-layer"},"Mass boost ",Object.values(o.userBoostsData).map(NF))),this.state.waiting?"":preact.h("div",{class:"w3-dropdown-content w3-bar-block hoverflow-content",style:"min-width: max-content;"},preact.h("a",{href:"#",onClick:function(){return r.buyBoost("mass_boost_2x_1h")},class:"w3-bar-item w3-button"},preact.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost2x"}),"  1 hour  | ",o.UserWallet.amount("mass_boost_2x_1h")?o.UserWallet.amount("mass_boost_2x_1h")+" free":[preact.h("i",{class:"sp-currency"})," 290"]),preact.h("a",{href:"#",onClick:function(){return r.buyBoost("mass_boost_2x_24h")},class:"w3-bar-item w3-button"},preact.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost2x"})," 24 hours | ",o.UserWallet.amount("mass_boost_2x_24h")?o.UserWallet.amount("mass_boost_2x_24h")+" free":[preact.h("i",{class:"sp-currency"})," 790"]),preact.h("a",{href:"#",onClick:function(){return r.buyBoost("mass_boost_3x_1h")},class:"w3-bar-item w3-button"},preact.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost3x"}),"   1 hour  | ",o.UserWallet.amount("mass_boost_3x_1h")?o.UserWallet.amount("mass_boost_3x_1h")+" free":[preact.h("i",{class:"sp-currency"})," 490"]),preact.h("a",{href:"#",onClick:function(){return r.buyBoost("mass_boost_3x_24h")},class:"w3-bar-item w3-button"},preact.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost3x"})," 24 hours | ",o.UserWallet.amount("mass_boost_3x_24h")?o.UserWallet.amount("mass_boost_3x_24h")+" free":[preact.h("i",{class:"sp-currency"})," 990"])))),preact.h("div",{class:"col-6"},preact.h("div",{class:"hoverflow frows grow"},preact.h("div",{class:"btn size-small"},preact.h("div",{class:"btn-layer"},"Quest ",Object.values(o.UserActiveQuests.all).map((function(t){return preact.h(ZF,{quest:t,client:e.client})})))),preact.h("div",{class:"w3-dropdown-content w3-bar-block hoverflow-content",style:"min-width: max-content;"},o.UserActiveQuests.get("quest_activation_24h")||!0===this.state.waiting?"":0==o.duration("dailyQuest")?preact.h("a",{href:"#",onClick:function(){return r.buyQuest()},class:"w3-bar-item w3-button"},"Use quest!"):preact.h("a",{href:"#",onClick:function(){return r.buyQuest()},class:"w3-bar-item w3-button"},preact.h("i",{class:"sp-coin"})," ",this.getPriceForNextQuest(o.duration("dailyQuest")/1e3)," | ",preact.h(nj,{seconds:o.duration("dailyQuest")/1e3})," - Skip time"))))))]}var GF=function(e){TF(n,e);var t=PF(n);function n(){var e;return _F(this,n),(e=t.call(this)).evs=[],e.client=null,e.state={waiting:!1},e}return CF(n,[{key:"listenTo",value:AF},{key:"unlisten",value:EF},{key:"componentDidMount",value:LF},{key:"componentWillUnmount",value:FF},{key:"shouldComponentUpdate",value:jF},{key:"buyBoost",value:DF},{key:"buyQuest",value:BF},{key:"getPriceForNextQuest",value:zF},{key:"render",value:HF}]),n}(RF);function qF(e,t,n){this.evs.push([e,t,n]),e.on(t,n)}function XF(){for(var e=0;this.evs.length>e;e++){var t=this.evs[e][0],n=this.evs[e][1],r=this.evs[e][2];t.removeListener(n,r);var o=this.evs.indexOf(this.evs[e]);~o&&this.evs.splice(o,1)}}function WF(){this.setState(this.state)}function YF(){this.setState(this.state),this.unlisten()}function VF(e,t){var n=this;if(e.quest!==this.quest){this.unlisten(),this.client=e.client;this.client.mobileData;this.listenTo(e.quest,e.quest.ev.progress,(function(){n.setState(n.state)})),this.listenTo(e.quest,e.quest.ev.done,(function(){n.setState(n.state)}))}}function $F(e){return{top_position:"Reach top",highest_mass:"Reach mass",normal_cells_eaten:"Eat players",viruses_eaten:"Eat viruses",food_eaten:"Eat food"}[e]}function KF(e,t){var n=e.quest;return n.done?null:preact.h(nj,{seconds:n.expiresInSeconds})}var ZF=function(e){TF(n,e);var t=PF(n);function n(e){var r;return _F(this,n),(r=t.call(this)).evs=[],r.state={done:!1},r.client=null,r}return CF(n,[{key:"listenTo",value:qF},{key:"unlisten",value:XF},{key:"componentDidMount",value:WF},{key:"componentWillUnmount",value:YF},{key:"shouldComponentUpdate",value:VF},{key:"name",value:$F},{key:"render",value:KF}]),n}(RF);function QF(e){this._.options.ontick(e)}function JF(){this.timer.stop()}function ej(e,t){e.seconds}function tj(e){return this.state.text}var nj=function(e){TF(n,e);var t=PF(n);function n(e){var r,o=e.seconds;_F(this,n),(r=t.call(this)).state={text:new Date(1e3*o).toISOString().replace(/^.*(\d{2}:\d{2}:\d{2}).*/,"$1")};var i=IF(r);return r.timer=new Fe({tick:.9,ontick:function(e){i.setState({text:new Date(e).toISOString().replace(/^.*(\d{2}:\d{2}:\d{2}).*/,"$1")})},onstart:QF,onend:function(){i.setState({text:""})}}),r.timer.start(o),r}return CF(n,[{key:"componentWillUnmount",value:JF},{key:"componentWillUpdate",value:ej},{key:"render",value:tj}]),n}(RF);function rj(){}function oj(){}function ij(e){return preact.h(GF,{client:e})}function aj(e,t){var n=this;return preact.h("div",{class:"fcols grow hinherit ",onScroll:function(){return n.setState({scroll:n.base.scrollTop})},style:{fontSize:"80%",overflow:"auto","--scrollOffset":-this.state.scroll+"px"}},t.clients.map(ij))}var sj=function(e){TF(n,e);var t=PF(n);function n(){var e;_F(this,n),(e=t.call(this)).state={clients:[],scroll:0};return Ek.on("initClient",(function(t){try{n=t,e.state.clients.push(n),e.setState({clients:e.state.clients})}catch(e){}var n;t.on("removeEvents",(function(){try{!function(t){var n=e.state.clients.indexOf(t);~n&&e.state.clients.splice(n,1),e.setState({clients:e.state.clients})}(t)}catch(e){}}))})),Ek.on("swapEvent",(function(){try{e.setState({clients:e.state.clients})}catch(e){}})),Ek.on("custom",(function(t){t&&e.state.clients.reverse();try{e.setState({clients:e.state.clients})}catch(e){}})),e}return CF(n,[{key:"componentDidMount",value:rj},{key:"componentWillUnmount",value:oj},{key:"render",value:aj}]),n}(RF);function lj(e){return(lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fj(e,t,n){return t&&uj(e.prototype,t),n&&uj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dj(e,t)}function dj(e,t){return(dj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yj(e);if(t){var o=yj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(e,t){if(t&&("object"===lj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vj(e)}function vj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yj(e){return(yj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}UF(preact.h(sj,null),document.getElementById("agarioProfiles"));preactHooks.useState;var gj=preact.Component,bj=preact.render;preact.createRef,htm.bind(preact.h);function wj(e,t,n){this.evs.push([e,t,n]),e.on(t,n)}function kj(){for(var e=0;this.evs.length>e;e++){var t=this.evs[e][0],n=this.evs[e][1],r=this.evs[e][2];t.removeListener(n,r);var o=this.evs.indexOf(this.evs[e]);~o&&this.evs.splice(o,1)}}function _j(){this.setState(this.state)}function Sj(){this.setState(this.state),this.unlisten()}function Cj(e,t){var n=this;if(e.quest!==this.quest){this.unlisten(),this.client=e.client;this.client.mobileData;this.listenTo(e.quest,e.quest.ev.progress,(function(){n.setState(n.state)})),this.listenTo(e.quest,e.quest.ev.done,(function(){n.setState(n.state)}))}}function Tj(e){return{top_position:"Reach top",highest_mass:"Reach mass",normal_cells_eaten:"Eat players",viruses_eaten:"Eat viruses",food_eaten:"Eat food",time_total:"Stay alive"}[e]}function xj(e,t){var n=e.quest;return"time_total"==e.quest.type?[n.done?preact.h("i",{class:"fas fa-check"}):""," ",this.name(n.type)," ",new Date(n.progress).toISOString().replace(/^.*(\d{2}:\d{2}:\d{2}).*/,"$1")]:[n.done?preact.h("i",{class:"fas fa-check"}):""," ",this.name(n.type)," ",n.progress,"/",n.goal]}var Pj=function(e){hj(n,e);var t=pj(n);function n(e){var r;return cj(this,n),(r=t.call(this)).evs=[],r.state={done:!1},r.client=null,r}return fj(n,[{key:"listenTo",value:wj},{key:"unlisten",value:kj},{key:"componentDidMount",value:_j},{key:"componentWillUnmount",value:Sj},{key:"shouldComponentUpdate",value:Cj},{key:"name",value:Tj},{key:"render",value:xj}]),n}(gj);function Mj(e,t,n){this.evs.push([e,t,n]),e.on(t,n)}function Ij(){for(var e=0;this.evs.length>e;e++){var t=this.evs[e][0],n=this.evs[e][1],r=this.evs[e][2];t.removeListener(n,r);var o=this.evs.indexOf(this.evs[e]);~o&&this.evs.splice(o,1)}}function Oj(){this.setState(this.state)}function Rj(){this.unlisten()}function Uj(e,t){var n=this;if(e.client!==this.client){this.unlisten(),this.client=e.client;var r=this.client.mobileData;this.listenTo(r.UserActiveQuests,"quest_activation_24h",(function(){return n.setState(n.state)})),this.listenTo(r.state,"loggedIn",(function(){return n.setState(n.state)}))}this.client.mobileData}function Aj(e,t){var n,r=e.client.mobileData;if(!r.state.loggedIn)return"";var o=Object.values(r.UserActiveQuests.all);return 0===o.length||":ffa"!=this.client.gameMode?"":preact.h("div",{class:"frows"},preact.h("div",{class:"frows mr4",style:"width:1.5em;height:1.5em;"},preact.h("img",{style:"width: 100%;",class:"avatar",src:null===(n=r.userInfo.realmInfo)||void 0===n?void 0:n.avatarUrl})),preact.h("div",{class:"fcols mr4"},preact.h("div",null,o.map((function(t){return preact.h(Pj,{quest:t,client:e.client})})))))}var Ej=function(e){hj(n,e);var t=pj(n);function n(){var e;return cj(this,n),(e=t.call(this)).evs=[],e.client=null,e}return fj(n,[{key:"listenTo",value:Mj},{key:"unlisten",value:Ij},{key:"componentDidMount",value:Oj},{key:"componentWillUnmount",value:Rj},{key:"shouldComponentUpdate",value:Uj},{key:"render",value:Aj}]),n}(gj);function Lj(){}function Fj(){}function jj(e){return preact.h(Ej,{client:e})}function Dj(e,t){return t.clients.map(jj)}var Bj=function(e){hj(n,e);var t=pj(n);function n(){var e;cj(this,n),(e=t.call(this)).state={clients:[],scroll:0};return Ek.on("initClient",(function(t){try{n=t,e.state.clients.push(n),e.setState({clients:e.state.clients})}catch(e){}var n;t.on("removeEvents",(function(){try{!function(t){var n=e.state.clients.indexOf(t);~n&&e.state.clients.splice(n,1),e.setState({clients:e.state.clients})}(t)}catch(e){}}))})),Ek.on("swapEvent",(function(){try{e.setState({clients:e.state.clients})}catch(e){}})),Ek.on("custom",(function(t){t&&e.state.clients.reverse();try{e.setState({clients:e.state.clients})}catch(e){}})),e}return fj(n,[{key:"componentDidMount",value:Lj},{key:"componentWillUnmount",value:Fj},{key:"render",value:Dj}]),n}(gj);function zj(e){return(zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}bj(preact.h(Bj,null),document.getElementById("hud-quests"));var Nj="   ▓█████▄ ▓█████  ██▓  ▄▄▄█████▓ ▄▄▄      \n    ▒██▀ ██▌▓█   ▀ ▓██▒  ▓  ██▒ ▓▒▒████▄    \n    ░██   █▌▒███   ▒██░  ▒ ▓██░ ▒░▒██  ▀█▄  \n    ░▓█▄   ▌▒▓█  ▄ ▒██░  ░ ▓██▓ ░ ░██▄▄▄▄██ \n    ░▒████▓ ░▒████▒░██████▒▒██▒ ░  ▓█   ▓██▒\n     ▒▒▓  ▒ ░░ ▒░ ░░ ▒░▓  ░▒ ░░    ▒▒   ▓▒█░\n     ░ ▒  ▒  ░ ░  ░░ ░ ▒  ░  ░      ▒   ▒▒ ░\n     ░ ░  ░    ░     ░ ░   ░        ░   ▒   \n       ░       ░  ░    ░  ░             ░  ░\n     ░                                       ".split("\n"),Hj=(""+"".toString()).match(/.{35}.+?\s+|.+$/g);if(null!=Hj)for(var Gj=Math.floor(Math.max(0,(Nj.length-Hj.length)/2)),qj=0;qj<Nj.length||qj<Hj.length;qj++)Nj[qj]+=new Array(Math.max(0,45-Nj[qj].length)).join(" ")+(Hj[qj-Gj]||"");function Xj(){location.reload()}console.log("%c"+Nj.join("\n"),"\n    color: #9f12d9;\n    display: block;\n    text-shadow: rgb(217 20 20 / 72%) 0px 0px 5px;\n    text-align: center;\n    font-weight: bold;\n    font-family: monospace;\n    ","","".toString()+"\n"),window.Texture=i.a,Ct.init(),"object"===zj(X_)&&console.log(),"object"===zj(DS)&&console.log(),HM.start(),JM.initApplicationEvents(),0==r.o.renderer?(SR.init(),window.drawRender=SR):1==r.o.renderer&&(window.drawRender=UL,UL.init()),r.o.on("change:renderer",(function(){setTimeout(Xj,500)})),Ek.init(),JM.initRendererEvents(),mO.a.setMassUpdateInterval(),window.Texts=mO.a,window.Settings=Ct}]);